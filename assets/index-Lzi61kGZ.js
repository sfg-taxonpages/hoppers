var ey=Object.defineProperty;var ty=(e,t,n)=>t in e?ey(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ut=(e,t,n)=>ty(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Nd(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Wt={},Es=[],ir=()=>{},ny=()=>!1,hu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),zd=e=>e.startsWith("onUpdate:"),Sn=Object.assign,jd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},iy=Object.prototype.hasOwnProperty,Ht=(e,t)=>iy.call(e,t),ht=Array.isArray,Ms=e=>du(e)==="[object Map]",Is=e=>du(e)==="[object Set]",Gf=e=>du(e)==="[object Date]",bt=e=>typeof e=="function",un=e=>typeof e=="string",rr=e=>typeof e=="symbol",Jt=e=>e!==null&&typeof e=="object",tm=e=>(Jt(e)||bt(e))&&bt(e.then)&&bt(e.catch),nm=Object.prototype.toString,du=e=>nm.call(e),ry=e=>du(e).slice(8,-1),im=e=>du(e)==="[object Object]",Gd=e=>un(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,As=Nd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ec=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},oy=/-(\w)/g,Di=ec(e=>e.replace(oy,(t,n)=>n?n.toUpperCase():"")),sy=/\B([A-Z])/g,ro=ec(e=>e.replace(sy,"-$1").toLowerCase()),tc=ec(e=>e.charAt(0).toUpperCase()+e.slice(1)),kh=ec(e=>e?`on${tc(e)}`:""),to=(e,t)=>!Object.is(e,t),Ml=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},rm=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Fl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ay=e=>{const t=un(e)?Number(e):NaN;return isNaN(t)?e:t};let Vf;const om=()=>Vf||(Vf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Si(e){if(ht(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=un(r)?hy(r):Si(r);if(a)for(const o in a)t[o]=a[o]}return t}else if(un(e)||Jt(e))return e}const uy=/;(?![^(]*\))/g,ly=/:([^]+)/,cy=/\/\*[^]*?\*\//g;function hy(e){const t={};return e.replace(cy,"").split(uy).forEach(n=>{if(n){const r=n.split(ly);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function an(e){let t="";if(un(e))t=e;else if(ht(e))for(let n=0;n<e.length;n++){const r=an(e[n]);r&&(t+=r+" ")}else if(Jt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function nd(e){if(!e)return null;let{class:t,style:n}=e;return t&&!un(t)&&(e.class=an(t)),n&&(e.style=Si(n)),e}const dy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fy=Nd(dy);function sm(e){return!!e||e===""}function py(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=fu(e[r],t[r]);return n}function fu(e,t){if(e===t)return!0;let n=Gf(e),r=Gf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=rr(e),r=rr(t),n||r)return e===t;if(n=ht(e),r=ht(t),n||r)return n&&r?py(e,t):!1;if(n=Jt(e),r=Jt(t),n||r){if(!n||!r)return!1;const a=Object.keys(e).length,o=Object.keys(t).length;if(a!==o)return!1;for(const u in e){const d=e.hasOwnProperty(u),p=t.hasOwnProperty(u);if(d&&!p||!d&&p||!fu(e[u],t[u]))return!1}}return String(e)===String(t)}function Vd(e,t){return e.findIndex(n=>fu(n,t))}const am=e=>!!(e&&e.__v_isRef===!0),Ie=e=>un(e)?e:e==null?"":ht(e)||Jt(e)&&(e.toString===nm||!bt(e.toString))?am(e)?Ie(e.value):JSON.stringify(e,um,2):String(e),um=(e,t)=>am(t)?um(e,t.value):Ms(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],o)=>(n[Ch(r,o)+" =>"]=a,n),{})}:Is(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ch(n))}:rr(t)?Ch(t):Jt(t)&&!ht(t)&&!im(t)?String(t):t,Ch=(e,t="")=>{var n;return rr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yn;class lm{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Yn,!t&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Yn;try{return Yn=this,t()}finally{Yn=n}}}on(){Yn=this}off(){Yn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function cm(e){return new lm(e)}function hm(){return Yn}function my(e,t=!1){Yn&&Yn.cleanups.push(e)}let Xt;const wh=new WeakSet;class dm{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Yn&&Yn.active&&Yn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wh.has(this)&&(wh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||pm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hf(this),mm(this);const t=Xt,n=ji;Xt=this,ji=!0;try{return this.fn()}finally{_m(this),Xt=t,ji=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)$d(t);this.deps=this.depsTail=void 0,Hf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){id(this)&&this.run()}get dirty(){return id(this)}}let fm=0,Fa,Ia;function pm(e,t=!1){if(e.flags|=8,t){e.next=Ia,Ia=e;return}e.next=Fa,Fa=e}function Hd(){fm++}function Ud(){if(--fm>0)return;if(Ia){let t=Ia;for(Ia=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Fa;){let t=Fa;for(Fa=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function mm(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _m(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),$d(r),_y(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function id(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(gm(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function gm(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Za))return;e.globalVersion=Za;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!id(e)){e.flags&=-3;return}const n=Xt,r=ji;Xt=e,ji=!0;try{mm(e);const a=e.fn(e._value);(t.version===0||to(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Xt=n,ji=r,_m(e),e.flags&=-3}}function $d(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)$d(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function _y(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ji=!0;const ym=[];function oo(){ym.push(ji),ji=!1}function so(){const e=ym.pop();ji=e===void 0?!0:e}function Hf(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Xt;Xt=void 0;try{t()}finally{Xt=n}}}let Za=0;class gy{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qd{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Xt||!ji||Xt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Xt)n=this.activeLink=new gy(Xt,this),Xt.deps?(n.prevDep=Xt.depsTail,Xt.depsTail.nextDep=n,Xt.depsTail=n):Xt.deps=Xt.depsTail=n,bm(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Xt.depsTail,n.nextDep=void 0,Xt.depsTail.nextDep=n,Xt.depsTail=n,Xt.deps===n&&(Xt.deps=r)}return n}trigger(t){this.version++,Za++,this.notify(t)}notify(t){Hd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ud()}}}function bm(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)bm(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Il=new WeakMap,Do=Symbol(""),rd=Symbol(""),Ka=Symbol("");function qn(e,t,n){if(ji&&Xt){let r=Il.get(e);r||Il.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new qd),a.map=r,a.key=n),a.track()}}function Cr(e,t,n,r,a,o){const u=Il.get(e);if(!u){Za++;return}const d=p=>{p&&p.trigger()};if(Hd(),t==="clear")u.forEach(d);else{const p=ht(e),g=p&&Gd(n);if(p&&n==="length"){const y=Number(r);u.forEach((x,E)=>{(E==="length"||E===Ka||!rr(E)&&E>=y)&&d(x)})}else switch(n!==void 0&&d(u.get(n)),g&&d(u.get(Ka)),t){case"add":p?g&&d(u.get("length")):(d(u.get(Do)),Ms(e)&&d(u.get(rd)));break;case"delete":p||(d(u.get(Do)),Ms(e)&&d(u.get(rd)));break;case"set":Ms(e)&&d(u.get(Do));break}}Ud()}function yy(e,t){const n=Il.get(e);return n&&n.get(t)}function ys(e){const t=Nt(e);return t===e?t:(qn(t,"iterate",Ka),Bi(e)?t:t.map(Un))}function nc(e){return qn(e=Nt(e),"iterate",Ka),e}const by={__proto__:null,[Symbol.iterator](){return Lh(this,Symbol.iterator,Un)},concat(...e){return ys(this).concat(...e.map(t=>ht(t)?ys(t):t))},entries(){return Lh(this,"entries",e=>(e[1]=Un(e[1]),e))},every(e,t){return br(this,"every",e,t,void 0,arguments)},filter(e,t){return br(this,"filter",e,t,n=>n.map(Un),arguments)},find(e,t){return br(this,"find",e,t,Un,arguments)},findIndex(e,t){return br(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return br(this,"findLast",e,t,Un,arguments)},findLastIndex(e,t){return br(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return br(this,"forEach",e,t,void 0,arguments)},includes(...e){return Eh(this,"includes",e)},indexOf(...e){return Eh(this,"indexOf",e)},join(e){return ys(this).join(e)},lastIndexOf(...e){return Eh(this,"lastIndexOf",e)},map(e,t){return br(this,"map",e,t,void 0,arguments)},pop(){return Ma(this,"pop")},push(...e){return Ma(this,"push",e)},reduce(e,...t){return Uf(this,"reduce",e,t)},reduceRight(e,...t){return Uf(this,"reduceRight",e,t)},shift(){return Ma(this,"shift")},some(e,t){return br(this,"some",e,t,void 0,arguments)},splice(...e){return Ma(this,"splice",e)},toReversed(){return ys(this).toReversed()},toSorted(e){return ys(this).toSorted(e)},toSpliced(...e){return ys(this).toSpliced(...e)},unshift(...e){return Ma(this,"unshift",e)},values(){return Lh(this,"values",Un)}};function Lh(e,t,n){const r=nc(e),a=r[t]();return r!==e&&!Bi(e)&&(a._next=a.next,a.next=()=>{const o=a._next();return o.value&&(o.value=n(o.value)),o}),a}const vy=Array.prototype;function br(e,t,n,r,a,o){const u=nc(e),d=u!==e&&!Bi(e),p=u[t];if(p!==vy[t]){const x=p.apply(e,o);return d?Un(x):x}let g=n;u!==e&&(d?g=function(x,E){return n.call(this,Un(x),E,e)}:n.length>2&&(g=function(x,E){return n.call(this,x,E,e)}));const y=p.call(u,g,r);return d&&a?a(y):y}function Uf(e,t,n,r){const a=nc(e);let o=n;return a!==e&&(Bi(e)?n.length>3&&(o=function(u,d,p){return n.call(this,u,d,p,e)}):o=function(u,d,p){return n.call(this,u,Un(d),p,e)}),a[t](o,...r)}function Eh(e,t,n){const r=Nt(e);qn(r,"iterate",Ka);const a=r[t](...n);return(a===-1||a===!1)&&Jd(n[0])?(n[0]=Nt(n[0]),r[t](...n)):a}function Ma(e,t,n=[]){oo(),Hd();const r=Nt(e)[t].apply(e,n);return Ud(),so(),r}const xy=Nd("__proto__,__v_isRef,__isVue"),vm=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(rr));function ky(e){rr(e)||(e=String(e));const t=Nt(this);return qn(t,"has",e),t.hasOwnProperty(e)}class xm{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const a=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(a?o?Oy:Lm:o?wm:Cm).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const u=ht(t);if(!a){let p;if(u&&(p=by[n]))return p;if(n==="hasOwnProperty")return ky}const d=Reflect.get(t,n,_n(t)?t:r);return(rr(n)?vm.has(n):xy(n))||(a||qn(t,"get",n),o)?d:_n(d)?u&&Gd(n)?d:d.value:Jt(d)?a?Mm(d):pu(d):d}}class km extends xm{constructor(t=!1){super(!1,t)}set(t,n,r,a){let o=t[n];if(!this._isShallow){const p=No(o);if(!Bi(r)&&!No(r)&&(o=Nt(o),r=Nt(r)),!ht(t)&&_n(o)&&!_n(r))return p?!1:(o.value=r,!0)}const u=ht(t)&&Gd(n)?Number(n)<t.length:Ht(t,n),d=Reflect.set(t,n,r,_n(t)?t:a);return t===Nt(a)&&(u?to(r,o)&&Cr(t,"set",n,r):Cr(t,"add",n,r)),d}deleteProperty(t,n){const r=Ht(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&Cr(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!rr(n)||!vm.has(n))&&qn(t,"has",n),r}ownKeys(t){return qn(t,"iterate",ht(t)?"length":Do),Reflect.ownKeys(t)}}class Cy extends xm{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const wy=new km,Ly=new Cy,Ey=new km(!0);const Zd=e=>e,ic=e=>Reflect.getPrototypeOf(e);function ml(e,t,n=!1,r=!1){e=e.__v_raw;const a=Nt(e),o=Nt(t);n||(to(t,o)&&qn(a,"get",t),qn(a,"get",o));const{has:u}=ic(a),d=r?Zd:n?Xd:Un;if(u.call(a,t))return d(e.get(t));if(u.call(a,o))return d(e.get(o));e!==a&&e.get(t)}function _l(e,t=!1){const n=this.__v_raw,r=Nt(n),a=Nt(e);return t||(to(e,a)&&qn(r,"has",e),qn(r,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function gl(e,t=!1){return e=e.__v_raw,!t&&qn(Nt(e),"iterate",Do),Reflect.get(e,"size",e)}function $f(e,t=!1){!t&&!Bi(e)&&!No(e)&&(e=Nt(e));const n=Nt(this);return ic(n).has.call(n,e)||(n.add(e),Cr(n,"add",e,e)),this}function qf(e,t,n=!1){!n&&!Bi(t)&&!No(t)&&(t=Nt(t));const r=Nt(this),{has:a,get:o}=ic(r);let u=a.call(r,e);u||(e=Nt(e),u=a.call(r,e));const d=o.call(r,e);return r.set(e,t),u?to(t,d)&&Cr(r,"set",e,t):Cr(r,"add",e,t),this}function Zf(e){const t=Nt(this),{has:n,get:r}=ic(t);let a=n.call(t,e);a||(e=Nt(e),a=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return a&&Cr(t,"delete",e,void 0),o}function Kf(){const e=Nt(this),t=e.size!==0,n=e.clear();return t&&Cr(e,"clear",void 0,void 0),n}function yl(e,t){return function(r,a){const o=this,u=o.__v_raw,d=Nt(u),p=t?Zd:e?Xd:Un;return!e&&qn(d,"iterate",Do),u.forEach((g,y)=>r.call(a,p(g),p(y),o))}}function bl(e,t,n){return function(...r){const a=this.__v_raw,o=Nt(a),u=Ms(o),d=e==="entries"||e===Symbol.iterator&&u,p=e==="keys"&&u,g=a[e](...r),y=n?Zd:t?Xd:Un;return!t&&qn(o,"iterate",p?rd:Do),{next(){const{value:x,done:E}=g.next();return E?{value:x,done:E}:{value:d?[y(x[0]),y(x[1])]:y(x),done:E}},[Symbol.iterator](){return this}}}}function jr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function My(){const e={get(o){return ml(this,o)},get size(){return gl(this)},has:_l,add:$f,set:qf,delete:Zf,clear:Kf,forEach:yl(!1,!1)},t={get(o){return ml(this,o,!1,!0)},get size(){return gl(this)},has:_l,add(o){return $f.call(this,o,!0)},set(o,u){return qf.call(this,o,u,!0)},delete:Zf,clear:Kf,forEach:yl(!1,!0)},n={get(o){return ml(this,o,!0)},get size(){return gl(this,!0)},has(o){return _l.call(this,o,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:yl(!0,!1)},r={get(o){return ml(this,o,!0,!0)},get size(){return gl(this,!0)},has(o){return _l.call(this,o,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:yl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=bl(o,!1,!1),n[o]=bl(o,!0,!1),t[o]=bl(o,!1,!0),r[o]=bl(o,!0,!0)}),[e,n,t,r]}const[Ay,Sy,By,Py]=My();function Kd(e,t){const n=t?e?Py:By:e?Sy:Ay;return(r,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Ht(n,a)&&a in r?n:r,a,o)}const Dy={get:Kd(!1,!1)},Ty={get:Kd(!1,!0)},Ry={get:Kd(!0,!1)};const Cm=new WeakMap,wm=new WeakMap,Lm=new WeakMap,Oy=new WeakMap;function Fy(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Iy(e){return e.__v_skip||!Object.isExtensible(e)?0:Fy(ry(e))}function pu(e){return No(e)?e:Wd(e,!1,wy,Dy,Cm)}function Em(e){return Wd(e,!1,Ey,Ty,wm)}function Mm(e){return Wd(e,!0,Ly,Ry,Lm)}function Wd(e,t,n,r,a){if(!Jt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const u=Iy(e);if(u===0)return e;const d=new Proxy(e,u===2?r:n);return a.set(e,d),d}function wr(e){return No(e)?wr(e.__v_raw):!!(e&&e.__v_isReactive)}function No(e){return!!(e&&e.__v_isReadonly)}function Bi(e){return!!(e&&e.__v_isShallow)}function Jd(e){return e?!!e.__v_raw:!1}function Nt(e){const t=e&&e.__v_raw;return t?Nt(t):e}function Yd(e){return!Ht(e,"__v_skip")&&Object.isExtensible(e)&&rm(e,"__v_skip",!0),e}const Un=e=>Jt(e)?pu(e):e,Xd=e=>Jt(e)?Mm(e):e;function _n(e){return e?e.__v_isRef===!0:!1}function Ze(e){return Am(e,!1)}function Ny(e){return Am(e,!0)}function Am(e,t){return _n(e)?e:new zy(e,t)}class zy{constructor(t,n){this.dep=new qd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Nt(t),this._value=n?t:Un(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Bi(t)||No(t);t=r?t:Nt(t),to(t,n)&&(this._rawValue=t,this._value=r?t:Un(t),this.dep.trigger())}}function ze(e){return _n(e)?e.value:e}const jy={get:(e,t,n)=>t==="__v_raw"?e:ze(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return _n(a)&&!_n(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function Sm(e){return wr(e)?e:new Proxy(e,jy)}function Gy(e){const t=ht(e)?new Array(e.length):{};for(const n in e)t[n]=Hy(e,n);return t}class Vy{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return yy(Nt(this._object),this._key)}}function Hy(e,t,n){const r=e[t];return _n(r)?r:new Vy(e,t,n)}class Uy{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new qd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Za-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Xt!==this)return pm(this,!0),!0}get value(){const t=this.dep.track();return gm(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $y(e,t,n=!1){let r,a;return bt(e)?r=e:(r=e.get,a=e.set),new Uy(r,a,n)}const vl={},Nl=new WeakMap;let Ao;function qy(e,t=!1,n=Ao){if(n){let r=Nl.get(n);r||Nl.set(n,r=[]),r.push(e)}}function Zy(e,t,n=Wt){const{immediate:r,deep:a,once:o,scheduler:u,augmentJob:d,call:p}=n,g=Z=>a?Z:Bi(Z)||a===!1||a===0?kr(Z,1):kr(Z);let y,x,E,A,B=!1,j=!1;if(_n(e)?(x=()=>e.value,B=Bi(e)):wr(e)?(x=()=>g(e),B=!0):ht(e)?(j=!0,B=e.some(Z=>wr(Z)||Bi(Z)),x=()=>e.map(Z=>{if(_n(Z))return Z.value;if(wr(Z))return g(Z);if(bt(Z))return p?p(Z,2):Z()})):bt(e)?t?x=p?()=>p(e,2):e:x=()=>{if(E){oo();try{E()}finally{so()}}const Z=Ao;Ao=y;try{return p?p(e,3,[A]):e(A)}finally{Ao=Z}}:x=ir,t&&a){const Z=x,re=a===!0?1/0:a;x=()=>kr(Z(),re)}const Q=hm(),se=()=>{y.stop(),Q&&jd(Q.effects,y)};if(o&&t){const Z=t;t=(...re)=>{Z(...re),se()}}let te=j?new Array(e.length).fill(vl):vl;const z=Z=>{if(!(!(y.flags&1)||!y.dirty&&!Z))if(t){const re=y.run();if(a||B||(j?re.some((ye,De)=>to(ye,te[De])):to(re,te))){E&&E();const ye=Ao;Ao=y;try{const De=[re,te===vl?void 0:j&&te[0]===vl?[]:te,A];p?p(t,3,De):t(...De),te=re}finally{Ao=ye}}}else y.run()};return d&&d(z),y=new dm(x),y.scheduler=u?()=>u(z,!1):z,A=Z=>qy(Z,!1,y),E=y.onStop=()=>{const Z=Nl.get(y);if(Z){if(p)p(Z,4);else for(const re of Z)re();Nl.delete(y)}},t?r?z(!0):te=y.run():u?u(z.bind(null,!0),!0):y.run(),se.pause=y.pause.bind(y),se.resume=y.resume.bind(y),se.stop=se,se}function kr(e,t=1/0,n){if(t<=0||!Jt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,_n(e))kr(e.value,t,n);else if(ht(e))for(let r=0;r<e.length;r++)kr(e[r],t,n);else if(Is(e)||Ms(e))e.forEach(r=>{kr(r,t,n)});else if(im(e)){for(const r in e)kr(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&kr(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mu(e,t,n,r){try{return r?e(...r):e()}catch(a){rc(a,t,n)}}function Gi(e,t,n,r){if(bt(e)){const a=mu(e,t,n,r);return a&&tm(a)&&a.catch(o=>{rc(o,t,n)}),a}if(ht(e)){const a=[];for(let o=0;o<e.length;o++)a.push(Gi(e[o],t,n,r));return a}}function rc(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||Wt;if(t){let d=t.parent;const p=t.proxy,g=`https://vuejs.org/error-reference/#runtime-${n}`;for(;d;){const y=d.ec;if(y){for(let x=0;x<y.length;x++)if(y[x](e,p,g)===!1)return}d=d.parent}if(o){oo(),mu(o,null,10,[e,p,g]),so();return}}Ky(e,n,a,r,u)}function Ky(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const Xn=[];let Qi=-1;const Ss=[];let Zr=null,Cs=0;const Bm=Promise.resolve();let zl=null;function _u(e){const t=zl||Bm;return e?t.then(this?e.bind(this):e):t}function Wy(e){let t=Qi+1,n=Xn.length;for(;t<n;){const r=t+n>>>1,a=Xn[r],o=Wa(a);o<e||o===e&&a.flags&2?t=r+1:n=r}return t}function Qd(e){if(!(e.flags&1)){const t=Wa(e),n=Xn[Xn.length-1];!n||!(e.flags&2)&&t>=Wa(n)?Xn.push(e):Xn.splice(Wy(t),0,e),e.flags|=1,Pm()}}function Pm(){zl||(zl=Bm.then(Dm))}function Jy(e){ht(e)?Ss.push(...e):Zr&&e.id===-1?Zr.splice(Cs+1,0,e):e.flags&1||(Ss.push(e),e.flags|=1),Pm()}function Wf(e,t,n=Qi+1){for(;n<Xn.length;n++){const r=Xn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Xn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function jl(e){if(Ss.length){const t=[...new Set(Ss)].sort((n,r)=>Wa(n)-Wa(r));if(Ss.length=0,Zr){Zr.push(...t);return}for(Zr=t,Cs=0;Cs<Zr.length;Cs++){const n=Zr[Cs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Zr=null,Cs=0}}const Wa=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Dm(e){try{for(Qi=0;Qi<Xn.length;Qi++){const t=Xn[Qi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),mu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Qi<Xn.length;Qi++){const t=Xn[Qi];t&&(t.flags&=-2)}Qi=-1,Xn.length=0,jl(),zl=null,(Xn.length||Ss.length)&&Dm()}}let An=null,Tm=null;function Gl(e){const t=An;return An=e,Tm=e&&e.type.__scopeId||null,t}function ie(e,t=An,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&ap(-1);const o=Gl(t);let u;try{u=e(...a)}finally{Gl(o),r._d&&ap(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function Fn(e,t){if(An===null)return e;const n=lc(An),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,u,d,p=Wt]=t[a];o&&(bt(o)&&(o={mounted:o,updated:o}),o.deep&&kr(u),r.push({dir:o,instance:n,value:u,oldValue:void 0,arg:d,modifiers:p}))}return e}function er(e,t,n,r){const a=e.dirs,o=t&&t.dirs;for(let u=0;u<a.length;u++){const d=a[u];o&&(d.oldValue=o[u].value);let p=d.dir[r];p&&(oo(),Gi(p,n,8,[e.el,d,e,t]),so())}}const Yy=Symbol("_vte"),Rm=e=>e.__isTeleport,Kr=Symbol("_leaveCb"),xl=Symbol("_enterCb");function Xy(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return bn(()=>{e.isMounted=!0}),or(()=>{e.isUnmounting=!0}),e}const Ei=[Function,Array],Om={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ei,onEnter:Ei,onAfterEnter:Ei,onEnterCancelled:Ei,onBeforeLeave:Ei,onLeave:Ei,onAfterLeave:Ei,onLeaveCancelled:Ei,onBeforeAppear:Ei,onAppear:Ei,onAfterAppear:Ei,onAppearCancelled:Ei},Fm=e=>{const t=e.subTree;return t.component?Fm(t.component):t},Qy={name:"BaseTransition",props:Om,setup(e,{slots:t}){const n=m_(),r=Xy();return()=>{const a=t.default&&zm(t.default(),!0);if(!a||!a.length)return;const o=Im(a),u=Nt(e),{mode:d}=u;if(r.isLeaving)return Mh(o);const p=Jf(o);if(!p)return Mh(o);let g=od(p,u,r,n,E=>g=E);p.type!==$n&&Ja(p,g);const y=n.subTree,x=y&&Jf(y);if(x&&x.type!==$n&&!So(p,x)&&Fm(n).type!==$n){const E=od(x,u,r,n);if(Ja(x,E),d==="out-in"&&p.type!==$n)return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete E.afterLeave},Mh(o);d==="in-out"&&p.type!==$n&&(E.delayLeave=(A,B,j)=>{const Q=Nm(r,x);Q[String(x.key)]=x,A[Kr]=()=>{B(),A[Kr]=void 0,delete g.delayedLeave},g.delayedLeave=j})}return o}}};function Im(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==$n){t=n;break}}return t}const eb=Qy;function Nm(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function od(e,t,n,r,a){const{appear:o,mode:u,persisted:d=!1,onBeforeEnter:p,onEnter:g,onAfterEnter:y,onEnterCancelled:x,onBeforeLeave:E,onLeave:A,onAfterLeave:B,onLeaveCancelled:j,onBeforeAppear:Q,onAppear:se,onAfterAppear:te,onAppearCancelled:z}=t,Z=String(e.key),re=Nm(n,e),ye=(we,Te)=>{we&&Gi(we,r,9,Te)},De=(we,Te)=>{const Ve=Te[1];ye(we,Te),ht(we)?we.every(Pe=>Pe.length<=1)&&Ve():we.length<=1&&Ve()},Re={mode:u,persisted:d,beforeEnter(we){let Te=p;if(!n.isMounted)if(o)Te=Q||p;else return;we[Kr]&&we[Kr](!0);const Ve=re[Z];Ve&&So(e,Ve)&&Ve.el[Kr]&&Ve.el[Kr](),ye(Te,[we])},enter(we){let Te=g,Ve=y,Pe=x;if(!n.isMounted)if(o)Te=se||g,Ve=te||y,Pe=z||x;else return;let ot=!1;const gt=we[xl]=At=>{ot||(ot=!0,At?ye(Pe,[we]):ye(Ve,[we]),Re.delayedLeave&&Re.delayedLeave(),we[xl]=void 0)};Te?De(Te,[we,gt]):gt()},leave(we,Te){const Ve=String(e.key);if(we[xl]&&we[xl](!0),n.isUnmounting)return Te();ye(E,[we]);let Pe=!1;const ot=we[Kr]=gt=>{Pe||(Pe=!0,Te(),gt?ye(j,[we]):ye(B,[we]),we[Kr]=void 0,re[Ve]===e&&delete re[Ve])};re[Ve]=e,A?De(A,[we,ot]):ot()},clone(we){const Te=od(we,t,n,r,a);return a&&a(Te),Te}};return Re}function Mh(e){if(oc(e))return e=no(e),e.children=null,e}function Jf(e){if(!oc(e))return Rm(e.type)&&e.children?Im(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&bt(n.default))return n.default()}}function Ja(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ja(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zm(e,t=!1,n){let r=[],a=0;for(let o=0;o<e.length;o++){let u=e[o];const d=n==null?u.key:String(n)+String(u.key!=null?u.key:o);u.type===Ge?(u.patchFlag&128&&a++,r=r.concat(zm(u.children,t,d))):(t||u.type!==$n)&&r.push(d!=null?no(u,{key:d}):u)}if(a>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Rt(e,t){return bt(e)?Sn({name:e.name},t,{setup:e}):e}function jm(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Vl(e,t,n,r,a=!1){if(ht(e)){e.forEach((B,j)=>Vl(B,t&&(ht(t)?t[j]:t),n,r,a));return}if(To(r)&&!a)return;const o=r.shapeFlag&4?lc(r.component):r.el,u=a?null:o,{i:d,r:p}=e,g=t&&t.r,y=d.refs===Wt?d.refs={}:d.refs,x=d.setupState,E=Nt(x),A=x===Wt?()=>!1:B=>Ht(E,B);if(g!=null&&g!==p&&(un(g)?(y[g]=null,A(g)&&(x[g]=null)):_n(g)&&(g.value=null)),bt(p))mu(p,d,12,[u,y]);else{const B=un(p),j=_n(p);if(B||j){const Q=()=>{if(e.f){const se=B?A(p)?x[p]:y[p]:p.value;a?ht(se)&&jd(se,o):ht(se)?se.includes(o)||se.push(o):B?(y[p]=[o],A(p)&&(x[p]=y[p])):(p.value=[o],e.k&&(y[e.k]=p.value))}else B?(y[p]=u,A(p)&&(x[p]=u)):j&&(p.value=u,e.k&&(y[e.k]=u))};u?(Q.id=-1,pi(Q,n)):Q()}}}let Yf=!1;const bs=()=>{Yf||(console.error("Hydration completed but contains mismatches."),Yf=!0)},tb=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",nb=e=>e.namespaceURI.includes("MathML"),kl=e=>{if(e.nodeType===1){if(tb(e))return"svg";if(nb(e))return"mathml"}},Cl=e=>e.nodeType===8;function ib(e){const{mt:t,p:n,o:{patchProp:r,createText:a,nextSibling:o,parentNode:u,remove:d,insert:p,createComment:g}}=e,y=(z,Z)=>{if(!Z.hasChildNodes()){n(null,z,Z),jl(),Z._vnode=z;return}x(Z.firstChild,z,null,null,null),jl(),Z._vnode=z},x=(z,Z,re,ye,De,Re=!1)=>{Re=Re||!!Z.dynamicChildren;const we=Cl(z)&&z.data==="[",Te=()=>j(z,Z,re,ye,De,we),{type:Ve,ref:Pe,shapeFlag:ot,patchFlag:gt}=Z;let At=z.nodeType;Z.el=z,gt===-2&&(Re=!1,Z.dynamicChildren=null);let Ue=null;switch(Ve){case Oo:At!==3?Z.children===""?(p(Z.el=a(""),u(z),z),Ue=z):Ue=Te():(z.data!==Z.children&&(bs(),z.data=Z.children),Ue=o(z));break;case $n:te(z)?(Ue=o(z),se(Z.el=z.content.firstChild,z,re)):At!==8||we?Ue=Te():Ue=o(z);break;case za:if(we&&(z=o(z),At=z.nodeType),At===1||At===3){Ue=z;const it=!Z.children.length;for(let Me=0;Me<Z.staticCount;Me++)it&&(Z.children+=Ue.nodeType===1?Ue.outerHTML:Ue.data),Me===Z.staticCount-1&&(Z.anchor=Ue),Ue=o(Ue);return we?o(Ue):Ue}else Te();break;case Ge:we?Ue=B(z,Z,re,ye,De,Re):Ue=Te();break;default:if(ot&1)(At!==1||Z.type.toLowerCase()!==z.tagName.toLowerCase())&&!te(z)?Ue=Te():Ue=E(z,Z,re,ye,De,Re);else if(ot&6){Z.slotScopeIds=De;const it=u(z);if(we?Ue=Q(z):Cl(z)&&z.data==="teleport start"?Ue=Q(z,z.data,"teleport end"):Ue=o(z),t(Z,it,null,re,ye,kl(it),Re),To(Z)){let Me;we?(Me=ee(Ge),Me.anchor=Ue?Ue.previousSibling:it.lastChild):Me=z.nodeType===3?Xe(""):ee("div"),Me.el=z,Z.component.subTree=Me}}else ot&64?At!==8?Ue=Te():Ue=Z.type.hydrate(z,Z,re,ye,De,Re,e,A):ot&128&&(Ue=Z.type.hydrate(z,Z,re,ye,kl(u(z)),De,Re,e,x))}return Pe!=null&&Vl(Pe,null,ye,Z),Ue},E=(z,Z,re,ye,De,Re)=>{Re=Re||!!Z.dynamicChildren;const{type:we,props:Te,patchFlag:Ve,shapeFlag:Pe,dirs:ot,transition:gt}=Z,At=we==="input"||we==="option";if(At||Ve!==-1){ot&&er(Z,null,re,"created");let Ue=!1;if(te(z)){Ue=r_(ye,gt)&&re&&re.vnode.props&&re.vnode.props.appear;const Me=z.content.firstChild;Ue&&gt.beforeEnter(Me),se(Me,z,re),Z.el=z=Me}if(Pe&16&&!(Te&&(Te.innerHTML||Te.textContent))){let Me=A(z.firstChild,Z,z,re,ye,De,Re);for(;Me;){wl(z,1)||bs();const en=Me;Me=Me.nextSibling,d(en)}}else if(Pe&8){let Me=Z.children;Me[0]===`
`&&(z.tagName==="PRE"||z.tagName==="TEXTAREA")&&(Me=Me.slice(1)),z.textContent!==Me&&(wl(z,0)||bs(),z.textContent=Z.children)}if(Te){if(At||!Re||Ve&48){const Me=z.tagName.includes("-");for(const en in Te)(At&&(en.endsWith("value")||en==="indeterminate")||hu(en)&&!As(en)||en[0]==="."||Me)&&r(z,en,null,Te[en],void 0,re)}else if(Te.onClick)r(z,"onClick",null,Te.onClick,void 0,re);else if(Ve&4&&wr(Te.style))for(const Me in Te.style)Te.style[Me]}let it;(it=Te&&Te.onVnodeBeforeMount)&&Mi(it,re,Z),ot&&er(Z,null,re,"beforeMount"),((it=Te&&Te.onVnodeMounted)||ot||Ue)&&h_(()=>{it&&Mi(it,re,Z),Ue&&gt.enter(z),ot&&er(Z,null,re,"mounted")},ye)}return z.nextSibling},A=(z,Z,re,ye,De,Re,we)=>{we=we||!!Z.dynamicChildren;const Te=Z.children,Ve=Te.length;for(let Pe=0;Pe<Ve;Pe++){const ot=we?Te[Pe]:Te[Pe]=Ai(Te[Pe]),gt=ot.type===Oo;z?(gt&&!we&&Pe+1<Ve&&Ai(Te[Pe+1]).type===Oo&&(p(a(z.data.slice(ot.children.length)),re,o(z)),z.data=ot.children),z=x(z,ot,ye,De,Re,we)):gt&&!ot.children?p(ot.el=a(""),re):(wl(re,1)||bs(),n(null,ot,re,null,ye,De,kl(re),Re))}return z},B=(z,Z,re,ye,De,Re)=>{const{slotScopeIds:we}=Z;we&&(De=De?De.concat(we):we);const Te=u(z),Ve=A(o(z),Z,Te,re,ye,De,Re);return Ve&&Cl(Ve)&&Ve.data==="]"?o(Z.anchor=Ve):(bs(),p(Z.anchor=g("]"),Te,Ve),Ve)},j=(z,Z,re,ye,De,Re)=>{if(wl(z.parentElement,1)||bs(),Z.el=null,Re){const Ve=Q(z);for(;;){const Pe=o(z);if(Pe&&Pe!==Ve)d(Pe);else break}}const we=o(z),Te=u(z);return d(z),n(null,Z,Te,we,re,ye,kl(Te),De),we},Q=(z,Z="[",re="]")=>{let ye=0;for(;z;)if(z=o(z),z&&Cl(z)&&(z.data===Z&&ye++,z.data===re)){if(ye===0)return o(z);ye--}return z},se=(z,Z,re)=>{const ye=Z.parentNode;ye&&ye.replaceChild(z,Z);let De=re;for(;De;)De.vnode.el===Z&&(De.vnode.el=De.subTree.el=z),De=De.parent},te=z=>z.nodeType===1&&z.tagName==="TEMPLATE";return[y,x]}const Xf="data-allow-mismatch",rb={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function wl(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(Xf);)e=e.parentElement;const n=e&&e.getAttribute(Xf);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:n.split(",").includes(rb[t])}}const To=e=>!!e.type.__asyncLoader,oc=e=>e.type.__isKeepAlive;function ob(e,t){Gm(e,"a",t)}function sb(e,t){Gm(e,"da",t)}function Gm(e,t,n=Rn){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(sc(t,r,n),n){let a=n.parent;for(;a&&a.parent;)oc(a.parent.vnode)&&ab(r,t,n,a),a=a.parent}}function ab(e,t,n,r){const a=sc(t,e,r,!0);Ar(()=>{jd(r[t],a)},n)}function sc(e,t,n=Rn,r=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...u)=>{oo();const d=gu(n),p=Gi(t,n,e,u);return d(),so(),p});return r?a.unshift(o):a.push(o),o}}const Mr=e=>(t,n=Rn)=>{(!uc||e==="sp")&&sc(e,(...r)=>t(...r),n)},Vm=Mr("bm"),bn=Mr("m"),ub=Mr("bu"),lb=Mr("u"),or=Mr("bum"),Ar=Mr("um"),ef=Mr("sp"),cb=Mr("rtg"),hb=Mr("rtc");function db(e,t=Rn){sc("ec",e,t)}const tf="components";function fe(e,t){return Um(tf,e,!0,t)||e}const Hm=Symbol.for("v-ndc");function Go(e){return un(e)?Um(tf,e,!1)||e:e||Hm}function Um(e,t,n=!0,r=!1){const a=An||Rn;if(a){const o=a.type;if(e===tf){const d=Yb(o,!1);if(d&&(d===t||d===Di(t)||d===tc(Di(t))))return o}const u=Qf(a[e]||o[e],t)||Qf(a.appContext[e],t);return!u&&r?o:u}}function Qf(e,t){return e&&(e[t]||e[Di(t)]||e[tc(Di(t))])}function dt(e,t,n,r){let a;const o=n,u=ht(e);if(u||un(e)){const d=u&&wr(e);let p=!1;d&&(p=!Bi(e),e=nc(e)),a=new Array(e.length);for(let g=0,y=e.length;g<y;g++)a[g]=t(p?Un(e[g]):e[g],g,void 0,o)}else if(typeof e=="number"){a=new Array(e);for(let d=0;d<e;d++)a[d]=t(d+1,d,void 0,o)}else if(Jt(e))if(e[Symbol.iterator])a=Array.from(e,(d,p)=>t(d,p,void 0,o));else{const d=Object.keys(e);a=new Array(d.length);for(let p=0,g=d.length;p<g;p++){const y=d[p];a[p]=t(e[y],y,p,o)}}else a=[];return a}function xt(e,t,n={},r,a){if(An.ce||An.parent&&To(An.parent)&&An.parent.ce)return t!=="default"&&(n.name=t),D(),Ce(Ge,null,[ee("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),D();const u=o&&$m(o(n)),d=Ce(Ge,{key:(n.key||u&&u.key||`_${t}`)+(!u&&r?"_fb":"")},u||(r?r():[]),u&&e._===1?64:-2);return!a&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),o&&o._c&&(o._d=!0),d}function $m(e){return e.some(t=>Xa(t)?!(t.type===$n||t.type===Ge&&!$m(t.children)):!0)?e:null}const sd=e=>e?__(e)?lc(e):sd(e.parent):null,Na=Sn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sd(e.parent),$root:e=>sd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>nf(e),$forceUpdate:e=>e.f||(e.f=()=>{Qd(e.update)}),$nextTick:e=>e.n||(e.n=_u.bind(e.proxy)),$watch:e=>Ob.bind(e)}),Ah=(e,t)=>e!==Wt&&!e.__isScriptSetup&&Ht(e,t),fb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:o,accessCache:u,type:d,appContext:p}=e;let g;if(t[0]!=="$"){const A=u[t];if(A!==void 0)switch(A){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(Ah(r,t))return u[t]=1,r[t];if(a!==Wt&&Ht(a,t))return u[t]=2,a[t];if((g=e.propsOptions[0])&&Ht(g,t))return u[t]=3,o[t];if(n!==Wt&&Ht(n,t))return u[t]=4,n[t];ad&&(u[t]=0)}}const y=Na[t];let x,E;if(y)return t==="$attrs"&&qn(e.attrs,"get",""),y(e);if((x=d.__cssModules)&&(x=x[t]))return x;if(n!==Wt&&Ht(n,t))return u[t]=4,n[t];if(E=p.config.globalProperties,Ht(E,t))return E[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:o}=e;return Ah(a,t)?(a[t]=n,!0):r!==Wt&&Ht(r,t)?(r[t]=n,!0):Ht(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:o}},u){let d;return!!n[u]||e!==Wt&&Ht(e,u)||Ah(t,u)||(d=o[0])&&Ht(d,u)||Ht(r,u)||Ht(Na,u)||Ht(a.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ht(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function pb(){return mb().slots}function mb(){const e=m_();return e.setupContext||(e.setupContext=y_(e))}function ep(e){return ht(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ad=!0;function _b(e){const t=nf(e),n=e.proxy,r=e.ctx;ad=!1,t.beforeCreate&&tp(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:u,watch:d,provide:p,inject:g,created:y,beforeMount:x,mounted:E,beforeUpdate:A,updated:B,activated:j,deactivated:Q,beforeDestroy:se,beforeUnmount:te,destroyed:z,unmounted:Z,render:re,renderTracked:ye,renderTriggered:De,errorCaptured:Re,serverPrefetch:we,expose:Te,inheritAttrs:Ve,components:Pe,directives:ot,filters:gt}=t;if(g&&gb(g,r,null),u)for(const it in u){const Me=u[it];bt(Me)&&(r[it]=Me.bind(n))}if(a){const it=a.call(n,n);Jt(it)&&(e.data=pu(it))}if(ad=!0,o)for(const it in o){const Me=o[it],en=bt(Me)?Me.bind(n,n):bt(Me.get)?Me.get.bind(n,n):ir,st=!bt(Me)&&bt(Me.set)?Me.set.bind(n):ir,St=We({get:en,set:st});Object.defineProperty(r,it,{enumerable:!0,configurable:!0,get:()=>St.value,set:jt=>St.value=jt})}if(d)for(const it in d)qm(d[it],r,n,it);if(p){const it=bt(p)?p.call(n):p;Reflect.ownKeys(it).forEach(Me=>{Al(Me,it[Me])})}y&&tp(y,e,"c");function Ue(it,Me){ht(Me)?Me.forEach(en=>it(en.bind(n))):Me&&it(Me.bind(n))}if(Ue(Vm,x),Ue(bn,E),Ue(ub,A),Ue(lb,B),Ue(ob,j),Ue(sb,Q),Ue(db,Re),Ue(hb,ye),Ue(cb,De),Ue(or,te),Ue(Ar,Z),Ue(ef,we),ht(Te))if(Te.length){const it=e.exposed||(e.exposed={});Te.forEach(Me=>{Object.defineProperty(it,Me,{get:()=>n[Me],set:en=>n[Me]=en})})}else e.exposed||(e.exposed={});re&&e.render===ir&&(e.render=re),Ve!=null&&(e.inheritAttrs=Ve),Pe&&(e.components=Pe),ot&&(e.directives=ot),we&&jm(e)}function gb(e,t,n=ir){ht(e)&&(e=ud(e));for(const r in e){const a=e[r];let o;Jt(a)?"default"in a?o=Pi(a.from||r,a.default,!0):o=Pi(a.from||r):o=Pi(a),_n(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:u=>o.value=u}):t[r]=o}}function tp(e,t,n){Gi(ht(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function qm(e,t,n,r){let a=r.includes(".")?u_(n,r):()=>n[r];if(un(e)){const o=t[e];bt(o)&&gn(a,o)}else if(bt(e))gn(a,e.bind(n));else if(Jt(e))if(ht(e))e.forEach(o=>qm(o,t,n,r));else{const o=bt(e.handler)?e.handler.bind(n):t[e.handler];bt(o)&&gn(a,o,e)}}function nf(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:u}}=e.appContext,d=o.get(t);let p;return d?p=d:!a.length&&!n&&!r?p=t:(p={},a.length&&a.forEach(g=>Hl(p,g,u,!0)),Hl(p,t,u)),Jt(t)&&o.set(t,p),p}function Hl(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&Hl(e,o,n,!0),a&&a.forEach(u=>Hl(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const d=yb[u]||n&&n[u];e[u]=d?d(e[u],t[u]):t[u]}return e}const yb={data:np,props:ip,emits:ip,methods:Ta,computed:Ta,beforeCreate:Jn,created:Jn,beforeMount:Jn,mounted:Jn,beforeUpdate:Jn,updated:Jn,beforeDestroy:Jn,beforeUnmount:Jn,destroyed:Jn,unmounted:Jn,activated:Jn,deactivated:Jn,errorCaptured:Jn,serverPrefetch:Jn,components:Ta,directives:Ta,watch:vb,provide:np,inject:bb};function np(e,t){return t?e?function(){return Sn(bt(e)?e.call(this,this):e,bt(t)?t.call(this,this):t)}:t:e}function bb(e,t){return Ta(ud(e),ud(t))}function ud(e){if(ht(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Jn(e,t){return e?[...new Set([].concat(e,t))]:t}function Ta(e,t){return e?Sn(Object.create(null),e,t):t}function ip(e,t){return e?ht(e)&&ht(t)?[...new Set([...e,...t])]:Sn(Object.create(null),ep(e),ep(t??{})):t}function vb(e,t){if(!e)return t;if(!t)return e;const n=Sn(Object.create(null),e);for(const r in t)n[r]=Jn(e[r],t[r]);return n}function Zm(){return{app:null,config:{isNativeTag:ny,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xb=0;function kb(e,t){return function(r,a=null){bt(r)||(r=Sn({},r)),a!=null&&!Jt(a)&&(a=null);const o=Zm(),u=new WeakSet,d=[];let p=!1;const g=o.app={_uid:xb++,_component:r,_props:a,_container:null,_context:o,_instance:null,version:Qb,get config(){return o.config},set config(y){},use(y,...x){return u.has(y)||(y&&bt(y.install)?(u.add(y),y.install(g,...x)):bt(y)&&(u.add(y),y(g,...x))),g},mixin(y){return o.mixins.includes(y)||o.mixins.push(y),g},component(y,x){return x?(o.components[y]=x,g):o.components[y]},directive(y,x){return x?(o.directives[y]=x,g):o.directives[y]},mount(y,x,E){if(!p){const A=g._ceVNode||ee(r,a);return A.appContext=o,E===!0?E="svg":E===!1&&(E=void 0),x&&t?t(A,y):e(A,y,E),p=!0,g._container=y,y.__vue_app__=g,lc(A.component)}},onUnmount(y){d.push(y)},unmount(){p&&(Gi(d,g._instance,16),e(null,g._container),delete g._container.__vue_app__)},provide(y,x){return o.provides[y]=x,g},runWithContext(y){const x=Ro;Ro=g;try{return y()}finally{Ro=x}}};return g}}let Ro=null;function Al(e,t){if(Rn){let n=Rn.provides;const r=Rn.parent&&Rn.parent.provides;r===n&&(n=Rn.provides=Object.create(r)),n[e]=t}}function Pi(e,t,n=!1){const r=Rn||An;if(r||Ro){const a=Ro?Ro._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&bt(t)?t.call(r&&r.proxy):t}}function Cb(){return!!(Rn||An||Ro)}const Km={},Wm=()=>Object.create(Km),Jm=e=>Object.getPrototypeOf(e)===Km;function wb(e,t,n,r=!1){const a={},o=Wm();e.propsDefaults=Object.create(null),Ym(e,t,a,o);for(const u in e.propsOptions[0])u in a||(a[u]=void 0);n?e.props=r?a:Em(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function Lb(e,t,n,r){const{props:a,attrs:o,vnode:{patchFlag:u}}=e,d=Nt(a),[p]=e.propsOptions;let g=!1;if((r||u>0)&&!(u&16)){if(u&8){const y=e.vnode.dynamicProps;for(let x=0;x<y.length;x++){let E=y[x];if(ac(e.emitsOptions,E))continue;const A=t[E];if(p)if(Ht(o,E))A!==o[E]&&(o[E]=A,g=!0);else{const B=Di(E);a[B]=ld(p,d,B,A,e,!1)}else A!==o[E]&&(o[E]=A,g=!0)}}}else{Ym(e,t,a,o)&&(g=!0);let y;for(const x in d)(!t||!Ht(t,x)&&((y=ro(x))===x||!Ht(t,y)))&&(p?n&&(n[x]!==void 0||n[y]!==void 0)&&(a[x]=ld(p,d,x,void 0,e,!0)):delete a[x]);if(o!==d)for(const x in o)(!t||!Ht(t,x))&&(delete o[x],g=!0)}g&&Cr(e.attrs,"set","")}function Ym(e,t,n,r){const[a,o]=e.propsOptions;let u=!1,d;if(t)for(let p in t){if(As(p))continue;const g=t[p];let y;a&&Ht(a,y=Di(p))?!o||!o.includes(y)?n[y]=g:(d||(d={}))[y]=g:ac(e.emitsOptions,p)||(!(p in r)||g!==r[p])&&(r[p]=g,u=!0)}if(o){const p=Nt(n),g=d||Wt;for(let y=0;y<o.length;y++){const x=o[y];n[x]=ld(a,p,x,g[x],e,!Ht(g,x))}}return u}function ld(e,t,n,r,a,o){const u=e[n];if(u!=null){const d=Ht(u,"default");if(d&&r===void 0){const p=u.default;if(u.type!==Function&&!u.skipFactory&&bt(p)){const{propsDefaults:g}=a;if(n in g)r=g[n];else{const y=gu(a);r=g[n]=p.call(null,t),y()}}else r=p;a.ce&&a.ce._setProp(n,r)}u[0]&&(o&&!d?r=!1:u[1]&&(r===""||r===ro(n))&&(r=!0))}return r}const Eb=new WeakMap;function Xm(e,t,n=!1){const r=n?Eb:t.propsCache,a=r.get(e);if(a)return a;const o=e.props,u={},d=[];let p=!1;if(!bt(e)){const y=x=>{p=!0;const[E,A]=Xm(x,t,!0);Sn(u,E),A&&d.push(...A)};!n&&t.mixins.length&&t.mixins.forEach(y),e.extends&&y(e.extends),e.mixins&&e.mixins.forEach(y)}if(!o&&!p)return Jt(e)&&r.set(e,Es),Es;if(ht(o))for(let y=0;y<o.length;y++){const x=Di(o[y]);rp(x)&&(u[x]=Wt)}else if(o)for(const y in o){const x=Di(y);if(rp(x)){const E=o[y],A=u[x]=ht(E)||bt(E)?{type:E}:Sn({},E),B=A.type;let j=!1,Q=!0;if(ht(B))for(let se=0;se<B.length;++se){const te=B[se],z=bt(te)&&te.name;if(z==="Boolean"){j=!0;break}else z==="String"&&(Q=!1)}else j=bt(B)&&B.name==="Boolean";A[0]=j,A[1]=Q,(j||Ht(A,"default"))&&d.push(x)}}const g=[u,d];return Jt(e)&&r.set(e,g),g}function rp(e){return e[0]!=="$"&&!As(e)}const Qm=e=>e[0]==="_"||e==="$stable",rf=e=>ht(e)?e.map(Ai):[Ai(e)],Mb=(e,t,n)=>{if(t._n)return t;const r=ie((...a)=>rf(t(...a)),n);return r._c=!1,r},e_=(e,t,n)=>{const r=e._ctx;for(const a in e){if(Qm(a))continue;const o=e[a];if(bt(o))t[a]=Mb(a,o,r);else if(o!=null){const u=rf(o);t[a]=()=>u}}},t_=(e,t)=>{const n=rf(t);e.slots.default=()=>n},n_=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Ab=(e,t,n)=>{const r=e.slots=Wm();if(e.vnode.shapeFlag&32){const a=t._;a?(n_(r,t,n),n&&rm(r,"_",a,!0)):e_(t,r)}else t&&t_(e,t)},Sb=(e,t,n)=>{const{vnode:r,slots:a}=e;let o=!0,u=Wt;if(r.shapeFlag&32){const d=t._;d?n&&d===1?o=!1:n_(a,t,n):(o=!t.$stable,e_(t,a)),u=t}else t&&(t_(e,t),u={default:1});if(o)for(const d in a)!Qm(d)&&u[d]==null&&delete a[d]},pi=h_;function Bb(e){return i_(e)}function Pb(e){return i_(e,ib)}function i_(e,t){const n=om();n.__VUE__=!0;const{insert:r,remove:a,patchProp:o,createElement:u,createText:d,createComment:p,setText:g,setElementText:y,parentNode:x,nextSibling:E,setScopeId:A=ir,insertStaticContent:B}=e,j=(V,K,pe,Ae=null,ke=null,Se=null,$e=void 0,je=null,Ne=!!K.dynamicChildren)=>{if(V===K)return;V&&!So(V,K)&&(Ae=xe(V),jt(V,ke,Se,!0),V=null),K.patchFlag===-2&&(Ne=!1,K.dynamicChildren=null);const{type:Oe,ref:ct,shapeFlag:Je}=K;switch(Oe){case Oo:Q(V,K,pe,Ae);break;case $n:se(V,K,pe,Ae);break;case za:V==null&&te(K,pe,Ae,$e);break;case Ge:Pe(V,K,pe,Ae,ke,Se,$e,je,Ne);break;default:Je&1?re(V,K,pe,Ae,ke,Se,$e,je,Ne):Je&6?ot(V,K,pe,Ae,ke,Se,$e,je,Ne):(Je&64||Je&128)&&Oe.process(V,K,pe,Ae,ke,Se,$e,je,Ne,tt)}ct!=null&&ke&&Vl(ct,V&&V.ref,Se,K||V,!K)},Q=(V,K,pe,Ae)=>{if(V==null)r(K.el=d(K.children),pe,Ae);else{const ke=K.el=V.el;K.children!==V.children&&g(ke,K.children)}},se=(V,K,pe,Ae)=>{V==null?r(K.el=p(K.children||""),pe,Ae):K.el=V.el},te=(V,K,pe,Ae)=>{[V.el,V.anchor]=B(V.children,K,pe,Ae,V.el,V.anchor)},z=({el:V,anchor:K},pe,Ae)=>{let ke;for(;V&&V!==K;)ke=E(V),r(V,pe,Ae),V=ke;r(K,pe,Ae)},Z=({el:V,anchor:K})=>{let pe;for(;V&&V!==K;)pe=E(V),a(V),V=pe;a(K)},re=(V,K,pe,Ae,ke,Se,$e,je,Ne)=>{K.type==="svg"?$e="svg":K.type==="math"&&($e="mathml"),V==null?ye(K,pe,Ae,ke,Se,$e,je,Ne):we(V,K,ke,Se,$e,je,Ne)},ye=(V,K,pe,Ae,ke,Se,$e,je)=>{let Ne,Oe;const{props:ct,shapeFlag:Je,transition:rt,dirs:ft}=V;if(Ne=V.el=u(V.type,Se,ct&&ct.is,ct),Je&8?y(Ne,V.children):Je&16&&Re(V.children,Ne,null,Ae,ke,Sh(V,Se),$e,je),ft&&er(V,null,Ae,"created"),De(Ne,V,V.scopeId,$e,Ae),ct){for(const Gt in ct)Gt!=="value"&&!As(Gt)&&o(Ne,Gt,null,ct[Gt],Se,Ae);"value"in ct&&o(Ne,"value",null,ct.value,Se),(Oe=ct.onVnodeBeforeMount)&&Mi(Oe,Ae,V)}ft&&er(V,null,Ae,"beforeMount");const Et=r_(ke,rt);Et&&rt.beforeEnter(Ne),r(Ne,K,pe),((Oe=ct&&ct.onVnodeMounted)||Et||ft)&&pi(()=>{Oe&&Mi(Oe,Ae,V),Et&&rt.enter(Ne),ft&&er(V,null,Ae,"mounted")},ke)},De=(V,K,pe,Ae,ke)=>{if(pe&&A(V,pe),Ae)for(let Se=0;Se<Ae.length;Se++)A(V,Ae[Se]);if(ke){let Se=ke.subTree;if(K===Se||c_(Se.type)&&(Se.ssContent===K||Se.ssFallback===K)){const $e=ke.vnode;De(V,$e,$e.scopeId,$e.slotScopeIds,ke.parent)}}},Re=(V,K,pe,Ae,ke,Se,$e,je,Ne=0)=>{for(let Oe=Ne;Oe<V.length;Oe++){const ct=V[Oe]=je?Wr(V[Oe]):Ai(V[Oe]);j(null,ct,K,pe,Ae,ke,Se,$e,je)}},we=(V,K,pe,Ae,ke,Se,$e)=>{const je=K.el=V.el;let{patchFlag:Ne,dynamicChildren:Oe,dirs:ct}=K;Ne|=V.patchFlag&16;const Je=V.props||Wt,rt=K.props||Wt;let ft;if(pe&&wo(pe,!1),(ft=rt.onVnodeBeforeUpdate)&&Mi(ft,pe,K,V),ct&&er(K,V,pe,"beforeUpdate"),pe&&wo(pe,!0),(Je.innerHTML&&rt.innerHTML==null||Je.textContent&&rt.textContent==null)&&y(je,""),Oe?Te(V.dynamicChildren,Oe,je,pe,Ae,Sh(K,ke),Se):$e||Me(V,K,je,null,pe,Ae,Sh(K,ke),Se,!1),Ne>0){if(Ne&16)Ve(je,Je,rt,pe,ke);else if(Ne&2&&Je.class!==rt.class&&o(je,"class",null,rt.class,ke),Ne&4&&o(je,"style",Je.style,rt.style,ke),Ne&8){const Et=K.dynamicProps;for(let Gt=0;Gt<Et.length;Gt++){const Ot=Et[Gt],Ln=Je[Ot],pn=rt[Ot];(pn!==Ln||Ot==="value")&&o(je,Ot,Ln,pn,ke,pe)}}Ne&1&&V.children!==K.children&&y(je,K.children)}else!$e&&Oe==null&&Ve(je,Je,rt,pe,ke);((ft=rt.onVnodeUpdated)||ct)&&pi(()=>{ft&&Mi(ft,pe,K,V),ct&&er(K,V,pe,"updated")},Ae)},Te=(V,K,pe,Ae,ke,Se,$e)=>{for(let je=0;je<K.length;je++){const Ne=V[je],Oe=K[je],ct=Ne.el&&(Ne.type===Ge||!So(Ne,Oe)||Ne.shapeFlag&70)?x(Ne.el):pe;j(Ne,Oe,ct,null,Ae,ke,Se,$e,!0)}},Ve=(V,K,pe,Ae,ke)=>{if(K!==pe){if(K!==Wt)for(const Se in K)!As(Se)&&!(Se in pe)&&o(V,Se,K[Se],null,ke,Ae);for(const Se in pe){if(As(Se))continue;const $e=pe[Se],je=K[Se];$e!==je&&Se!=="value"&&o(V,Se,je,$e,ke,Ae)}"value"in pe&&o(V,"value",K.value,pe.value,ke)}},Pe=(V,K,pe,Ae,ke,Se,$e,je,Ne)=>{const Oe=K.el=V?V.el:d(""),ct=K.anchor=V?V.anchor:d("");let{patchFlag:Je,dynamicChildren:rt,slotScopeIds:ft}=K;ft&&(je=je?je.concat(ft):ft),V==null?(r(Oe,pe,Ae),r(ct,pe,Ae),Re(K.children||[],pe,ct,ke,Se,$e,je,Ne)):Je>0&&Je&64&&rt&&V.dynamicChildren?(Te(V.dynamicChildren,rt,pe,ke,Se,$e,je),(K.key!=null||ke&&K===ke.subTree)&&o_(V,K,!0)):Me(V,K,pe,ct,ke,Se,$e,je,Ne)},ot=(V,K,pe,Ae,ke,Se,$e,je,Ne)=>{K.slotScopeIds=je,V==null?K.shapeFlag&512?ke.ctx.activate(K,pe,Ae,$e,Ne):gt(K,pe,Ae,ke,Se,$e,Ne):At(V,K,Ne)},gt=(V,K,pe,Ae,ke,Se,$e)=>{const je=V.component=Zb(V,Ae,ke);if(oc(V)&&(je.ctx.renderer=tt),Kb(je,!1,$e),je.asyncDep){if(ke&&ke.registerDep(je,Ue,$e),!V.el){const Ne=je.subTree=ee($n);se(null,Ne,K,pe)}}else Ue(je,V,K,pe,ke,Se,$e)},At=(V,K,pe)=>{const Ae=K.component=V.component;if(jb(V,K,pe))if(Ae.asyncDep&&!Ae.asyncResolved){it(Ae,K,pe);return}else Ae.next=K,Ae.update();else K.el=V.el,Ae.vnode=K},Ue=(V,K,pe,Ae,ke,Se,$e)=>{const je=()=>{if(V.isMounted){let{next:Je,bu:rt,u:ft,parent:Et,vnode:Gt}=V;{const Bn=s_(V);if(Bn){Je&&(Je.el=Gt.el,it(V,Je,$e)),Bn.asyncDep.then(()=>{V.isUnmounted||je()});return}}let Ot=Je,Ln;wo(V,!1),Je?(Je.el=Gt.el,it(V,Je,$e)):Je=Gt,rt&&Ml(rt),(Ln=Je.props&&Je.props.onVnodeBeforeUpdate)&&Mi(Ln,Et,Je,Gt),wo(V,!0);const pn=Bh(V),vn=V.subTree;V.subTree=pn,j(vn,pn,x(vn.el),xe(vn),V,ke,Se),Je.el=pn.el,Ot===null&&Gb(V,pn.el),ft&&pi(ft,ke),(Ln=Je.props&&Je.props.onVnodeUpdated)&&pi(()=>Mi(Ln,Et,Je,Gt),ke)}else{let Je;const{el:rt,props:ft}=K,{bm:Et,m:Gt,parent:Ot,root:Ln,type:pn}=V,vn=To(K);if(wo(V,!1),Et&&Ml(Et),!vn&&(Je=ft&&ft.onVnodeBeforeMount)&&Mi(Je,Ot,K),wo(V,!0),rt&&zt){const Bn=()=>{V.subTree=Bh(V),zt(rt,V.subTree,V,ke,null)};vn&&pn.__asyncHydrate?pn.__asyncHydrate(rt,V,Bn):Bn()}else{Ln.ce&&Ln.ce._injectChildStyle(pn);const Bn=V.subTree=Bh(V);j(null,Bn,pe,Ae,V,ke,Se),K.el=Bn.el}if(Gt&&pi(Gt,ke),!vn&&(Je=ft&&ft.onVnodeMounted)){const Bn=K;pi(()=>Mi(Je,Ot,Bn),ke)}(K.shapeFlag&256||Ot&&To(Ot.vnode)&&Ot.vnode.shapeFlag&256)&&V.a&&pi(V.a,ke),V.isMounted=!0,K=pe=Ae=null}};V.scope.on();const Ne=V.effect=new dm(je);V.scope.off();const Oe=V.update=Ne.run.bind(Ne),ct=V.job=Ne.runIfDirty.bind(Ne);ct.i=V,ct.id=V.uid,Ne.scheduler=()=>Qd(ct),wo(V,!0),Oe()},it=(V,K,pe)=>{K.component=V;const Ae=V.vnode.props;V.vnode=K,V.next=null,Lb(V,K.props,Ae,pe),Sb(V,K.children,pe),oo(),Wf(V),so()},Me=(V,K,pe,Ae,ke,Se,$e,je,Ne=!1)=>{const Oe=V&&V.children,ct=V?V.shapeFlag:0,Je=K.children,{patchFlag:rt,shapeFlag:ft}=K;if(rt>0){if(rt&128){st(Oe,Je,pe,Ae,ke,Se,$e,je,Ne);return}else if(rt&256){en(Oe,Je,pe,Ae,ke,Se,$e,je,Ne);return}}ft&8?(ct&16&&mt(Oe,ke,Se),Je!==Oe&&y(pe,Je)):ct&16?ft&16?st(Oe,Je,pe,Ae,ke,Se,$e,je,Ne):mt(Oe,ke,Se,!0):(ct&8&&y(pe,""),ft&16&&Re(Je,pe,Ae,ke,Se,$e,je,Ne))},en=(V,K,pe,Ae,ke,Se,$e,je,Ne)=>{V=V||Es,K=K||Es;const Oe=V.length,ct=K.length,Je=Math.min(Oe,ct);let rt;for(rt=0;rt<Je;rt++){const ft=K[rt]=Ne?Wr(K[rt]):Ai(K[rt]);j(V[rt],ft,pe,null,ke,Se,$e,je,Ne)}Oe>ct?mt(V,ke,Se,!0,!1,Je):Re(K,pe,Ae,ke,Se,$e,je,Ne,Je)},st=(V,K,pe,Ae,ke,Se,$e,je,Ne)=>{let Oe=0;const ct=K.length;let Je=V.length-1,rt=ct-1;for(;Oe<=Je&&Oe<=rt;){const ft=V[Oe],Et=K[Oe]=Ne?Wr(K[Oe]):Ai(K[Oe]);if(So(ft,Et))j(ft,Et,pe,null,ke,Se,$e,je,Ne);else break;Oe++}for(;Oe<=Je&&Oe<=rt;){const ft=V[Je],Et=K[rt]=Ne?Wr(K[rt]):Ai(K[rt]);if(So(ft,Et))j(ft,Et,pe,null,ke,Se,$e,je,Ne);else break;Je--,rt--}if(Oe>Je){if(Oe<=rt){const ft=rt+1,Et=ft<ct?K[ft].el:Ae;for(;Oe<=rt;)j(null,K[Oe]=Ne?Wr(K[Oe]):Ai(K[Oe]),pe,Et,ke,Se,$e,je,Ne),Oe++}}else if(Oe>rt)for(;Oe<=Je;)jt(V[Oe],ke,Se,!0),Oe++;else{const ft=Oe,Et=Oe,Gt=new Map;for(Oe=Et;Oe<=rt;Oe++){const Pn=K[Oe]=Ne?Wr(K[Oe]):Ai(K[Oe]);Pn.key!=null&&Gt.set(Pn.key,Oe)}let Ot,Ln=0;const pn=rt-Et+1;let vn=!1,Bn=0;const bi=new Array(pn);for(Oe=0;Oe<pn;Oe++)bi[Oe]=0;for(Oe=ft;Oe<=Je;Oe++){const Pn=V[Oe];if(Ln>=pn){jt(Pn,ke,Se,!0);continue}let xn;if(Pn.key!=null)xn=Gt.get(Pn.key);else for(Ot=Et;Ot<=rt;Ot++)if(bi[Ot-Et]===0&&So(Pn,K[Ot])){xn=Ot;break}xn===void 0?jt(Pn,ke,Se,!0):(bi[xn-Et]=Oe+1,xn>=Bn?Bn=xn:vn=!0,j(Pn,K[xn],pe,null,ke,Se,$e,je,Ne),Ln++)}const Ri=vn?Db(bi):Es;for(Ot=Ri.length-1,Oe=pn-1;Oe>=0;Oe--){const Pn=Et+Oe,xn=K[Pn],Uo=Pn+1<ct?K[Pn+1].el:Ae;bi[Oe]===0?j(null,xn,pe,Uo,ke,Se,$e,je,Ne):vn&&(Ot<0||Oe!==Ri[Ot]?St(xn,pe,Uo,2):Ot--)}}},St=(V,K,pe,Ae,ke=null)=>{const{el:Se,type:$e,transition:je,children:Ne,shapeFlag:Oe}=V;if(Oe&6){St(V.component.subTree,K,pe,Ae);return}if(Oe&128){V.suspense.move(K,pe,Ae);return}if(Oe&64){$e.move(V,K,pe,tt);return}if($e===Ge){r(Se,K,pe);for(let Je=0;Je<Ne.length;Je++)St(Ne[Je],K,pe,Ae);r(V.anchor,K,pe);return}if($e===za){z(V,K,pe);return}if(Ae!==2&&Oe&1&&je)if(Ae===0)je.beforeEnter(Se),r(Se,K,pe),pi(()=>je.enter(Se),ke);else{const{leave:Je,delayLeave:rt,afterLeave:ft}=je,Et=()=>r(Se,K,pe),Gt=()=>{Je(Se,()=>{Et(),ft&&ft()})};rt?rt(Se,Et,Gt):Gt()}else r(Se,K,pe)},jt=(V,K,pe,Ae=!1,ke=!1)=>{const{type:Se,props:$e,ref:je,children:Ne,dynamicChildren:Oe,shapeFlag:ct,patchFlag:Je,dirs:rt,cacheIndex:ft}=V;if(Je===-2&&(ke=!1),je!=null&&Vl(je,null,pe,V,!0),ft!=null&&(K.renderCache[ft]=void 0),ct&256){K.ctx.deactivate(V);return}const Et=ct&1&&rt,Gt=!To(V);let Ot;if(Gt&&(Ot=$e&&$e.onVnodeBeforeUnmount)&&Mi(Ot,K,V),ct&6)Pt(V.component,pe,Ae);else{if(ct&128){V.suspense.unmount(pe,Ae);return}Et&&er(V,null,K,"beforeUnmount"),ct&64?V.type.remove(V,K,pe,tt,Ae):Oe&&!Oe.hasOnce&&(Se!==Ge||Je>0&&Je&64)?mt(Oe,K,pe,!1,!0):(Se===Ge&&Je&384||!ke&&ct&16)&&mt(Ne,K,pe),Ae&&rn(V)}(Gt&&(Ot=$e&&$e.onVnodeUnmounted)||Et)&&pi(()=>{Ot&&Mi(Ot,K,V),Et&&er(V,null,K,"unmounted")},pe)},rn=V=>{const{type:K,el:pe,anchor:Ae,transition:ke}=V;if(K===Ge){Ut(pe,Ae);return}if(K===za){Z(V);return}const Se=()=>{a(pe),ke&&!ke.persisted&&ke.afterLeave&&ke.afterLeave()};if(V.shapeFlag&1&&ke&&!ke.persisted){const{leave:$e,delayLeave:je}=ke,Ne=()=>$e(pe,Se);je?je(V.el,Se,Ne):Ne()}else Se()},Ut=(V,K)=>{let pe;for(;V!==K;)pe=E(V),a(V),V=pe;a(K)},Pt=(V,K,pe)=>{const{bum:Ae,scope:ke,job:Se,subTree:$e,um:je,m:Ne,a:Oe}=V;op(Ne),op(Oe),Ae&&Ml(Ae),ke.stop(),Se&&(Se.flags|=8,jt($e,V,K,pe)),je&&pi(je,K),pi(()=>{V.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},mt=(V,K,pe,Ae=!1,ke=!1,Se=0)=>{for(let $e=Se;$e<V.length;$e++)jt(V[$e],K,pe,Ae,ke)},xe=V=>{if(V.shapeFlag&6)return xe(V.component.subTree);if(V.shapeFlag&128)return V.suspense.next();const K=E(V.anchor||V.el),pe=K&&K[Yy];return pe?E(pe):K};let qe=!1;const He=(V,K,pe)=>{V==null?K._vnode&&jt(K._vnode,null,null,!0):j(K._vnode||null,V,K,null,null,null,pe),K._vnode=V,qe||(qe=!0,Wf(),jl(),qe=!1)},tt={p:j,um:jt,m:St,r:rn,mt:gt,mc:Re,pc:Me,pbc:Te,n:xe,o:e};let Bt,zt;return t&&([Bt,zt]=t(tt)),{render:He,hydrate:Bt,createApp:kb(He,Bt)}}function Sh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function wo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function r_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function o_(e,t,n=!1){const r=e.children,a=t.children;if(ht(r)&&ht(a))for(let o=0;o<r.length;o++){const u=r[o];let d=a[o];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=a[o]=Wr(a[o]),d.el=u.el),!n&&d.patchFlag!==-2&&o_(u,d)),d.type===Oo&&(d.el=u.el)}}function Db(e){const t=e.slice(),n=[0];let r,a,o,u,d;const p=e.length;for(r=0;r<p;r++){const g=e[r];if(g!==0){if(a=n[n.length-1],e[a]<g){t[r]=a,n.push(r);continue}for(o=0,u=n.length-1;o<u;)d=o+u>>1,e[n[d]]<g?o=d+1:u=d;g<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,u=n[o-1];o-- >0;)n[o]=u,u=t[u];return n}function s_(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:s_(t)}function op(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Tb=Symbol.for("v-scx"),Rb=()=>Pi(Tb);function gn(e,t,n){return a_(e,t,n)}function a_(e,t,n=Wt){const{immediate:r,deep:a,flush:o,once:u}=n,d=Sn({},n);let p;if(uc)if(o==="sync"){const E=Rb();p=E.__watcherHandles||(E.__watcherHandles=[])}else if(!t||r)d.once=!0;else{const E=()=>{};return E.stop=ir,E.resume=ir,E.pause=ir,E}const g=Rn;d.call=(E,A,B)=>Gi(E,g,A,B);let y=!1;o==="post"?d.scheduler=E=>{pi(E,g&&g.suspense)}:o!=="sync"&&(y=!0,d.scheduler=(E,A)=>{A?E():Qd(E)}),d.augmentJob=E=>{t&&(E.flags|=4),y&&(E.flags|=2,g&&(E.id=g.uid,E.i=g))};const x=Zy(e,t,d);return p&&p.push(x),x}function Ob(e,t,n){const r=this.proxy,a=un(e)?e.includes(".")?u_(r,e):()=>r[e]:e.bind(r,r);let o;bt(t)?o=t:(o=t.handler,n=t);const u=gu(this),d=a_(a,o.bind(r),n);return u(),d}function u_(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const Fb=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Di(t)}Modifiers`]||e[`${ro(t)}Modifiers`];function Ib(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Wt;let a=n;const o=t.startsWith("update:"),u=o&&Fb(r,t.slice(7));u&&(u.trim&&(a=n.map(y=>un(y)?y.trim():y)),u.number&&(a=n.map(Fl)));let d,p=r[d=kh(t)]||r[d=kh(Di(t))];!p&&o&&(p=r[d=kh(ro(t))]),p&&Gi(p,e,6,a);const g=r[d+"Once"];if(g){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,Gi(g,e,6,a)}}function l_(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const o=e.emits;let u={},d=!1;if(!bt(e)){const p=g=>{const y=l_(g,t,!0);y&&(d=!0,Sn(u,y))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!o&&!d?(Jt(e)&&r.set(e,null),null):(ht(o)?o.forEach(p=>u[p]=null):Sn(u,o),Jt(e)&&r.set(e,u),u)}function ac(e,t){return!e||!hu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ht(e,t[0].toLowerCase()+t.slice(1))||Ht(e,ro(t))||Ht(e,t))}function Bh(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[o],slots:u,attrs:d,emit:p,render:g,renderCache:y,props:x,data:E,setupState:A,ctx:B,inheritAttrs:j}=e,Q=Gl(e);let se,te;try{if(n.shapeFlag&4){const Z=a||r,re=Z;se=Ai(g.call(re,Z,y,x,A,E,B)),te=d}else{const Z=t;se=Ai(Z.length>1?Z(x,{attrs:d,slots:u,emit:p}):Z(x,null)),te=t.props?d:Nb(d)}}catch(Z){ja.length=0,rc(Z,e,1),se=ee($n)}let z=se;if(te&&j!==!1){const Z=Object.keys(te),{shapeFlag:re}=z;Z.length&&re&7&&(o&&Z.some(zd)&&(te=zb(te,o)),z=no(z,te,!1,!0))}return n.dirs&&(z=no(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(n.dirs):n.dirs),n.transition&&Ja(z,n.transition),se=z,Gl(Q),se}const Nb=e=>{let t;for(const n in e)(n==="class"||n==="style"||hu(n))&&((t||(t={}))[n]=e[n]);return t},zb=(e,t)=>{const n={};for(const r in e)(!zd(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function jb(e,t,n){const{props:r,children:a,component:o}=e,{props:u,children:d,patchFlag:p}=t,g=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return r?sp(r,u,g):!!u;if(p&8){const y=t.dynamicProps;for(let x=0;x<y.length;x++){const E=y[x];if(u[E]!==r[E]&&!ac(g,E))return!0}}}else return(a||d)&&(!d||!d.$stable)?!0:r===u?!1:r?u?sp(r,u,g):!0:!!u;return!1}function sp(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!ac(n,o))return!0}return!1}function Gb({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const c_=e=>e.__isSuspense;function h_(e,t){t&&t.pendingBranch?ht(e)?t.effects.push(...e):t.effects.push(e):Jy(e)}const Ge=Symbol.for("v-fgt"),Oo=Symbol.for("v-txt"),$n=Symbol.for("v-cmt"),za=Symbol.for("v-stc"),ja=[];let mi=null;function D(e=!1){ja.push(mi=e?null:[])}function Vb(){ja.pop(),mi=ja[ja.length-1]||null}let Ya=1;function ap(e){Ya+=e,e<0&&mi&&(mi.hasOnce=!0)}function d_(e){return e.dynamicChildren=Ya>0?mi||Es:null,Vb(),Ya>0&&mi&&mi.push(e),e}function q(e,t,n,r,a,o){return d_($(e,t,n,r,a,o,!0))}function Ce(e,t,n,r,a){return d_(ee(e,t,n,r,a,!0))}function Xa(e){return e?e.__v_isVNode===!0:!1}function So(e,t){return e.type===t.type&&e.key===t.key}const f_=({key:e})=>e??null,Sl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?un(e)||_n(e)||bt(e)?{i:An,r:e,k:t,f:!!n}:e:null);function $(e,t=null,n=null,r=0,a=null,o=e===Ge?0:1,u=!1,d=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&f_(t),ref:t&&Sl(t),scopeId:Tm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:An};return d?(of(p,n),o&128&&e.normalize(p)):n&&(p.shapeFlag|=un(n)?8:16),Ya>0&&!u&&mi&&(p.patchFlag>0||o&6)&&p.patchFlag!==32&&mi.push(p),p}const ee=Hb;function Hb(e,t=null,n=null,r=0,a=null,o=!1){if((!e||e===Hm)&&(e=$n),Xa(e)){const d=no(e,t,!0);return n&&of(d,n),Ya>0&&!o&&mi&&(d.shapeFlag&6?mi[mi.indexOf(e)]=d:mi.push(d)),d.patchFlag=-2,d}if(Xb(e)&&(e=e.__vccOpts),t){t=Ul(t);let{class:d,style:p}=t;d&&!un(d)&&(t.class=an(d)),Jt(p)&&(Jd(p)&&!ht(p)&&(p=Sn({},p)),t.style=Si(p))}const u=un(e)?1:c_(e)?128:Rm(e)?64:Jt(e)?4:bt(e)?2:0;return $(e,t,n,r,a,u,o,!0)}function Ul(e){return e?Jd(e)||Jm(e)?Sn({},e):e:null}function no(e,t,n=!1,r=!1){const{props:a,ref:o,patchFlag:u,children:d,transition:p}=e,g=t?p_(a||{},t):a,y={__v_isVNode:!0,__v_skip:!0,type:e.type,props:g,key:g&&f_(g),ref:t&&t.ref?n&&o?ht(o)?o.concat(Sl(t)):[o,Sl(t)]:Sl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ge?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&no(e.ssContent),ssFallback:e.ssFallback&&no(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&r&&Ja(y,p.clone(y)),y}function Xe(e=" ",t=0){return ee(Oo,null,e,t)}function Ub(e,t){const n=ee(za,null,e);return n.staticCount=t,n}function Fe(e="",t=!1){return t?(D(),Ce($n,null,e)):ee($n,null,e)}function Ai(e){return e==null||typeof e=="boolean"?ee($n):ht(e)?ee(Ge,null,e.slice()):Xa(e)?Wr(e):ee(Oo,null,String(e))}function Wr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:no(e)}function of(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ht(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),of(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!Jm(t)?t._ctx=An:a===3&&An&&(An.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else bt(t)?(t={default:t,_ctx:An},n=32):(t=String(t),r&64?(n=16,t=[Xe(t)]):n=8);e.children=t,e.shapeFlag|=n}function p_(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=an([t.class,r.class]));else if(a==="style")t.style=Si([t.style,r.style]);else if(hu(a)){const o=t[a],u=r[a];u&&o!==u&&!(ht(o)&&o.includes(u))&&(t[a]=o?[].concat(o,u):u)}else a!==""&&(t[a]=r[a])}return t}function Mi(e,t,n,r=null){Gi(e,t,7,[n,r])}const $b=Zm();let qb=0;function Zb(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||$b,o={uid:qb++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new lm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xm(r,a),emitsOptions:l_(r,a),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:r.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ib.bind(null,o),e.ce&&e.ce(o),o}let Rn=null;const m_=()=>Rn||An;let $l,cd;{const e=om(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),o=>{a.length>1?a.forEach(u=>u(o)):a[0](o)}};$l=t("__VUE_INSTANCE_SETTERS__",n=>Rn=n),cd=t("__VUE_SSR_SETTERS__",n=>uc=n)}const gu=e=>{const t=Rn;return $l(e),e.scope.on(),()=>{e.scope.off(),$l(t)}},up=()=>{Rn&&Rn.scope.off(),$l(null)};function __(e){return e.vnode.shapeFlag&4}let uc=!1;function Kb(e,t=!1,n=!1){t&&cd(t);const{props:r,children:a}=e.vnode,o=__(e);wb(e,r,o,t),Ab(e,a,n);const u=o?Wb(e,t):void 0;return t&&cd(!1),u}function Wb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fb);const{setup:r}=n;if(r){const a=e.setupContext=r.length>1?y_(e):null,o=gu(e);oo();const u=mu(r,e,0,[e.props,a]);if(so(),o(),tm(u)){if(To(e)||jm(e),u.then(up,up),t)return u.then(d=>{lp(e,d,t)}).catch(d=>{rc(d,e,0)});e.asyncDep=u}else lp(e,u,t)}else g_(e,t)}function lp(e,t,n){bt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Jt(t)&&(e.setupState=Sm(t)),g_(e,n)}let cp;function g_(e,t,n){const r=e.type;if(!e.render){if(!t&&cp&&!r.render){const a=r.template||nf(e).template;if(a){const{isCustomElement:o,compilerOptions:u}=e.appContext.config,{delimiters:d,compilerOptions:p}=r,g=Sn(Sn({isCustomElement:o,delimiters:d},u),p);r.render=cp(a,g)}}e.render=r.render||ir}{const a=gu(e);oo();try{_b(e)}finally{so(),a()}}}const Jb={get(e,t){return qn(e,"get",""),e[t]}};function y_(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Jb),slots:e.slots,emit:e.emit,expose:t}}function lc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Sm(Yd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Na)return Na[n](e)},has(t,n){return n in t||n in Na}})):e.proxy}function Yb(e,t=!0){return bt(e)?e.displayName||e.name:e.name||t&&e.__name}function Xb(e){return bt(e)&&"__vccOpts"in e}const We=(e,t)=>$y(e,t,uc);function sf(e,t,n){const r=arguments.length;return r===2?Jt(t)&&!ht(t)?Xa(t)?ee(e,null,[t]):ee(e,t):ee(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xa(n)&&(n=[n]),ee(e,t,n))}const Qb="3.5.11";/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hd;const hp=typeof window<"u"&&window.trustedTypes;if(hp)try{hd=hp.createPolicy("vue",{createHTML:e=>e})}catch{}const b_=hd?e=>hd.createHTML(e):e=>e,ev="http://www.w3.org/2000/svg",tv="http://www.w3.org/1998/Math/MathML",xr=typeof document<"u"?document:null,dp=xr&&xr.createElement("template"),nv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?xr.createElementNS(ev,e):t==="mathml"?xr.createElementNS(tv,e):n?xr.createElement(e,{is:n}):xr.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>xr.createTextNode(e),createComment:e=>xr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const u=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===o||!(a=a.nextSibling)););else{dp.innerHTML=b_(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const d=dp.content;if(r==="svg"||r==="mathml"){const p=d.firstChild;for(;p.firstChild;)d.appendChild(p.firstChild);d.removeChild(p)}t.insertBefore(d,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gr="transition",Aa="animation",Qa=Symbol("_vtc"),v_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},iv=Sn({},Om,v_),rv=e=>(e.displayName="Transition",e.props=iv,e),cc=rv((e,{slots:t})=>sf(eb,ov(e),t)),Lo=(e,t=[])=>{ht(e)?e.forEach(n=>n(...t)):e&&e(...t)},fp=e=>e?ht(e)?e.some(t=>t.length>1):e.length>1:!1;function ov(e){const t={};for(const Pe in e)Pe in v_||(t[Pe]=e[Pe]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:o=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:d=`${n}-enter-to`,appearFromClass:p=o,appearActiveClass:g=u,appearToClass:y=d,leaveFromClass:x=`${n}-leave-from`,leaveActiveClass:E=`${n}-leave-active`,leaveToClass:A=`${n}-leave-to`}=e,B=sv(a),j=B&&B[0],Q=B&&B[1],{onBeforeEnter:se,onEnter:te,onEnterCancelled:z,onLeave:Z,onLeaveCancelled:re,onBeforeAppear:ye=se,onAppear:De=te,onAppearCancelled:Re=z}=t,we=(Pe,ot,gt)=>{Eo(Pe,ot?y:d),Eo(Pe,ot?g:u),gt&&gt()},Te=(Pe,ot)=>{Pe._isLeaving=!1,Eo(Pe,x),Eo(Pe,A),Eo(Pe,E),ot&&ot()},Ve=Pe=>(ot,gt)=>{const At=Pe?De:te,Ue=()=>we(ot,Pe,gt);Lo(At,[ot,Ue]),pp(()=>{Eo(ot,Pe?p:o),Vr(ot,Pe?y:d),fp(At)||mp(ot,r,j,Ue)})};return Sn(t,{onBeforeEnter(Pe){Lo(se,[Pe]),Vr(Pe,o),Vr(Pe,u)},onBeforeAppear(Pe){Lo(ye,[Pe]),Vr(Pe,p),Vr(Pe,g)},onEnter:Ve(!1),onAppear:Ve(!0),onLeave(Pe,ot){Pe._isLeaving=!0;const gt=()=>Te(Pe,ot);Vr(Pe,x),Vr(Pe,E),lv(),pp(()=>{Pe._isLeaving&&(Eo(Pe,x),Vr(Pe,A),fp(Z)||mp(Pe,r,Q,gt))}),Lo(Z,[Pe,gt])},onEnterCancelled(Pe){we(Pe,!1),Lo(z,[Pe])},onAppearCancelled(Pe){we(Pe,!0),Lo(Re,[Pe])},onLeaveCancelled(Pe){Te(Pe),Lo(re,[Pe])}})}function sv(e){if(e==null)return null;if(Jt(e))return[Ph(e.enter),Ph(e.leave)];{const t=Ph(e);return[t,t]}}function Ph(e){return ay(e)}function Vr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Qa]||(e[Qa]=new Set)).add(t)}function Eo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Qa];n&&(n.delete(t),n.size||(e[Qa]=void 0))}function pp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let av=0;function mp(e,t,n,r){const a=e._endId=++av,o=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:u,timeout:d,propCount:p}=uv(e,t);if(!u)return r();const g=u+"end";let y=0;const x=()=>{e.removeEventListener(g,E),o()},E=A=>{A.target===e&&++y>=p&&x()};setTimeout(()=>{y<p&&x()},d+1),e.addEventListener(g,E)}function uv(e,t){const n=window.getComputedStyle(e),r=B=>(n[B]||"").split(", "),a=r(`${Gr}Delay`),o=r(`${Gr}Duration`),u=_p(a,o),d=r(`${Aa}Delay`),p=r(`${Aa}Duration`),g=_p(d,p);let y=null,x=0,E=0;t===Gr?u>0&&(y=Gr,x=u,E=o.length):t===Aa?g>0&&(y=Aa,x=g,E=p.length):(x=Math.max(u,g),y=x>0?u>g?Gr:Aa:null,E=y?y===Gr?o.length:p.length:0);const A=y===Gr&&/\b(transform|all)(,|$)/.test(r(`${Gr}Property`).toString());return{type:y,timeout:x,propCount:E,hasTransform:A}}function _p(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>gp(n)+gp(e[r])))}function gp(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function lv(){return document.body.offsetHeight}function cv(e,t,n){const r=e[Qa];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ql=Symbol("_vod"),x_=Symbol("_vsh"),hc={beforeMount(e,{value:t},{transition:n}){e[ql]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Sa(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Sa(e,!0),r.enter(e)):r.leave(e,()=>{Sa(e,!1)}):Sa(e,t))},beforeUnmount(e,{value:t}){Sa(e,t)}};function Sa(e,t){e.style.display=t?e[ql]:"none",e[x_]=!t}const hv=Symbol(""),dv=/(^|;)\s*display\s*:/;function fv(e,t,n){const r=e.style,a=un(n);let o=!1;if(n&&!a){if(t)if(un(t))for(const u of t.split(";")){const d=u.slice(0,u.indexOf(":")).trim();n[d]==null&&Bl(r,d,"")}else for(const u in t)n[u]==null&&Bl(r,u,"");for(const u in n)u==="display"&&(o=!0),Bl(r,u,n[u])}else if(a){if(t!==n){const u=r[hv];u&&(n+=";"+u),r.cssText=n,o=dv.test(n)}}else t&&e.removeAttribute("style");ql in e&&(e[ql]=o?r.display:"",e[x_]&&(r.display="none"))}const yp=/\s*!important$/;function Bl(e,t,n){if(ht(n))n.forEach(r=>Bl(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=pv(e,t);yp.test(n)?e.setProperty(ro(r),n.replace(yp,""),"important"):e[r]=n}}const bp=["Webkit","Moz","ms"],Dh={};function pv(e,t){const n=Dh[t];if(n)return n;let r=Di(t);if(r!=="filter"&&r in e)return Dh[t]=r;r=tc(r);for(let a=0;a<bp.length;a++){const o=bp[a]+r;if(o in e)return Dh[t]=o}return t}const vp="http://www.w3.org/1999/xlink";function xp(e,t,n,r,a,o=fy(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(vp,t.slice(6,t.length)):e.setAttributeNS(vp,t,n):n==null||o&&!sm(n)?e.removeAttribute(t):e.setAttribute(t,o?"":rr(n)?String(n):n)}function kp(e,t,n,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?b_(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(u!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=sm(n):n==null&&u==="string"?(n="",o=!0):u==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(t)}function Xr(e,t,n,r){e.addEventListener(t,n,r)}function mv(e,t,n,r){e.removeEventListener(t,n,r)}const Cp=Symbol("_vei");function _v(e,t,n,r,a=null){const o=e[Cp]||(e[Cp]={}),u=o[t];if(r&&u)u.value=r;else{const[d,p]=gv(t);if(r){const g=o[t]=vv(r,a);Xr(e,d,g,p)}else u&&(mv(e,d,u,p),o[t]=void 0)}}const wp=/(?:Once|Passive|Capture)$/;function gv(e){let t;if(wp.test(e)){t={};let r;for(;r=e.match(wp);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ro(e.slice(2)),t]}let Th=0;const yv=Promise.resolve(),bv=()=>Th||(yv.then(()=>Th=0),Th=Date.now());function vv(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Gi(xv(r,n.value),t,5,[r])};return n.value=e,n.attached=bv(),n}function xv(e,t){if(ht(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const Lp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,kv=(e,t,n,r,a,o)=>{const u=a==="svg";t==="class"?cv(e,r,u):t==="style"?fv(e,n,r):hu(t)?zd(t)||_v(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Cv(e,t,r,u))?(kp(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&xp(e,t,r,u,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!un(r))?kp(e,Di(t),r):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),xp(e,t,r,u))};function Cv(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lp(t)&&bt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Lp(t)&&un(n)?!1:t in e}const Ds=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ht(t)?n=>Ml(t,n):t};function wv(e){e.target.composing=!0}function Ep(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Lr=Symbol("_assign"),af={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[Lr]=Ds(a);const o=r||a.props&&a.props.type==="number";Xr(e,t?"change":"input",u=>{if(u.target.composing)return;let d=e.value;n&&(d=d.trim()),o&&(d=Fl(d)),e[Lr](d)}),n&&Xr(e,"change",()=>{e.value=e.value.trim()}),t||(Xr(e,"compositionstart",wv),Xr(e,"compositionend",Ep),Xr(e,"change",Ep))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:o}},u){if(e[Lr]=Ds(u),e.composing)return;const d=(o||e.type==="number")&&!/^0\d/.test(e.value)?Fl(e.value):e.value,p=t??"";d!==p&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===p)||(e.value=p))}},Ns={deep:!0,created(e,t,n){e[Lr]=Ds(n),Xr(e,"change",()=>{const r=e._modelValue,a=eu(e),o=e.checked,u=e[Lr];if(ht(r)){const d=Vd(r,a),p=d!==-1;if(o&&!p)u(r.concat(a));else if(!o&&p){const g=[...r];g.splice(d,1),u(g)}}else if(Is(r)){const d=new Set(r);o?d.add(a):d.delete(a),u(d)}else u(k_(e,o))})},mounted:Mp,beforeUpdate(e,t,n){e[Lr]=Ds(n),Mp(e,t,n)}};function Mp(e,{value:t},n){e._modelValue=t;let r;ht(t)?r=Vd(t,n.props.value)>-1:Is(t)?r=t.has(n.props.value):r=fu(t,k_(e,!0)),e.checked!==r&&(e.checked=r)}const yu={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const a=Is(t);Xr(e,"change",()=>{const o=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?Fl(eu(u)):eu(u));e[Lr](e.multiple?a?new Set(o):o:o[0]),e._assigning=!0,_u(()=>{e._assigning=!1})}),e[Lr]=Ds(r)},mounted(e,{value:t}){Ap(e,t)},beforeUpdate(e,t,n){e[Lr]=Ds(n)},updated(e,{value:t}){e._assigning||Ap(e,t)}};function Ap(e,t){const n=e.multiple,r=ht(t);if(!(n&&!r&&!Is(t))){for(let a=0,o=e.options.length;a<o;a++){const u=e.options[a],d=eu(u);if(n)if(r){const p=typeof d;p==="string"||p==="number"?u.selected=t.some(g=>String(g)===String(d)):u.selected=Vd(t,d)>-1}else u.selected=t.has(d);else if(fu(eu(u),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function eu(e){return"_value"in e?e._value:e.value}function k_(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Lv=["ctrl","shift","alt","meta"],Ev={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Lv.some(n=>e[`${n}Key`]&&!t.includes(n))},tu=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...o)=>{for(let u=0;u<t.length;u++){const d=Ev[t[u]];if(d&&d(a,t))return}return e(a,...o)})},Mv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},C_=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const o=ro(a.key);if(t.some(u=>u===o||Mv[u]===o))return e(a)})},w_=Sn({patchProp:kv},nv);let Ga,Sp=!1;function Av(){return Ga||(Ga=Bb(w_))}function Sv(){return Ga=Sp?Ga:Pb(w_),Sp=!0,Ga}const Bv=(...e)=>{const t=Av().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=E_(r);if(!a)return;const o=t._component;!bt(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const u=n(a,!1,L_(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),u},t},Pv=(...e)=>{const t=Sv().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=E_(r);if(a)return n(a,!0,L_(a))},t};function L_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function E_(e){return un(e)?document.querySelector(e):e}let Dv;function Tv(){return Dv}function uf(e,t={}){const n=t.head||Tv();return n==null?void 0:n.push(e,t)}const Rv=["title"],Ov={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Fv={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},M_={__name:"SwitchTheme",setup(e){const t={dark:"dark",light:"light"},n=Ze(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?n.value="dark":n.value="light",gn(n,(a,o)=>{document.documentElement.classList.add(a),document.documentElement.classList.remove(o),localStorage.setItem("theme",a)},{immediate:!0}));const r=()=>{n.value===t.dark?n.value=t.light:n.value=t.dark};return(a,o)=>(D(),q("button",{type:"button",onClick:r,title:n.value===t.light?"Change to dark mode":"Change to light mode"},[n.value===t.dark?(D(),q("svg",Ov,o[0]||(o[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(D(),q("svg",Fv,o[1]||(o[1]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))],8,Rv))}};var Iv={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const Nv=["aria-expanded"],zv={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},jv={class:"font-normal container mx-auto"},Gv={class:"flex flex-col m-0 p-0 border-t border-base-border"},Vv={__name:"NavbarMobile",setup(e){const{header_links:t}=Iv,n=Ze(!1),r=()=>{n.value=!n.value};return(a,o)=>{const u=fe("IconClose"),d=fe("IconHamburger"),p=fe("router-link"),g=fe("ClientOnly"),y=fe("TrackerReport"),x=fe("AnimationOpacity");return D(),q(Ge,null,[$("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":n.value,onClick:r},[o[0]||(o[0]=$("span",{class:"sr-only"},"Open main menu",-1)),n.value?(D(),Ce(u,{key:0})):(D(),Ce(d,{key:1,class:"w-6 h-6"}))],8,Nv),ee(x,null,{default:ie(()=>[n.value?(D(),q("div",zv,[$("nav",jv,[$("ul",Gv,[(D(!0),q(Ge,null,dt(ze(t),(E,A)=>(D(),q("li",{key:A,class:"border-b border-base-border"},[ee(p,{to:E.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:ie(()=>[Xe(Ie(E.label),1)]),_:2},1032,["to"])]))),128)),$("li",null,[ee(g,null,{default:ie(()=>[ee(M_,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})]),$("li",null,[ee(y,{icon:"","button-class":"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})])])])])):Fe("",!0)]),_:1})],64)}}};function Hv(e){try{return new URL(e),!0}catch{return!1}}var Uv={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const $v={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},qv={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},Zv=["src","alt"],Kv={class:"relative hidden md:flex items-center ml-auto"},Wv={class:"text-sm leading-6 font-normal"},Jv={class:"flex space-x-8"},Yv={class:"flex items-center border-l ml-6 pl-6 border-base-muted border-opacity-50"},Xv={class:"flex items-center ml-2 border-base-muted"},Qv={__name:"LayoutHeader",setup(e){const{header_links:t,header_logo_text:n,header_logo_url:r,base_url:a,project_name:o}=Uv,u=Hv(r)?r:(a+r).replace("//","/");return(d,p)=>{const g=fe("RouterLink"),y=fe("router-link"),x=fe("ClientOnly"),E=fe("TrackerReport");return D(),q("header",$v,[$("div",qv,[ee(g,{to:"/",class:"flex items-center text-primary-content"},{default:ie(()=>[ze(r)?(D(),q("img",{key:0,class:"mr-3 h-10",src:ze(u),alt:ze(n)},null,8,Zv)):Fe("",!0),$("span",null,Ie(ze(n)||ze(o)),1)]),_:1}),ee(Vv),$("div",Kv,[$("nav",Wv,[$("ul",Jv,[(D(!0),q(Ge,null,dt(ze(t),(A,B)=>(D(),q("li",{key:B},[ee(y,{to:A.link,class:"hover:text-primary-content text-primary-content"},{default:ie(()=>[Xe(Ie(A.label),1)]),_:2},1032,["to"])]))),128))])]),$("div",Yv,[ee(x,null,{default:ie(()=>[ee(M_,{class:"text-primary-content"})]),_:1})]),$("div",Xv,[ee(E,{icon:""})])])])])}}};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ws=typeof document<"u";function A_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function e3(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&A_(e.default)}const $t=Object.assign;function Rh(e,t){const n={};for(const r in t){const a=t[r];n[r]=Vi(a)?a.map(e):e(a)}return n}const Va=()=>{},Vi=Array.isArray,S_=/#/g,t3=/&/g,n3=/\//g,i3=/=/g,r3=/\?/g,B_=/\+/g,o3=/%5B/g,s3=/%5D/g,P_=/%5E/g,a3=/%60/g,D_=/%7B/g,u3=/%7C/g,T_=/%7D/g,l3=/%20/g;function lf(e){return encodeURI(""+e).replace(u3,"|").replace(o3,"[").replace(s3,"]")}function c3(e){return lf(e).replace(D_,"{").replace(T_,"}").replace(P_,"^")}function dd(e){return lf(e).replace(B_,"%2B").replace(l3,"+").replace(S_,"%23").replace(t3,"%26").replace(a3,"`").replace(D_,"{").replace(T_,"}").replace(P_,"^")}function h3(e){return dd(e).replace(i3,"%3D")}function d3(e){return lf(e).replace(S_,"%23").replace(r3,"%3F")}function f3(e){return e==null?"":d3(e).replace(n3,"%2F")}function nu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const p3=/\/$/,m3=e=>e.replace(p3,"");function Oh(e,t,n="/"){let r,a={},o="",u="";const d=t.indexOf("#");let p=t.indexOf("?");return d<p&&d>=0&&(p=-1),p>-1&&(r=t.slice(0,p),o=t.slice(p+1,d>-1?d:t.length),a=e(o)),d>-1&&(r=r||t.slice(0,d),u=t.slice(d,t.length)),r=b3(r??t,n),{fullPath:r+(o&&"?")+o+u,path:r,query:a,hash:nu(u)}}function _3(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Bp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function g3(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&Ts(t.matched[r],n.matched[a])&&R_(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ts(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function R_(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!y3(e[n],t[n]))return!1;return!0}function y3(e,t){return Vi(e)?Pp(e,t):Vi(t)?Pp(t,e):e===t}function Pp(e,t){return Vi(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function b3(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let o=n.length-1,u,d;for(u=0;u<r.length;u++)if(d=r[u],d!==".")if(d==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(u).join("/")}const Hr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var iu;(function(e){e.pop="pop",e.push="push"})(iu||(iu={}));var Ha;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ha||(Ha={}));function v3(e){if(!e)if(ws){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),m3(e)}const x3=/^[^#]+#/;function k3(e,t){return e.replace(x3,"#")+t}function C3(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const dc=()=>({left:window.scrollX,top:window.scrollY});function w3(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=C3(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Dp(e,t){return(history.state?history.state.position-t:-1)+e}const fd=new Map;function L3(e,t){fd.set(e,t)}function E3(e){const t=fd.get(e);return fd.delete(e),t}let M3=()=>location.protocol+"//"+location.host;function O_(e,t){const{pathname:n,search:r,hash:a}=t,o=e.indexOf("#");if(o>-1){let d=a.includes(e.slice(o))?e.slice(o).length:1,p=a.slice(d);return p[0]!=="/"&&(p="/"+p),Bp(p,"")}return Bp(n,e)+r+a}function A3(e,t,n,r){let a=[],o=[],u=null;const d=({state:E})=>{const A=O_(e,location),B=n.value,j=t.value;let Q=0;if(E){if(n.value=A,t.value=E,u&&u===B){u=null;return}Q=j?E.position-j.position:0}else r(A);a.forEach(se=>{se(n.value,B,{delta:Q,type:iu.pop,direction:Q?Q>0?Ha.forward:Ha.back:Ha.unknown})})};function p(){u=n.value}function g(E){a.push(E);const A=()=>{const B=a.indexOf(E);B>-1&&a.splice(B,1)};return o.push(A),A}function y(){const{history:E}=window;E.state&&E.replaceState($t({},E.state,{scroll:dc()}),"")}function x(){for(const E of o)E();o=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:p,listen:g,destroy:x}}function Tp(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?dc():null}}function S3(e){const{history:t,location:n}=window,r={value:O_(e,n)},a={value:t.state};a.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(p,g,y){const x=e.indexOf("#"),E=x>-1?(n.host&&document.querySelector("base")?e:e.slice(x))+p:M3()+e+p;try{t[y?"replaceState":"pushState"](g,"",E),a.value=g}catch(A){console.error(A),n[y?"replace":"assign"](E)}}function u(p,g){const y=$t({},t.state,Tp(a.value.back,p,a.value.forward,!0),g,{position:a.value.position});o(p,y,!0),r.value=p}function d(p,g){const y=$t({},a.value,t.state,{forward:p,scroll:dc()});o(y.current,y,!0);const x=$t({},Tp(r.value,p,null),{position:y.position+1},g);o(p,x,!1),r.value=p}return{location:r,state:a,push:d,replace:u}}function F_(e){e=v3(e);const t=S3(e),n=A3(e,t.state,t.location,t.replace);function r(o,u=!0){u||n.pauseListeners(),history.go(o)}const a=$t({location:"",base:e,go:r,createHref:k3.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function B3(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),F_(e)}function P3(e){return typeof e=="string"||e&&typeof e=="object"}function I_(e){return typeof e=="string"||typeof e=="symbol"}const N_=Symbol("");var Rp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Rp||(Rp={}));function Rs(e,t){return $t(new Error,{type:e,[N_]:!0},t)}function vr(e,t){return e instanceof Error&&N_ in e&&(t==null||!!(e.type&t))}const Op="[^/]+?",D3={sensitive:!1,strict:!1,start:!0,end:!0},T3=/[.+*?^${}()[\]/\\]/g;function R3(e,t){const n=$t({},D3,t),r=[];let a=n.start?"^":"";const o=[];for(const g of e){const y=g.length?[]:[90];n.strict&&!g.length&&(a+="/");for(let x=0;x<g.length;x++){const E=g[x];let A=40+(n.sensitive?.25:0);if(E.type===0)x||(a+="/"),a+=E.value.replace(T3,"\\$&"),A+=40;else if(E.type===1){const{value:B,repeatable:j,optional:Q,regexp:se}=E;o.push({name:B,repeatable:j,optional:Q});const te=se||Op;if(te!==Op){A+=10;try{new RegExp(`(${te})`)}catch(Z){throw new Error(`Invalid custom RegExp for param "${B}" (${te}): `+Z.message)}}let z=j?`((?:${te})(?:/(?:${te}))*)`:`(${te})`;x||(z=Q&&g.length<2?`(?:/${z})`:"/"+z),Q&&(z+="?"),a+=z,A+=20,Q&&(A+=-8),j&&(A+=-20),te===".*"&&(A+=-50)}y.push(A)}r.push(y)}if(n.strict&&n.end){const g=r.length-1;r[g][r[g].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const u=new RegExp(a,n.sensitive?"":"i");function d(g){const y=g.match(u),x={};if(!y)return null;for(let E=1;E<y.length;E++){const A=y[E]||"",B=o[E-1];x[B.name]=A&&B.repeatable?A.split("/"):A}return x}function p(g){let y="",x=!1;for(const E of e){(!x||!y.endsWith("/"))&&(y+="/"),x=!1;for(const A of E)if(A.type===0)y+=A.value;else if(A.type===1){const{value:B,repeatable:j,optional:Q}=A,se=B in g?g[B]:"";if(Vi(se)&&!j)throw new Error(`Provided param "${B}" is an array but it is not repeatable (* or + modifiers)`);const te=Vi(se)?se.join("/"):se;if(!te)if(Q)E.length<2&&(y.endsWith("/")?y=y.slice(0,-1):x=!0);else throw new Error(`Missing required param "${B}"`);y+=te}}return y||"/"}return{re:u,score:r,keys:o,parse:d,stringify:p}}function O3(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function z_(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const o=O3(r[n],a[n]);if(o)return o;n++}if(Math.abs(a.length-r.length)===1){if(Fp(r))return 1;if(Fp(a))return-1}return a.length-r.length}function Fp(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const F3={type:0,value:""},I3=/[a-zA-Z0-9_]/;function N3(e){if(!e)return[[]];if(e==="/")return[[F3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(A){throw new Error(`ERR (${n})/"${g}": ${A}`)}let n=0,r=n;const a=[];let o;function u(){o&&a.push(o),o=[]}let d=0,p,g="",y="";function x(){g&&(n===0?o.push({type:0,value:g}):n===1||n===2||n===3?(o.length>1&&(p==="*"||p==="+")&&t(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:g,regexp:y,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):t("Invalid state to consume buffer"),g="")}function E(){g+=p}for(;d<e.length;){if(p=e[d++],p==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:p==="/"?(g&&x(),u()):p===":"?(x(),n=1):E();break;case 4:E(),n=r;break;case 1:p==="("?n=2:I3.test(p)?E():(x(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&d--);break;case 2:p===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+p:n=3:y+=p;break;case 3:x(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&d--,y="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${g}"`),x(),u(),a}function z3(e,t,n){const r=R3(N3(e.path),n),a=$t(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function j3(e,t){const n=[],r=new Map;t=jp({strict:!1,end:!0,sensitive:!1},t);function a(x){return r.get(x)}function o(x,E,A){const B=!A,j=Np(x);j.aliasOf=A&&A.record;const Q=jp(t,x),se=[j];if("alias"in x){const Z=typeof x.alias=="string"?[x.alias]:x.alias;for(const re of Z)se.push(Np($t({},j,{components:A?A.record.components:j.components,path:re,aliasOf:A?A.record:j})))}let te,z;for(const Z of se){const{path:re}=Z;if(E&&re[0]!=="/"){const ye=E.record.path,De=ye[ye.length-1]==="/"?"":"/";Z.path=E.record.path+(re&&De+re)}if(te=z3(Z,E,Q),A?A.alias.push(te):(z=z||te,z!==te&&z.alias.push(te),B&&x.name&&!zp(te)&&u(x.name)),j_(te)&&p(te),j.children){const ye=j.children;for(let De=0;De<ye.length;De++)o(ye[De],te,A&&A.children[De])}A=A||te}return z?()=>{u(z)}:Va}function u(x){if(I_(x)){const E=r.get(x);E&&(r.delete(x),n.splice(n.indexOf(E),1),E.children.forEach(u),E.alias.forEach(u))}else{const E=n.indexOf(x);E>-1&&(n.splice(E,1),x.record.name&&r.delete(x.record.name),x.children.forEach(u),x.alias.forEach(u))}}function d(){return n}function p(x){const E=H3(x,n);n.splice(E,0,x),x.record.name&&!zp(x)&&r.set(x.record.name,x)}function g(x,E){let A,B={},j,Q;if("name"in x&&x.name){if(A=r.get(x.name),!A)throw Rs(1,{location:x});Q=A.record.name,B=$t(Ip(E.params,A.keys.filter(z=>!z.optional).concat(A.parent?A.parent.keys.filter(z=>z.optional):[]).map(z=>z.name)),x.params&&Ip(x.params,A.keys.map(z=>z.name))),j=A.stringify(B)}else if(x.path!=null)j=x.path,A=n.find(z=>z.re.test(j)),A&&(B=A.parse(j),Q=A.record.name);else{if(A=E.name?r.get(E.name):n.find(z=>z.re.test(E.path)),!A)throw Rs(1,{location:x,currentLocation:E});Q=A.record.name,B=$t({},E.params,x.params),j=A.stringify(B)}const se=[];let te=A;for(;te;)se.unshift(te.record),te=te.parent;return{name:Q,path:j,params:B,matched:se,meta:V3(se)}}e.forEach(x=>o(x));function y(){n.length=0,r.clear()}return{addRoute:o,resolve:g,removeRoute:u,clearRoutes:y,getRoutes:d,getRecordMatcher:a}}function Ip(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Np(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:G3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function G3(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function zp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function V3(e){return e.reduce((t,n)=>$t(t,n.meta),{})}function jp(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function H3(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;z_(e,t[o])<0?r=o:n=o+1}const a=U3(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function U3(e){let t=e;for(;t=t.parent;)if(j_(t)&&z_(e,t)===0)return t}function j_({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function $3(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const o=r[a].replace(B_," "),u=o.indexOf("="),d=nu(u<0?o:o.slice(0,u)),p=u<0?null:nu(o.slice(u+1));if(d in t){let g=t[d];Vi(g)||(g=t[d]=[g]),g.push(p)}else t[d]=p}return t}function Gp(e){let t="";for(let n in e){const r=e[n];if(n=h3(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Vi(r)?r.map(o=>o&&dd(o)):[r&&dd(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function q3(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Vi(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const Z3=Symbol(""),Vp=Symbol(""),fc=Symbol(""),cf=Symbol(""),pd=Symbol("");function Ba(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Jr(e,t,n,r,a,o=u=>u()){const u=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((d,p)=>{const g=E=>{E===!1?p(Rs(4,{from:n,to:t})):E instanceof Error?p(E):P3(E)?p(Rs(2,{from:t,to:E})):(u&&r.enterCallbacks[a]===u&&typeof E=="function"&&u.push(E),d())},y=o(()=>e.call(r&&r.instances[a],t,n,g));let x=Promise.resolve(y);e.length<3&&(x=x.then(g)),x.catch(E=>p(E))})}function Fh(e,t,n,r,a=o=>o()){const o=[];for(const u of e)for(const d in u.components){let p=u.components[d];if(!(t!=="beforeRouteEnter"&&!u.instances[d]))if(A_(p)){const y=(p.__vccOpts||p)[t];y&&o.push(Jr(y,n,r,u,d,a))}else{let g=p();o.push(()=>g.then(y=>{if(!y)throw new Error(`Couldn't resolve component "${d}" at "${u.path}"`);const x=e3(y)?y.default:y;u.mods[d]=y,u.components[d]=x;const A=(x.__vccOpts||x)[t];return A&&Jr(A,n,r,u,d,a)()}))}}return o}function Hp(e){const t=Pi(fc),n=Pi(cf),r=We(()=>{const p=ze(e.to);return t.resolve(p)}),a=We(()=>{const{matched:p}=r.value,{length:g}=p,y=p[g-1],x=n.matched;if(!y||!x.length)return-1;const E=x.findIndex(Ts.bind(null,y));if(E>-1)return E;const A=Up(p[g-2]);return g>1&&Up(y)===A&&x[x.length-1].path!==A?x.findIndex(Ts.bind(null,p[g-2])):E}),o=We(()=>a.value>-1&&Y3(n.params,r.value.params)),u=We(()=>a.value>-1&&a.value===n.matched.length-1&&R_(n.params,r.value.params));function d(p={}){return J3(p)?t[ze(e.replace)?"replace":"push"](ze(e.to)).catch(Va):Promise.resolve()}return{route:r,href:We(()=>r.value.href),isActive:o,isExactActive:u,navigate:d}}const K3=Rt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hp,setup(e,{slots:t}){const n=pu(Hp(e)),{options:r}=Pi(fc),a=We(()=>({[$p(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[$p(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:sf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},o)}}}),W3=K3;function J3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Y3(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Vi(a)||a.length!==r.length||r.some((o,u)=>o!==a[u]))return!1}return!0}function Up(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $p=(e,t,n)=>e??t??n,X3=Rt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Pi(pd),a=We(()=>e.route||r.value),o=Pi(Vp,0),u=We(()=>{let g=ze(o);const{matched:y}=a.value;let x;for(;(x=y[g])&&!x.components;)g++;return g}),d=We(()=>a.value.matched[u.value]);Al(Vp,We(()=>u.value+1)),Al(Z3,d),Al(pd,a);const p=Ze();return gn(()=>[p.value,d.value,e.name],([g,y,x],[E,A,B])=>{y&&(y.instances[x]=g,A&&A!==y&&g&&g===E&&(y.leaveGuards.size||(y.leaveGuards=A.leaveGuards),y.updateGuards.size||(y.updateGuards=A.updateGuards))),g&&y&&(!A||!Ts(y,A)||!E)&&(y.enterCallbacks[x]||[]).forEach(j=>j(g))},{flush:"post"}),()=>{const g=a.value,y=e.name,x=d.value,E=x&&x.components[y];if(!E)return qp(n.default,{Component:E,route:g});const A=x.props[y],B=A?A===!0?g.params:typeof A=="function"?A(g):A:null,Q=sf(E,$t({},B,t,{onVnodeUnmounted:se=>{se.component.isUnmounted&&(x.instances[y]=null)},ref:p}));return qp(n.default,{Component:Q,route:g})||Q}}});function qp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Q3=X3;function e4(e){const t=j3(e.routes,e),n=e.parseQuery||$3,r=e.stringifyQuery||Gp,a=e.history,o=Ba(),u=Ba(),d=Ba(),p=Ny(Hr);let g=Hr;ws&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=Rh.bind(null,xe=>""+xe),x=Rh.bind(null,f3),E=Rh.bind(null,nu);function A(xe,qe){let He,tt;return I_(xe)?(He=t.getRecordMatcher(xe),tt=qe):tt=xe,t.addRoute(tt,He)}function B(xe){const qe=t.getRecordMatcher(xe);qe&&t.removeRoute(qe)}function j(){return t.getRoutes().map(xe=>xe.record)}function Q(xe){return!!t.getRecordMatcher(xe)}function se(xe,qe){if(qe=$t({},qe||p.value),typeof xe=="string"){const K=Oh(n,xe,qe.path),pe=t.resolve({path:K.path},qe),Ae=a.createHref(K.fullPath);return $t(K,pe,{params:E(pe.params),hash:nu(K.hash),redirectedFrom:void 0,href:Ae})}let He;if(xe.path!=null)He=$t({},xe,{path:Oh(n,xe.path,qe.path).path});else{const K=$t({},xe.params);for(const pe in K)K[pe]==null&&delete K[pe];He=$t({},xe,{params:x(K)}),qe.params=x(qe.params)}const tt=t.resolve(He,qe),Bt=xe.hash||"";tt.params=y(E(tt.params));const zt=_3(r,$t({},xe,{hash:c3(Bt),path:tt.path})),V=a.createHref(zt);return $t({fullPath:zt,hash:Bt,query:r===Gp?q3(xe.query):xe.query||{}},tt,{redirectedFrom:void 0,href:V})}function te(xe){return typeof xe=="string"?Oh(n,xe,p.value.path):$t({},xe)}function z(xe,qe){if(g!==xe)return Rs(8,{from:qe,to:xe})}function Z(xe){return De(xe)}function re(xe){return Z($t(te(xe),{replace:!0}))}function ye(xe){const qe=xe.matched[xe.matched.length-1];if(qe&&qe.redirect){const{redirect:He}=qe;let tt=typeof He=="function"?He(xe):He;return typeof tt=="string"&&(tt=tt.includes("?")||tt.includes("#")?tt=te(tt):{path:tt},tt.params={}),$t({query:xe.query,hash:xe.hash,params:tt.path!=null?{}:xe.params},tt)}}function De(xe,qe){const He=g=se(xe),tt=p.value,Bt=xe.state,zt=xe.force,V=xe.replace===!0,K=ye(He);if(K)return De($t(te(K),{state:typeof K=="object"?$t({},Bt,K.state):Bt,force:zt,replace:V}),qe||He);const pe=He;pe.redirectedFrom=qe;let Ae;return!zt&&g3(r,tt,He)&&(Ae=Rs(16,{to:pe,from:tt}),St(tt,tt,!0,!1)),(Ae?Promise.resolve(Ae):Te(pe,tt)).catch(ke=>vr(ke)?vr(ke,2)?ke:st(ke):Me(ke,pe,tt)).then(ke=>{if(ke){if(vr(ke,2))return De($t({replace:V},te(ke.to),{state:typeof ke.to=="object"?$t({},Bt,ke.to.state):Bt,force:zt}),qe||pe)}else ke=Pe(pe,tt,!0,V,Bt);return Ve(pe,tt,ke),ke})}function Re(xe,qe){const He=z(xe,qe);return He?Promise.reject(He):Promise.resolve()}function we(xe){const qe=Ut.values().next().value;return qe&&typeof qe.runWithContext=="function"?qe.runWithContext(xe):xe()}function Te(xe,qe){let He;const[tt,Bt,zt]=t4(xe,qe);He=Fh(tt.reverse(),"beforeRouteLeave",xe,qe);for(const K of tt)K.leaveGuards.forEach(pe=>{He.push(Jr(pe,xe,qe))});const V=Re.bind(null,xe,qe);return He.push(V),mt(He).then(()=>{He=[];for(const K of o.list())He.push(Jr(K,xe,qe));return He.push(V),mt(He)}).then(()=>{He=Fh(Bt,"beforeRouteUpdate",xe,qe);for(const K of Bt)K.updateGuards.forEach(pe=>{He.push(Jr(pe,xe,qe))});return He.push(V),mt(He)}).then(()=>{He=[];for(const K of zt)if(K.beforeEnter)if(Vi(K.beforeEnter))for(const pe of K.beforeEnter)He.push(Jr(pe,xe,qe));else He.push(Jr(K.beforeEnter,xe,qe));return He.push(V),mt(He)}).then(()=>(xe.matched.forEach(K=>K.enterCallbacks={}),He=Fh(zt,"beforeRouteEnter",xe,qe,we),He.push(V),mt(He))).then(()=>{He=[];for(const K of u.list())He.push(Jr(K,xe,qe));return He.push(V),mt(He)}).catch(K=>vr(K,8)?K:Promise.reject(K))}function Ve(xe,qe,He){d.list().forEach(tt=>we(()=>tt(xe,qe,He)))}function Pe(xe,qe,He,tt,Bt){const zt=z(xe,qe);if(zt)return zt;const V=qe===Hr,K=ws?history.state:{};He&&(tt||V?a.replace(xe.fullPath,$t({scroll:V&&K&&K.scroll},Bt)):a.push(xe.fullPath,Bt)),p.value=xe,St(xe,qe,He,V),st()}let ot;function gt(){ot||(ot=a.listen((xe,qe,He)=>{if(!Pt.listening)return;const tt=se(xe),Bt=ye(tt);if(Bt){De($t(Bt,{replace:!0}),tt).catch(Va);return}g=tt;const zt=p.value;ws&&L3(Dp(zt.fullPath,He.delta),dc()),Te(tt,zt).catch(V=>vr(V,12)?V:vr(V,2)?(De(V.to,tt).then(K=>{vr(K,20)&&!He.delta&&He.type===iu.pop&&a.go(-1,!1)}).catch(Va),Promise.reject()):(He.delta&&a.go(-He.delta,!1),Me(V,tt,zt))).then(V=>{V=V||Pe(tt,zt,!1),V&&(He.delta&&!vr(V,8)?a.go(-He.delta,!1):He.type===iu.pop&&vr(V,20)&&a.go(-1,!1)),Ve(tt,zt,V)}).catch(Va)}))}let At=Ba(),Ue=Ba(),it;function Me(xe,qe,He){st(xe);const tt=Ue.list();return tt.length?tt.forEach(Bt=>Bt(xe,qe,He)):console.error(xe),Promise.reject(xe)}function en(){return it&&p.value!==Hr?Promise.resolve():new Promise((xe,qe)=>{At.add([xe,qe])})}function st(xe){return it||(it=!xe,gt(),At.list().forEach(([qe,He])=>xe?He(xe):qe()),At.reset()),xe}function St(xe,qe,He,tt){const{scrollBehavior:Bt}=e;if(!ws||!Bt)return Promise.resolve();const zt=!He&&E3(Dp(xe.fullPath,0))||(tt||!He)&&history.state&&history.state.scroll||null;return _u().then(()=>Bt(xe,qe,zt)).then(V=>V&&w3(V)).catch(V=>Me(V,xe,qe))}const jt=xe=>a.go(xe);let rn;const Ut=new Set,Pt={currentRoute:p,listening:!0,addRoute:A,removeRoute:B,clearRoutes:t.clearRoutes,hasRoute:Q,getRoutes:j,resolve:se,options:e,push:Z,replace:re,go:jt,back:()=>jt(-1),forward:()=>jt(1),beforeEach:o.add,beforeResolve:u.add,afterEach:d.add,onError:Ue.add,isReady:en,install(xe){const qe=this;xe.component("RouterLink",W3),xe.component("RouterView",Q3),xe.config.globalProperties.$router=qe,Object.defineProperty(xe.config.globalProperties,"$route",{enumerable:!0,get:()=>ze(p)}),ws&&!rn&&p.value===Hr&&(rn=!0,Z(a.location).catch(Bt=>{}));const He={};for(const Bt in Hr)Object.defineProperty(He,Bt,{get:()=>p.value[Bt],enumerable:!0});xe.provide(fc,qe),xe.provide(cf,Em(He)),xe.provide(pd,p);const tt=xe.unmount;Ut.add(xe),xe.unmount=function(){Ut.delete(xe),Ut.size<1&&(g=Hr,ot&&ot(),ot=null,p.value=Hr,rn=!1,it=!1),tt()}}};function mt(xe){return xe.reduce((qe,He)=>qe.then(()=>we(He)),Promise.resolve())}return Pt}function t4(e,t){const n=[],r=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let u=0;u<o;u++){const d=t.matched[u];d&&(e.matched.find(g=>Ts(g,d))?r.push(d):n.push(d));const p=e.matched[u];p&&(t.matched.find(g=>Ts(g,p))||a.push(p))}return[n,r,a]}function bu(){return Pi(fc)}function vu(e){return Pi(cf)}var n4=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let G_;const pc=e=>G_=e,V_=Symbol();function md(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ua;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ua||(Ua={}));function H_(){const e=cm(!0),t=e.run(()=>Ze({}));let n=[],r=[];const a=Yd({install(o){pc(a),a._a=o,o.provide(V_,a),o.config.globalProperties.$pinia=a,r.forEach(u=>n.push(u)),r=[]},use(o){return!this._a&&!n4?r.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const U_=()=>{};function Zp(e,t,n,r=U_){e.push(t);const a=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&hm()&&my(a),a}function vs(e,...t){e.slice().forEach(n=>{n(...t)})}const i4=e=>e(),Kp=Symbol(),Ih=Symbol();function _d(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],a=e[n];md(a)&&md(r)&&e.hasOwnProperty(n)&&!_n(r)&&!wr(r)?e[n]=_d(a,r):e[n]=r}return e}const r4=Symbol();function o4(e){return!md(e)||!e.hasOwnProperty(r4)}const{assign:qr}=Object;function s4(e){return!!(_n(e)&&e.effect)}function a4(e,t,n,r){const{state:a,actions:o,getters:u}=t,d=n.state.value[e];let p;function g(){d||(n.state.value[e]=a?a():{});const y=Gy(n.state.value[e]);return qr(y,o,Object.keys(u||{}).reduce((x,E)=>(x[E]=Yd(We(()=>{pc(n);const A=n._s.get(e);return u[E].call(A,A)})),x),{}))}return p=$_(e,g,t,n,r,!0),p}function $_(e,t,n={},r,a,o){let u;const d=qr({actions:{}},n),p={deep:!0};let g,y,x=[],E=[],A;const B=r.state.value[e];!o&&!B&&(r.state.value[e]={}),Ze({});let j;function Q(Re){let we;g=y=!1,typeof Re=="function"?(Re(r.state.value[e]),we={type:Ua.patchFunction,storeId:e,events:A}):(_d(r.state.value[e],Re),we={type:Ua.patchObject,payload:Re,storeId:e,events:A});const Te=j=Symbol();_u().then(()=>{j===Te&&(g=!0)}),y=!0,vs(x,we,r.state.value[e])}const se=o?function(){const{state:we}=n,Te=we?we():{};this.$patch(Ve=>{qr(Ve,Te)})}:U_;function te(){u.stop(),x=[],E=[],r._s.delete(e)}const z=(Re,we="")=>{if(Kp in Re)return Re[Ih]=we,Re;const Te=function(){pc(r);const Ve=Array.from(arguments),Pe=[],ot=[];function gt(it){Pe.push(it)}function At(it){ot.push(it)}vs(E,{args:Ve,name:Te[Ih],store:re,after:gt,onError:At});let Ue;try{Ue=Re.apply(this&&this.$id===e?this:re,Ve)}catch(it){throw vs(ot,it),it}return Ue instanceof Promise?Ue.then(it=>(vs(Pe,it),it)).catch(it=>(vs(ot,it),Promise.reject(it))):(vs(Pe,Ue),Ue)};return Te[Kp]=!0,Te[Ih]=we,Te},Z={_p:r,$id:e,$onAction:Zp.bind(null,E),$patch:Q,$reset:se,$subscribe(Re,we={}){const Te=Zp(x,Re,we.detached,()=>Ve()),Ve=u.run(()=>gn(()=>r.state.value[e],Pe=>{(we.flush==="sync"?y:g)&&Re({storeId:e,type:Ua.direct,events:A},Pe)},qr({},p,we)));return Te},$dispose:te},re=pu(Z);r._s.set(e,re);const De=(r._a&&r._a.runWithContext||i4)(()=>r._e.run(()=>(u=cm()).run(()=>t({action:z}))));for(const Re in De){const we=De[Re];if(_n(we)&&!s4(we)||wr(we))o||(B&&o4(we)&&(_n(we)?we.value=B[Re]:_d(we,B[Re])),r.state.value[e][Re]=we);else if(typeof we=="function"){const Te=z(we,Re);De[Re]=Te,d.actions[Re]=we}}return qr(re,De),qr(Nt(re),De),Object.defineProperty(re,"$state",{get:()=>r.state.value[e],set:Re=>{Q(we=>{qr(we,Re)})}}),r._p.forEach(Re=>{qr(re,u.run(()=>Re({store:re,app:r._a,pinia:r,options:d})))}),B&&o&&n.hydrate&&n.hydrate(re.$state,B),g=!0,y=!0,re}function ao(e,t,n){let r,a;const o=typeof t=="function";typeof e=="string"?(r=e,a=o?n:t):(a=e,r=e.id);function u(d,p){const g=Cb();return d=d||(g?Pi(V_,null):null),d&&pc(d),d=G_,d._s.has(r)||(o?$_(r,t,a,d):a4(r,a,d)),d._s.get(r)}return u.$id=r,u}const hf=ao("footerStore",{state:()=>({nextAuthor:""}),actions:{async setNextAuthorText(e){this.nextAuthor=e}}});var u4={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const l4={key:0},c4={__name:"FooterAnalytics",setup(e){const t={analytics:"Google Analytics",gtm:"Google Tag Manager",pixel:"Facebook Pixel",retargeting:"VK Retargeting",linkedin:"Linkedin Insight",tongji:"Baidu Tongji",metrica:"Yandex Metrica",microsoft:"Microsoft Analytics",hotjar:"Hotjar Analytics",fullStory:"Full story Analytics",unbounce:"Unbounce conversion analytics",tiktok:"TikTok Pixel Analytics"},r=Object.keys(u4.analytics_services||{}).map(a=>t[a]).filter(Boolean).join("; ");return(a,o)=>ze(r)?(D(),q("span",l4,"This site uses "+Ie(ze(r))+".",1)):Fe("",!0)}};var h4={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const d4={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},f4={class:"container mx-auto text-sm pt-2 pb-4"},p4={class:"pt-4 pb-2 break-words"},m4=["innerHTML"],_4={key:0},g4=["href"],y4={class:"flex items-center text-xs gap-2"},b4=["src"],v4={class:"flex flex-col sm:flex-row justify-between gap-4"},x4={class:"[&>*:not(:last-child)]:after:content-['|'] [&>*:not(:last-child)]:after:mx-1"},k4={__name:"LayoutFooter",setup(e){const{project_authors:t,project_citation:n,project_url:r,copyright_text:a,copyright_image:o,copyright_image_link:u,hash_mode:d}=h4,p=hf(),g=new Date().toISOString().split("T")[0],y=vu(),x=We(()=>{const E=(r||"").replace(/\/$/,"");return E.length?d?E+"/#"+y.fullPath:E+y.fullPath:""});return(E,A)=>{const B=fe("ClientOnly"),j=fe("TrackerReport");return D(),q("footer",d4,[$("div",f4,[$("div",p4,[Xe(Ie(ze(t))+" ",1),ee(B,null,{default:ie(()=>[$("span",{innerHTML:ze(p).nextAuthor},null,8,m4)]),_:1}),Xe(" "+Ie(ze(n))+". ",1),ee(B,null,{default:ie(()=>[$("span",null,"Retrieved on "+Ie(ze(g)),1)]),_:1}),x.value?(D(),q("span",_4,[A[0]||(A[0]=Xe(" at ")),$("a",{class:"text-secondary-color",href:x.value},Ie(x.value),9,g4)])):Fe("",!0)]),$("div",y4,[(D(),Ce(Go(ze(u)?"a":"span"),{href:ze(u),class:"min-w-fit"},{default:ie(()=>[ze(o)?(D(),q("img",{key:0,src:ze(o),alt:"copyright"},null,8,b4)):Fe("",!0)]),_:1},8,["href"])),$("span",null,Ie(ze(a)),1)]),A[4]||(A[4]=$("hr",{class:"mt-3 mb-3 border-gray-500"},null,-1)),$("div",v4,[$("div",x4,[A[1]||(A[1]=$("span",null,[Xe(" Data provided by "),$("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://taxonworks.org/"}," TaxonWorks ")],-1)),A[2]||(A[2]=$("span",null,[Xe(" Pages by "),$("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://github.com/SpeciesFileGroup/taxonpages"}," TaxonPages ")],-1)),A[3]||(A[3]=$("span",null,[Xe(" Support (Services) by "),$("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://speciesfilegroup.org"}," Species File Group ")],-1)),ee(c4,{class:"italic"})]),ee(j,{icon:"",label:"Report a problem","button-class":"flex gap-2 items-center pl-0 pr-0 pt-0 pb-0 self-end"})])])])}}},C4={class:"min-h-screen h-screen flex flex-col justify-between"},w4={class:"flex flex-col flex-grow"},L4={__name:"Application",setup(e){return(t,n)=>(D(),q("div",C4,[$("div",w4,[ee(Qv),xt(t.$slots,"default")]),ee(k4)]))}};var Wp={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const E4={__name:"App",setup(e){return uf({title:Wp.project_name,meta:Wp.metadata}),(t,n)=>{const r=fe("router-view");return D(),Ce(L4,null,{default:ie(()=>[ee(r)]),_:1})}}},kt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},M4={},A4={class:"mx-auto"};function S4(e,t){return D(),q("div",A4,t[0]||(t[0]=[$("div",{class:"container mx-auto flex flex-col items-center h-screen justify-center"},[$("h1",{class:"text-4xl font-medium"}," Welcome to TaxonPages "),$("p",{class:"text-xl p-4"}," We're almost there! If you're seeing this, it's because you haven't configured API access yet. ")],-1)]))}const B4=kt(M4,[["render",S4]]),P4={},D4={class:"container mx-auto text-center relative top-1/4"};function T4(e,t){return D(),q("div",D4,t[0]||(t[0]=[$("h1",{class:"text-4xl sm:text-5xl text-base-lighter"}," Welcome to TaxonPages ",-1),$("p",{class:"m-4 my-8 text-xl"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1)]))}const R4=kt(P4,[["render",T4]]),O4=[{name:"homepage",path:"/",alias:"/home",component:R4}],F4={},I4={class:"container mx-auto text-center relative top-1/4"};function N4(e,t){return D(),q("div",I4,t[0]||(t[0]=[$("h1",{class:"text-7xl text-base-lighter"},"500",-1),$("p",null,"Internal Server Error.",-1),$("p",{class:"m-4 my-10 text-xl"},[Xe(" Uh oh, looks like something went wrong!"),$("br"),Xe(" We track these errors automatically, but if the problem persists feel free to contact us. ")],-1)]))}const z4=kt(F4,[["render",N4]]),j4={},G4={class:"container mx-auto text-center relative top-1/4"};function V4(e,t){return D(),q("div",G4,t[0]||(t[0]=[$("h1",{class:"text-7xl text-base-lighter"},"404",-1),$("p",null,"Page not found.",-1),$("p",{class:"m-4 my-10 text-xl"}," Uh oh, we can't seem to find the page you're looking for. Try going back to the previous page. ",-1)]))}const H4=kt(j4,[["render",V4]]),U4=[{path:"/500",name:"httpError500",component:z4,meta:{statusCode:500}},{path:"/:pathMatch(.*)*",name:"httpError404",component:H4,meta:{statusCode:404}}],$4="TypeMaterial",q_="CollectionObject",q4="AssertedDistribution",Z4="Georeference",K4="Aggregate",Jp="Otu";function Z_(e,t){return function(){return e.apply(t,arguments)}}const{toString:W4}=Object.prototype,{getPrototypeOf:df}=Object,mc=(e=>t=>{const n=W4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hi=e=>(e=e.toLowerCase(),t=>mc(t)===e),_c=e=>t=>typeof t===e,{isArray:zs}=Array,ru=_c("undefined");function J4(e){return e!==null&&!ru(e)&&e.constructor!==null&&!ru(e.constructor)&&_i(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const K_=Hi("ArrayBuffer");function Y4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&K_(e.buffer),t}const X4=_c("string"),_i=_c("function"),W_=_c("number"),gc=e=>e!==null&&typeof e=="object",Q4=e=>e===!0||e===!1,Pl=e=>{if(mc(e)!=="object")return!1;const t=df(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ex=Hi("Date"),tx=Hi("File"),nx=Hi("Blob"),ix=Hi("FileList"),rx=e=>gc(e)&&_i(e.pipe),ox=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_i(e.append)&&((t=mc(e))==="formdata"||t==="object"&&_i(e.toString)&&e.toString()==="[object FormData]"))},sx=Hi("URLSearchParams"),[ax,ux,lx,cx]=["ReadableStream","Request","Response","Headers"].map(Hi),hx=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),zs(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),u=o.length;let d;for(r=0;r<u;r++)d=o[r],t.call(null,e[d],d,e)}}function J_(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Y_=e=>!ru(e)&&e!==Bo;function gd(){const{caseless:e}=Y_(this)&&this||{},t={},n=(r,a)=>{const o=e&&J_(t,a)||a;Pl(t[o])&&Pl(r)?t[o]=gd(t[o],r):Pl(r)?t[o]=gd({},r):zs(r)?t[o]=r.slice():t[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&xu(arguments[r],n);return t}const dx=(e,t,n,{allOwnKeys:r}={})=>(xu(t,(a,o)=>{n&&_i(a)?e[o]=Z_(a,n):e[o]=a},{allOwnKeys:r}),e),fx=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),px=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},mx=(e,t,n,r)=>{let a,o,u;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)u=a[o],(!r||r(u,e,t))&&!d[u]&&(t[u]=e[u],d[u]=!0);e=n!==!1&&df(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},_x=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},gx=e=>{if(!e)return null;if(zs(e))return e;let t=e.length;if(!W_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},yx=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&df(Uint8Array)),bx=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},vx=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},xx=Hi("HTMLFormElement"),kx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),Yp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Cx=Hi("RegExp"),X_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xu(n,(a,o)=>{let u;(u=t(a,o,e))!==!1&&(r[o]=u||a)}),Object.defineProperties(e,r)},wx=e=>{X_(e,(t,n)=>{if(_i(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(_i(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Lx=(e,t)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return zs(e)?r(e):r(String(e).split(t)),n},Ex=()=>{},Mx=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Nh="abcdefghijklmnopqrstuvwxyz",Xp="0123456789",Q_={DIGIT:Xp,ALPHA:Nh,ALPHA_DIGIT:Nh+Nh.toUpperCase()+Xp},Ax=(e=16,t=Q_.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Sx(e){return!!(e&&_i(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Bx=e=>{const t=new Array(10),n=(r,a)=>{if(gc(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const o=zs(r)?[]:{};return xu(r,(u,d)=>{const p=n(u,a+1);!ru(p)&&(o[d]=p)}),t[a]=void 0,o}}return r};return n(e,0)},Px=Hi("AsyncFunction"),Dx=e=>e&&(gc(e)||_i(e))&&_i(e.then)&&_i(e.catch),eg=((e,t)=>e?setImmediate:t?((n,r)=>(Bo.addEventListener("message",({source:a,data:o})=>{a===Bo&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Bo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_i(Bo.postMessage)),Tx=typeof queueMicrotask<"u"?queueMicrotask.bind(Bo):typeof process<"u"&&process.nextTick||eg,be={isArray:zs,isArrayBuffer:K_,isBuffer:J4,isFormData:ox,isArrayBufferView:Y4,isString:X4,isNumber:W_,isBoolean:Q4,isObject:gc,isPlainObject:Pl,isReadableStream:ax,isRequest:ux,isResponse:lx,isHeaders:cx,isUndefined:ru,isDate:ex,isFile:tx,isBlob:nx,isRegExp:Cx,isFunction:_i,isStream:rx,isURLSearchParams:sx,isTypedArray:yx,isFileList:ix,forEach:xu,merge:gd,extend:dx,trim:hx,stripBOM:fx,inherits:px,toFlatObject:mx,kindOf:mc,kindOfTest:Hi,endsWith:_x,toArray:gx,forEachEntry:bx,matchAll:vx,isHTMLForm:xx,hasOwnProperty:Yp,hasOwnProp:Yp,reduceDescriptors:X_,freezeMethods:wx,toObjectSet:Lx,toCamelCase:kx,noop:Ex,toFiniteNumber:Mx,findKey:J_,global:Bo,isContextDefined:Y_,ALPHABET:Q_,generateString:Ax,isSpecCompliantForm:Sx,toJSONObject:Bx,isAsyncFn:Px,isThenable:Dx,setImmediate:eg,asap:Tx};function Ct(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}be.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const tg=Ct.prototype,ng={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ng[e]={value:e}});Object.defineProperties(Ct,ng);Object.defineProperty(tg,"isAxiosError",{value:!0});Ct.from=(e,t,n,r,a,o)=>{const u=Object.create(tg);return be.toFlatObject(e,u,function(d){return d!==Error.prototype},d=>d!=="isAxiosError"),Ct.call(u,e.message,t,n,r,a),u.cause=e,u.name=e.name,o&&Object.assign(u,o),u};const Rx=null;function yd(e){return be.isPlainObject(e)||be.isArray(e)}function ig(e){return be.endsWith(e,"[]")?e.slice(0,-2):e}function Qp(e,t,n){return e?e.concat(t).map(function(r,a){return r=ig(r),!n&&a?"["+r+"]":r}).join(n?".":""):t}function Ox(e){return be.isArray(e)&&!e.some(yd)}const Fx=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function yc(e,t,n){if(!be.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,B){return!be.isUndefined(B[A])});const r=n.metaTokens,a=n.visitor||g,o=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(t);if(!be.isFunction(a))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(be.isDate(A))return A.toISOString();if(!d&&be.isBlob(A))throw new Ct("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(A)||be.isTypedArray(A)?d&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function g(A,B,j){let Q=A;if(A&&!j&&typeof A=="object"){if(be.endsWith(B,"{}"))B=r?B:B.slice(0,-2),A=JSON.stringify(A);else if(be.isArray(A)&&Ox(A)||(be.isFileList(A)||be.endsWith(B,"[]"))&&(Q=be.toArray(A)))return B=ig(B),Q.forEach(function(se,te){!(be.isUndefined(se)||se===null)&&t.append(u===!0?Qp([B],te,o):u===null?B:B+"[]",p(se))}),!1}return yd(A)?!0:(t.append(Qp(j,B,o),p(A)),!1)}const y=[],x=Object.assign(Fx,{defaultVisitor:g,convertValue:p,isVisitable:yd});function E(A,B){if(!be.isUndefined(A)){if(y.indexOf(A)!==-1)throw Error("Circular reference detected in "+B.join("."));y.push(A),be.forEach(A,function(j,Q){(!(be.isUndefined(j)||j===null)&&a.call(t,j,be.isString(Q)?Q.trim():Q,B,x))===!0&&E(j,B?B.concat(Q):[Q])}),y.pop()}}if(!be.isObject(e))throw new TypeError("data must be an object");return E(e),t}function e0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ff(e,t){this._pairs=[],e&&yc(e,this,t)}const rg=ff.prototype;rg.append=function(e,t){this._pairs.push([e,t])};rg.toString=function(e){const t=e?function(n){return e.call(this,n,e0)}:e0;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function Ix(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function og(e,t,n){if(!t)return e;const r=n&&n.encode||Ix,a=n&&n.serialize;let o;if(a?o=a(t,n):o=be.isURLSearchParams(t)?t.toString():new ff(t,n).toString(r),o){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class t0{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){be.forEach(this.handlers,function(n){n!==null&&t(n)})}}const sg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nx=typeof URLSearchParams<"u"?URLSearchParams:ff,zx=typeof FormData<"u"?FormData:null,jx=typeof Blob<"u"?Blob:null,Gx={isBrowser:!0,classes:{URLSearchParams:Nx,FormData:zx,Blob:jx},protocols:["http","https","file","blob","url","data"]},pf=typeof window<"u"&&typeof document<"u",bd=typeof navigator=="object"&&navigator||void 0,Vx=pf&&(!bd||["ReactNative","NativeScript","NS"].indexOf(bd.product)<0),Hx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ux=pf&&window.location.href||"http://localhost",$x=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pf,hasStandardBrowserEnv:Vx,hasStandardBrowserWebWorkerEnv:Hx,navigator:bd,origin:Ux},Symbol.toStringTag,{value:"Module"})),si={...$x,...Gx};function qx(e,t){return yc(e,new si.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,o){return si.isNode&&be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Zx(e){return be.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Kx(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}function ag(e){function t(n,r,a,o){let u=n[o++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),p=o>=n.length;return u=!u&&be.isArray(a)?a.length:u,p?(be.hasOwnProp(a,u)?a[u]=[a[u],r]:a[u]=r,!d):((!a[u]||!be.isObject(a[u]))&&(a[u]=[]),t(n,r,a[u],o)&&be.isArray(a[u])&&(a[u]=Kx(a[u])),!d)}if(be.isFormData(e)&&be.isFunction(e.entries)){const n={};return be.forEachEntry(e,(r,a)=>{t(Zx(r),a,n,0)}),n}return null}function Wx(e,t,n){if(be.isString(e))try{return(t||JSON.parse)(e),be.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const ku={transitional:sg,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=be.isObject(e);if(a&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return r?JSON.stringify(ag(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qx(e,this.formSerializer).toString();if((o=be.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return yc(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),Wx(e)):e}],transformResponse:[function(e){const t=this.transitional||ku.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(n&&!this.responseType||r)){const a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Ct.from(o,Ct.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:si.classes.FormData,Blob:si.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],e=>{ku.headers[e]={}});const Jx=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yx=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&Jx[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},n0=Symbol("internals");function Pa(e){return e&&String(e).trim().toLowerCase()}function Dl(e){return e===!1||e==null?e:be.isArray(e)?e.map(Dl):String(e)}function Xx(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Qx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function zh(e,t,n,r,a){if(be.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!be.isString(t)){if(be.isString(r))return t.indexOf(r)!==-1;if(be.isRegExp(r))return r.test(t)}}function e2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function t2(e,t){const n=be.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,o,u){return this[r].call(this,t,a,o,u)},configurable:!0})})}class ai{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function o(d,p,g){const y=Pa(p);if(!y)throw new Error("header name must be a non-empty string");const x=be.findKey(a,y);(!x||a[x]===void 0||g===!0||g===void 0&&a[x]!==!1)&&(a[x||p]=Dl(d))}const u=(d,p)=>be.forEach(d,(g,y)=>o(g,y,p));if(be.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(be.isString(t)&&(t=t.trim())&&!Qx(t))u(Yx(t),n);else if(be.isHeaders(t))for(const[d,p]of t.entries())o(p,d,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=Pa(t),t){const r=be.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Xx(a);if(be.isFunction(n))return n.call(this,a,r);if(be.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Pa(t),t){const r=be.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||zh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function o(u){if(u=Pa(u),u){const d=be.findKey(r,u);d&&(!n||zh(r,r[d],d,n))&&(delete r[d],a=!0)}}return be.isArray(t)?t.forEach(o):o(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!t||zh(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const n=this,r={};return be.forEach(this,(a,o)=>{const u=be.findKey(r,o);if(u){n[u]=Dl(a),delete n[o];return}const d=t?e2(o):String(o).trim();d!==o&&delete n[o],n[d]=Dl(a),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return be.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const n=(this[n0]=this[n0]={accessors:{}}).accessors,r=this.prototype;function a(o){const u=Pa(o);n[u]||(t2(r,o),n[u]=!0)}return be.isArray(t)?t.forEach(a):a(t),this}}ai.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(ai.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});be.freezeMethods(ai);function jh(e,t){const n=this||ku,r=t||n,a=ai.from(r.headers);let o=r.data;return be.forEach(e,function(u){o=u.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function ug(e){return!!(e&&e.__CANCEL__)}function js(e,t,n){Ct.call(this,e??"canceled",Ct.ERR_CANCELED,t,n),this.name="CanceledError"}be.inherits(js,Ct,{__CANCEL__:!0});function lg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ct("Request failed with status code "+n.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function n2(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function i2(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,o=0,u;return t=t!==void 0?t:1e3,function(d){const p=Date.now(),g=r[o];u||(u=p),n[a]=d,r[a]=p;let y=o,x=0;for(;y!==a;)x+=n[y++],y=y%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),p-u<t)return;const E=g&&p-g;return E?Math.round(x*1e3/E):void 0}}function r2(e,t){let n=0,r=1e3/t,a,o;const u=(d,p=Date.now())=>{n=p,a=null,o&&(clearTimeout(o),o=null),e.apply(null,d)};return[(...d)=>{const p=Date.now(),g=p-n;g>=r?u(d,p):(a=d,o||(o=setTimeout(()=>{o=null,u(a)},r-g)))},()=>a&&u(a)]}const Zl=(e,t,n=3)=>{let r=0;const a=i2(50,250);return r2(o=>{const u=o.loaded,d=o.lengthComputable?o.total:void 0,p=u-r,g=a(p),y=u<=d;r=u;const x={loaded:u,total:d,progress:d?u/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&y?(d-u)/g:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(x)},n)},i0=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},r0=e=>(...t)=>be.asap(()=>e(...t)),o2=si.hasStandardBrowserEnv?function(){const e=si.navigator&&/(msie|trident)/i.test(si.navigator.userAgent),t=document.createElement("a");let n;function r(a){let o=a;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(a){const o=be.isString(a)?r(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}(),s2=si.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const u=[e+"="+encodeURIComponent(t)];be.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),be.isString(r)&&u.push("path="+r),be.isString(a)&&u.push("domain="+a),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function a2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function u2(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cg(e,t){return e&&!a2(t)?u2(e,t):t}const o0=e=>e instanceof ai?{...e}:e;function zo(e,t){t=t||{};const n={};function r(g,y,x){return be.isPlainObject(g)&&be.isPlainObject(y)?be.merge.call({caseless:x},g,y):be.isPlainObject(y)?be.merge({},y):be.isArray(y)?y.slice():y}function a(g,y,x){if(be.isUndefined(y)){if(!be.isUndefined(g))return r(void 0,g,x)}else return r(g,y,x)}function o(g,y){if(!be.isUndefined(y))return r(void 0,y)}function u(g,y){if(be.isUndefined(y)){if(!be.isUndefined(g))return r(void 0,g)}else return r(void 0,y)}function d(g,y,x){if(x in t)return r(g,y);if(x in e)return r(void 0,g)}const p={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(g,y)=>a(o0(g),o0(y),!0)};return be.forEach(Object.keys(Object.assign({},e,t)),function(g){const y=p[g]||a,x=y(e[g],t[g],g);be.isUndefined(x)&&y!==d||(n[g]=x)}),n}const hg=e=>{const t=zo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:u,auth:d}=t;t.headers=u=ai.from(u),t.url=og(cg(t.baseURL,t.url),e.params,e.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(be.isFormData(n)){if(si.hasStandardBrowserEnv||si.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[g,...y]=p?p.split(";").map(x=>x.trim()).filter(Boolean):[];u.setContentType([g||"multipart/form-data",...y].join("; "))}}if(si.hasStandardBrowserEnv&&(r&&be.isFunction(r)&&(r=r(t)),r||r!==!1&&o2(t.url))){const g=a&&o&&s2.read(o);g&&u.set(a,g)}return t},l2=typeof XMLHttpRequest<"u",c2=l2&&function(e){return new Promise(function(t,n){const r=hg(e);let a=r.data;const o=ai.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:p}=r,g,y,x,E,A;function B(){E&&E(),A&&A(),r.cancelToken&&r.cancelToken.unsubscribe(g),r.signal&&r.signal.removeEventListener("abort",g)}let j=new XMLHttpRequest;j.open(r.method.toUpperCase(),r.url,!0),j.timeout=r.timeout;function Q(){if(!j)return;const te=ai.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),z={data:!u||u==="text"||u==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:te,config:e,request:j};lg(function(Z){t(Z),B()},function(Z){n(Z),B()},z),j=null}"onloadend"in j?j.onloadend=Q:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(Q)},j.onabort=function(){j&&(n(new Ct("Request aborted",Ct.ECONNABORTED,e,j)),j=null)},j.onerror=function(){n(new Ct("Network Error",Ct.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let te=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const z=r.transitional||sg;r.timeoutErrorMessage&&(te=r.timeoutErrorMessage),n(new Ct(te,z.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,e,j)),j=null},a===void 0&&o.setContentType(null),"setRequestHeader"in j&&be.forEach(o.toJSON(),function(te,z){j.setRequestHeader(z,te)}),be.isUndefined(r.withCredentials)||(j.withCredentials=!!r.withCredentials),u&&u!=="json"&&(j.responseType=r.responseType),p&&([x,A]=Zl(p,!0),j.addEventListener("progress",x)),d&&j.upload&&([y,E]=Zl(d),j.upload.addEventListener("progress",y),j.upload.addEventListener("loadend",E)),(r.cancelToken||r.signal)&&(g=te=>{j&&(n(!te||te.type?new js(null,e,j):te),j.abort(),j=null)},r.cancelToken&&r.cancelToken.subscribe(g),r.signal&&(r.signal.aborted?g():r.signal.addEventListener("abort",g)));const se=n2(r.url);if(se&&si.protocols.indexOf(se)===-1){n(new Ct("Unsupported protocol "+se+":",Ct.ERR_BAD_REQUEST,e));return}j.send(a||null)})},h2=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const o=function(g){if(!a){a=!0,d();const y=g instanceof Error?g:this.reason;r.abort(y instanceof Ct?y:new js(y instanceof Error?y.message:y))}};let u=t&&setTimeout(()=>{u=null,o(new Ct(`timeout ${t} of ms exceeded`,Ct.ETIMEDOUT))},t);const d=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),e=null)};e.forEach(g=>g.addEventListener("abort",o));const{signal:p}=r;return p.unsubscribe=()=>be.asap(d),p}},d2=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},f2=async function*(e,t){for await(const n of p2(e))yield*d2(n,t)},p2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},s0=(e,t,n,r)=>{const a=f2(e,t);let o=0,u,d=p=>{u||(u=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:g,value:y}=await a.next();if(g){d(),p.close();return}let x=y.byteLength;if(n){let E=o+=x;n(E)}p.enqueue(new Uint8Array(y))}catch(g){throw d(g),g}},cancel(p){return d(p),a.return()}},{highWaterMark:2})},bc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dg=bc&&typeof ReadableStream=="function",m2=bc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_2=dg&&fg(()=>{let e=!1;const t=new Request(si.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),a0=64*1024,vd=dg&&fg(()=>be.isReadableStream(new Response("").body)),Kl={stream:vd&&(e=>e.body)};bc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Kl[t]&&(Kl[t]=be.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ct(`Response type '${t}' is not supported`,Ct.ERR_NOT_SUPPORT,r)})})})(new Response);const g2=async e=>{if(e==null)return 0;if(be.isBlob(e))return e.size;if(be.isSpecCompliantForm(e))return(await new Request(si.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(be.isArrayBufferView(e)||be.isArrayBuffer(e))return e.byteLength;if(be.isURLSearchParams(e)&&(e=e+""),be.isString(e))return(await m2(e)).byteLength},y2=async(e,t)=>be.toFiniteNumber(e.getContentLength())??g2(t),b2=bc&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:u,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:y,withCredentials:x="same-origin",fetchOptions:E}=hg(e);g=g?(g+"").toLowerCase():"text";let A=h2([a,o&&o.toAbortSignal()],u),B;const j=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let Q;try{if(p&&_2&&n!=="get"&&n!=="head"&&(Q=await y2(y,r))!==0){let re=new Request(t,{method:"POST",body:r,duplex:"half"}),ye;if(be.isFormData(r)&&(ye=re.headers.get("content-type"))&&y.setContentType(ye),re.body){const[De,Re]=i0(Q,Zl(r0(p)));r=s0(re.body,a0,De,Re)}}be.isString(x)||(x=x?"include":"omit");const se="credentials"in Request.prototype;B=new Request(t,{...E,signal:A,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:se?x:void 0});let te=await fetch(B);const z=vd&&(g==="stream"||g==="response");if(vd&&(d||z&&j)){const re={};["status","statusText","headers"].forEach(we=>{re[we]=te[we]});const ye=be.toFiniteNumber(te.headers.get("content-length")),[De,Re]=d&&i0(ye,Zl(r0(d),!0))||[];te=new Response(s0(te.body,a0,De,()=>{Re&&Re(),j&&j()}),re)}g=g||"text";let Z=await Kl[be.findKey(Kl,g)||"text"](te,e);return!z&&j&&j(),await new Promise((re,ye)=>{lg(re,ye,{data:Z,headers:ai.from(te.headers),status:te.status,statusText:te.statusText,config:e,request:B})})}catch(se){throw j&&j(),se&&se.name==="TypeError"&&/fetch/i.test(se.message)?Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,e,B),{cause:se.cause||se}):Ct.from(se,se&&se.code,e,B)}}),xd={http:Rx,xhr:c2,fetch:b2};be.forEach(xd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const u0=e=>`- ${e}`,v2=e=>be.isFunction(e)||e===null||e===!1,pg={getAdapter:e=>{e=be.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let o=0;o<t;o++){n=e[o];let u;if(r=n,!v2(n)&&(r=xd[(u=String(n)).toLowerCase()],r===void 0))throw new Ct(`Unknown adapter '${u}'`);if(r)break;a[u||"#"+o]=r}if(!r){const o=Object.entries(a).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=t?o.length>1?`since :
`+o.map(u0).join(`
`):" "+u0(o[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:xd};function Gh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new js(null,e)}function l0(e){return Gh(e),e.headers=ai.from(e.headers),e.data=jh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pg.getAdapter(e.adapter||ku.adapter)(e).then(function(t){return Gh(e),t.data=jh.call(e,e.transformResponse,t),t.headers=ai.from(t.headers),t},function(t){return ug(t)||(Gh(e),t&&t.response&&(t.response.data=jh.call(e,e.transformResponse,t.response),t.response.headers=ai.from(t.response.headers))),Promise.reject(t)})}const mg="1.7.7",mf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{mf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const c0={};mf.transitional=function(e,t,n){function r(a,o){return"[Axios v"+mg+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,u)=>{if(e===!1)throw new Ct(r(o," has been removed"+(t?" in "+t:"")),Ct.ERR_DEPRECATED);return t&&!c0[o]&&(c0[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,u):!0}};function x2(e,t,n){if(typeof e!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],u=t[o];if(u){const d=e[o],p=d===void 0||u(d,o,e);if(p!==!0)throw new Ct("option "+o+" must be "+p,Ct.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ct("Unknown option "+o,Ct.ERR_BAD_OPTION)}}const kd={assertOptions:x2,validators:mf},Ur=kd.validators;let Fo=class{constructor(t){this.defaults=t,this.interceptors={request:new t0,response:new t0}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zo(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&kd.assertOptions(r,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),a!=null&&(be.isFunction(a)?n.paramsSerializer={serialize:a}:kd.assertOptions(a,{encode:Ur.function,serialize:Ur.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=o&&be.merge(o.common,o[n.method]);o&&be.forEach(["delete","get","head","post","put","patch","common"],B=>{delete o[B]}),n.headers=ai.concat(u,o);const d=[];let p=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(n)===!1||(p=p&&B.synchronous,d.unshift(B.fulfilled,B.rejected))});const g=[];this.interceptors.response.forEach(function(B){g.push(B.fulfilled,B.rejected)});let y,x=0,E;if(!p){const B=[l0.bind(this),void 0];for(B.unshift.apply(B,d),B.push.apply(B,g),E=B.length,y=Promise.resolve(n);x<E;)y=y.then(B[x++],B[x++]);return y}E=d.length;let A=n;for(x=0;x<E;){const B=d[x++],j=d[x++];try{A=B(A)}catch(Q){j.call(this,Q);break}}try{y=l0.call(this,A)}catch(B){return Promise.reject(B)}for(x=0,E=g.length;x<E;)y=y.then(g[x++],g[x++]);return y}getUri(t){t=zo(this.defaults,t);const n=cg(t.baseURL,t.url);return og(n,t.params,t.paramsSerializer)}};be.forEach(["delete","get","head","options"],function(e){Fo.prototype[e]=function(t,n){return this.request(zo(n||{},{method:e,url:t,data:(n||{}).data}))}});be.forEach(["post","put","patch"],function(e){function t(n){return function(r,a,o){return this.request(zo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Fo.prototype[e]=t(),Fo.prototype[e+"Form"]=t(!0)});class _f{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const u=new Promise(d=>{r.subscribe(d),o=d}).then(a);return u.cancel=function(){r.unsubscribe(o)},u},t(function(a,o,u){r.reason||(r.reason=new js(a,o,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new _f(function(n){t=n}),cancel:t}}}function k2(e){return function(t){return e.apply(null,t)}}function C2(e){return be.isObject(e)&&e.isAxiosError===!0}const Cd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cd).forEach(([e,t])=>{Cd[t]=e});function _g(e){const t=new Fo(e),n=Z_(Fo.prototype.request,t);return be.extend(n,Fo.prototype,t,{allOwnKeys:!0}),be.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return _g(zo(e,r))},n}const wn=_g(ku);wn.Axios=Fo;wn.CanceledError=js;wn.CancelToken=_f;wn.isCancel=ug;wn.VERSION=mg;wn.toFormData=yc;wn.AxiosError=Ct;wn.Cancel=wn.CanceledError;wn.all=function(e){return Promise.all(e)};wn.spread=k2;wn.isAxiosError=C2;wn.mergeConfig=zo;wn.AxiosHeaders=ai;wn.formToJSON=e=>ag(be.isHTMLForm(e)?new FormData(e):e);wn.getAdapter=pg.getAdapter;wn.HttpStatusCode=Cd;wn.default=wn;const gg=(e={})=>{const t=Vo(),{baseURL:n,projectId:r,projectToken:a,userToken:o,csrfToken:u}=t.getAPIConfig,d={baseURL:n,params:{project_id:r,project_token:a,token:o},...e};return(!a||!(r&&o)&&u)&&Object.assign(d,{headers:{"X-CSRF-Token":u}}),wn.create({...d})};class w2{static key(t,n){return gg().get(`/observation_matrices/${t}/key`,n)}}const $a={Used:"used",Useful:"useful",Useless:"useless"},L2=e=>({characterStateId:e.id,depictionIds:e.depiction_ids,label:e.label,position:e.position,...yg(e)}),E2=e=>({depictionId:e.id,caption:e.caption,figureLabel:e.figure_label,imageUrl:e.image.medium}),Ra={Qualitative:"Descriptor::Qualitative",Continuous:"Descriptor::Continuous",Sample:"Descriptor::Sample",PresenceAbsence:"Descriptor::PresenceAbsence"},Cu=e=>({descriptorId:e.id,name:e.name,description:e.description,position:e.position,status:e.status,type:e.type,depictionIds:e.depiction_ids,usefulness:e.usefulness,weight:e.weight}),M2=e=>({...Cu(e),defaultUnit:e.default_unit,max:e.max,min:e.min}),A2=e=>({...Cu(e),defaultUnit:e.default_unit,max:e.max,min:e.min}),S2=e=>({...Cu(e),states:e.states.map(t=>yg(t))}),B2=e=>({...Cu(e),characterStates:e.states.map(t=>L2(t))}),P2=e=>{switch(e.type){case Ra.Continuous:return M2(e);case Ra.Sample:return A2(e);case Ra.PresenceAbsence:return S2(e);case Ra.Qualitative:return B2(e);default:return Cu(e)}},D2=e=>({observationMatrixId:e.observation_matrix_id,name:e.observation_matrix.name,globalId:e.observation_matrix.global_id}),yg=e=>({name:e.name,numberOfObjects:e.number_of_objects,status:e.status}),h0=e=>({errorDescriptors:e.error_descriptors,errors:e.errors,objectLabel:e.object.object_label,objectTag:e.object.object_tag,observationObjectId:e.object.observation_object_id,observationObjectType:e.object.observation_object_type,rowId:e.object.id}),T2=e=>({keywordId:e.id,definition:e.description,name:e.name}),R2=e=>({languageId:e.id,name:e.english_name}),Sr=ao("observationMatrix",{state:()=>({observationMatrix:void 0,citation:void 0,descriptors:[],eliminated:[],remaining:[],availableKeywords:[],availableLanguages:[]}),getters:{getCitation:e=>e.citation,getObservationMatrix:e=>e.observationMatrix,getDescriptors:e=>e.descriptors,getDescriptorById:e=>t=>e.descriptors.find(n=>n.descriptorId===t),getDescriptorsUsed:e=>e.descriptors.filter(t=>t.status===$a.Used),getDescriptorsUseless:e=>e.descriptors.filter(t=>t.status===$a.Useless),getDescriptorsUseful:e=>e.descriptors.filter(t=>t.status===$a.Useful),getEliminated:e=>e.eliminated,getKeywords:e=>e.availableKeywords,getLanguages:e=>e.availableLanguages,getRemaining:e=>e.remaining},actions:{setDescriptors(e){this.descriptors=e},setEliminated(e){this.eliminated=e},setRemaining(e){this.remaining=e},setLanguages(e){this.availableLanguages=e},setKeywords(e){this.availableKeywords=e},setObservationMatrix(e){this.observationMatrix=e},async requestInteractiveKey({observationMatrixId:e,params:t={},opt:n={}}){const r=await w2.key(e,{params:t}),{data:a}=r;return n.refreshOnlyTaxa||(this.setObservationMatrix(D2(a)),this.setDescriptors(a.list_of_descriptors.map(o=>P2(o))),this.setKeywords(a.descriptor_available_keywords.map(o=>T2(o))),this.setLanguages(a.descriptor_available_languages.map(o=>R2(o)))),this.setEliminated(a.eliminated.map(o=>h0(o))),this.setRemaining(a.remaining.map(o=>h0(o))),r}}}),zn=ao("filter",{state:()=>({descriptors:{},eliminateUnknown:void 0,rowFilter:!0,errorTolerance:void 0,identifiedToRank:void 0,keywordIds:[],languageId:void 0,rowIds:[],sorting:void 0}),getters:{getKeywordIds:e=>e.keywordIds,getLanguageId:e=>e.languageId,getRowIds:e=>e.rowIds,getRowFilter:e=>e.rowFilter,getDescriptors:e=>e.descriptors,getIdentifiedToRank:e=>e.identifiedToRank,getEliminateUknown:e=>e.eliminateUnknown,getErrorTolerance:e=>e.errorTolerance,getSorting:e=>e.sorting,getDescriptorValueById:e=>t=>{const n=e.descriptors[t];return typeof n=="boolean"?n:n||""},getFilterParams:e=>({selected_descriptors:Object.entries(e.descriptors).map(([t,n])=>Array.isArray(n)?`${t}:${n.join("|")}`:`${t}:${n}`).join("||"),language_id:e.languageId,keyword_ids:e.keywordIds,sorting:e.sorting,identified_to_rank:e.identifiedToRank,error_tolerance:e.errorTolerance,eliminate_unknown:e.eliminateUnknown,row_filter:e.rowFilter?e.rowIds.join("|"):[]})},actions:{setDescriptor({descriptorId:e,value:t}){this.descriptors[e]=t},removeDescriptor(e){delete this.descriptors[e]},removeKeywordId(e){const t=this.keywordIds.findIndex(n=>n===e);t>-1&&this.keywordIds.splice(t,1)},addKeywordId(e){this.keywordIds.push(e)},setLanguageId(e){this.languageId=e},setErrorTolerance(e){this.errorTolerance=e},setEliminateUnknown(e){this.eliminateUnknown=e}}}),Vo=ao("settings",{state:()=>({gridLayout:"distinguish-layout-mode-1",isLoading:!1,isRefreshing:!1,refreshOnlyTaxa:!1,shouldUpdate:!0,observationMatrixId:void 0,errorMessage:"",apiConfig:{baseURL:"",projectId:void 0,projectToken:void 0,userToken:void 0}}),getters:{getErrorMessage:e=>e.errorMessage,getIsLoading:e=>e.isLoading,getLayout:e=>e.gridLayout,getRefreshOnlyTaxa:e=>e.refreshOnlyTaxa,getShouldUpdate:e=>e.shouldUpdate,getObservationMatrixId:e=>e.observationMatrixId,getAPIConfig:e=>e.apiConfig},actions:{setObservationMatrixId(e){this.observationMatrixId=e},setShouldUpdate(e){this.shouldUpdate=e},setRefreshOnlyTaxa(e){this.refreshOnlyTaxa=e},setAPIConfig(e){this.apiConfig=e},checkUpdate(){const e=zn(),t=Sr(),n=this.observationMatrixId;this.shouldUpdate&&n&&(this.isLoading=!0,t.requestInteractiveKey({observationMatrixId:n,params:e.getFilterParams,opt:{refreshOnlyTaxa:this.refreshOnlyTaxa}}).then(r=>this.errorMessage="").catch(r=>this.errorMessage=r.message).finally(()=>this.isLoading=!1))}}}),O2=Rt({__name:"FilterEliminateUnknowns",setup(e){const t=zn(),n=We({get:()=>!!t.getEliminateUknown,set:r=>{t.setEliminateUnknown(r)}});return(r,a)=>(D(),q("label",null,[Fn($("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>n.value=o),type:"checkbox"},null,512),[[Ns,n.value]]),a[1]||(a[1]=Xe(" Eliminate unknowns "))]))}}),F2=["value"],I2=Rt({__name:"FilterErrorTolerance",setup(e){const t=[0,1,2],n=zn(),r=We({get:()=>n.getErrorTolerance,set:a=>{n.setErrorTolerance(a)}});return(a,o)=>(D(),q("div",null,[o[2]||(o[2]=$("label",{for:"languages",class:"distinguish-input-label"}," Error tolerance ",-1)),Fn($("select",{"onUpdate:modelValue":o[0]||(o[0]=u=>r.value=u),name:"languages",role:"listbox"},[o[1]||(o[1]=$("option",{value:""},null,-1)),(D(),q(Ge,null,dt(t,u=>$("option",{key:u,value:u},Ie(u),9,F2)),64))],512),[[yu,r.value]])]))}}),N2=["otu","subspecies","species","subgenus","genus","subtribe","tribe","subfamily","family"],z2=Rt({__name:"FilterRank",setup(e){const t=zn(),n=We({get(){return t.getIdentifiedToRank},set(r){t.$patch({identifiedToRank:r})}});return(r,a)=>(D(),q("div",null,[a[2]||(a[2]=$("label",{class:"distinguish-input-label"},"Identified to rank",-1)),Fn($("select",{"onUpdate:modelValue":a[0]||(a[0]=o=>n.value=o)},[a[1]||(a[1]=$("option",{value:void 0},null,-1)),(D(!0),q(Ge,null,dt(ze(N2),o=>(D(),q("option",{key:o},Ie(o),1))),128))],512),[[yu,n.value]])]))}}),j2=Rt({__name:"FilterSort",setup(e){const t=["ordered","weighted","optimized"],n=zn(),r=We({get(){return n.getSorting},set(a){n.$patch({sorting:a})}});return(a,o)=>(D(),q("div",null,[o[2]||(o[2]=$("label",{class:"distinguish-input-label"},"Descriptor sorting",-1)),Fn($("select",{"onUpdate:modelValue":o[0]||(o[0]=u=>r.value=u)},[o[1]||(o[1]=$("option",{value:void 0},null,-1)),(D(),q(Ge,null,dt(t,u=>$("option",{key:u},Ie(u),1)),64))],512),[[yu,r.value]])]))}}),G2=["value"],V2=Rt({__name:"FilterLanguage",setup(e){const t=zn(),n=Sr(),r=We({get:()=>t.getLanguageId,set:a=>{t.setLanguageId(Number(a))}});return(a,o)=>(D(),q("div",null,[o[1]||(o[1]=$("label",{for:"languages",class:"distinguish-input-label"}," Languages ",-1)),Fn($("select",{"onUpdate:modelValue":o[0]||(o[0]=u=>r.value=u),name:"languages",role:"listbox"},[(D(!0),q(Ge,null,dt(ze(n).getLanguages,({languageId:u,name:d})=>(D(),q("option",{key:u,value:u},Ie(d),9,G2))),128))],512),[[yu,r.value]])]))}}),H2=["disabled"],Bs=Rt({__name:"VBtn",props:{color:{default:"primary"},size:{default:"medium"},disabled:{type:Boolean}},setup(e){const t=e,n=We(()=>[`distinguish-btn-${t.color}-color`,`distinguish-btn-${t.size}-size`]);return(r,a)=>(D(),q("button",{type:"button",class:an(["distinguish-btn",n.value]),disabled:r.disabled},[xt(r.$slots,"default")],10,H2))}}),U2={class:"distinguish-modal-wrapper"},$2={class:"distinguish-modal-header"},q2={class:"distinguish-modal-body"},Z2={class:"distinguish-modal-footer"},gf=Rt({__name:"VModal",props:{containerClass:{},containerStyle:{}},emits:["close"],setup(e,{emit:t}){const n=t,r=a=>{a.preventDefault(),a.key==="Escape"&&n("close")};return bn(()=>document.addEventListener("keydown",r)),Ar(()=>document.removeEventListener("keydown",r)),(a,o)=>(D(),Ce(cc,{name:"distinguish-modal"},{default:ie(()=>[$("div",{class:"distinguish-modal-mask",onClick:o[2]||(o[2]=u=>n("close")),onKey:o[3]||(o[3]=u=>n("close"))},[$("div",U2,[$("div",{class:an(["distinguish-modal-container",a.containerClass]),style:Si({...a.containerStyle}),onClick:o[1]||(o[1]=tu(()=>{},["stop"]))},[$("div",$2,[$("div",{class:"distinguish-modal-close",onClick:o[0]||(o[0]=u=>n("close"))}),xt(a.$slots,"header")]),$("div",q2,[xt(a.$slots,"body")]),$("div",Z2,[xt(a.$slots,"footer")])],6)])],32)]),_:3}))}}),K2={class:"distinguish-list-checkboxes"},W2=["value"],J2=Rt({__name:"FilterKeywords",setup(e){const t=Sr(),n=zn(),r=Ze(!1),a=We({get:()=>n.getKeywordIds,set:o=>{n.$patch({keywordIds:o})}});return(o,u)=>(D(),q(Ge,null,[ee(Bs,{color:"primary",size:"medium",disabled:!ze(t).getKeywords.length,title:ze(t).getKeywords.length?"":"No tags defined.",onClick:u[0]||(u[0]=d=>r.value=!0)},{default:ie(()=>u[3]||(u[3]=[Xe(" Keyword ")])),_:1},8,["disabled","title"]),r.value?(D(),Ce(gf,{key:0,onClose:u[2]||(u[2]=d=>r.value=!1)},{header:ie(()=>u[4]||(u[4]=[$("h3",null,"Keywords",-1)])),body:ie(()=>[$("ul",K2,[(D(!0),q(Ge,null,dt(ze(t).getKeywords,({keywordId:d,name:p})=>(D(),q("li",{key:d},[$("label",null,[Fn($("input",{"onUpdate:modelValue":u[1]||(u[1]=g=>a.value=g),value:d,type:"checkbox"},null,8,W2),[[Ns,a.value]]),Xe(" "+Ie(p),1)])]))),128))])]),_:1})):Fe("",!0)],64))}}),Y2=Rt({__name:"SettingRefresh",setup(e){const t=Vo(),n=We({get:()=>t.getRefreshOnlyTaxa,set:r=>{t.setRefreshOnlyTaxa(r)}});return(r,a)=>(D(),q("label",null,[Fn($("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>n.value=o),type:"checkbox"},null,512),[[Ns,n.value]]),a[1]||(a[1]=Xe(" Refresh only taxa "))]))}}),vc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},X2={},Q2={class:"distinguish-menu-list"};function ek(e,t){return D(),q("ul",Q2,[xt(e.$slots,"default")])}const tk=vc(X2,[["render",ek]]),nk={},ik={class:"distinguish-list-item"};function rk(e,t){return D(),q("li",ik,[xt(e.$slots,"default")])}const Mo=vc(nk,[["render",rk]]),d0={"distinguish-layout-mode-1":"distinguish-layout-mode-2","distinguish-layout-mode-2":"distinguish-layout-mode-1"},ok={},sk={class:"distinguish-grid"};function ak(e,t){return D(),q("div",sk,[xt(e.$slots,"default")])}const bg=vc(ok,[["render",ak]]),uk=Rt({__name:"GridToggle",setup(e){const t=Vo(),n=We(()=>t.getLayout),r=()=>{t.$patch({gridLayout:d0[n.value]})};return(a,o)=>(D(),Ce(Bs,{class:an(ze(d0)[n.value]),onClick:r},{default:ie(()=>[ee(bg,{class:"distinguish-grid-icon"},{default:ie(()=>o[0]||(o[0]=[$("div",{class:"distinguish-panel-descriptors"},null,-1),$("div",{class:"distinguish-panel-remaining"},null,-1),$("div",{class:"distinguish-panel-eliminated"},null,-1)])),_:1})]),_:1},8,["class"]))}}),lk=Rt({__name:"ResetButton",setup(e){const t=zn();return(n,r)=>(D(),Ce(Bs,{color:"primary",size:"medium",onClick:r[0]||(r[0]=a=>ze(t).$reset())},{default:ie(()=>r[1]||(r[1]=[Xe(" Reset ")])),_:1}))}}),ck={class:"distinguish-header-error-message"},hk=Rt({__name:"ErrorMessage",setup(e){const t=Vo();return(n,r)=>(D(),q("span",ck,Ie(ze(t).getErrorMessage),1))}}),dk={class:"distinguish-header-bar"},fk={class:"distinguish-header-bar__buttons"},pk=Rt({__name:"HeaderBar",setup(e){return(t,n)=>(D(),q("div",dk,[ee(hk),ee(tk,null,{default:ie(()=>[ee(Mo,null,{default:ie(()=>[ee(Y2)]),_:1}),ee(Mo,null,{default:ie(()=>[ee(O2)]),_:1}),ee(Mo,null,{default:ie(()=>[ee(I2)]),_:1}),ee(Mo,null,{default:ie(()=>[ee(z2)]),_:1}),ee(Mo,null,{default:ie(()=>[ee(V2)]),_:1}),ee(Mo,null,{default:ie(()=>[ee(j2)]),_:1}),ee(Mo,null,{default:ie(()=>[ee(J2)]),_:1})]),_:1}),$("div",fk,[ee(lk),ee(uk)])]))}}),mk={},_k={class:"distinguish-panel"};function gk(e,t){return D(),q("div",_k,[xt(e.$slots,"default")])}const yf=vc(mk,[["render",gk]]),yk=["innerHTML"],bk=Rt({__name:"PanelEliminated",props:{render:{type:Function}},setup(e){const t=Sr(),n=We(()=>t.getEliminated);return(r,a)=>(D(),Ce(yf,{class:"distinguish-panel-eliminated"},{default:ie(()=>[$("h2",null,"Eliminated ("+Ie(n.value.length)+")",1),$("ul",null,[(D(!0),q(Ge,null,dt(n.value,o=>(D(),q("li",{key:o.rowId,class:"distinguish-row-item"},[xt(r.$slots,"default",{item:o},()=>[$("span",{innerHTML:r.render?r.render(o):o.objectTag},null,8,yk)])]))),128))])]),_:3}))}}),vk={class:"distinguish-row-filter-buttons"},xk={class:"distinguish-list-checkboxes"},kk=["value"],Ck=Rt({__name:"FilterRow",setup(e){const t=Sr(),n=Vo(),r=zn(),a=Ze(!1),o=Ze([]),u=We(()=>{const p=r.getRowIds,g=o.value;return p.length!==g.length||!p.every(y=>g.includes(y))}),d=We({get:()=>r.getRowIds,set:p=>{r.$patch({rowIds:p})}});return gn(a,p=>{n.setShouldUpdate(!p),!p&&u.value&&(r.rowFilter=!0,n.checkUpdate()),o.value=r.getRowIds}),(p,g)=>(D(),q(Ge,null,[ee(Bs,{color:"primary",size:"medium",onClick:g[0]||(g[0]=y=>a.value=!0)},{default:ie(()=>g[5]||(g[5]=[Xe(" Select ")])),_:1}),a.value?(D(),Ce(gf,{key:0,onClose:g[4]||(g[4]=y=>a.value=!1)},{header:ie(()=>g[6]||(g[6]=[$("h3",null,"Filter row",-1)])),body:ie(()=>[$("div",null,[$("div",vk,[ze(t).getRemaining.length!==d.value.length||d.value.length==0?(D(),Ce(Bs,{key:0,color:"primary",size:"medium",onClick:g[1]||(g[1]=()=>d.value=ze(t).getRemaining.map(y=>y.rowId))},{default:ie(()=>g[7]||(g[7]=[Xe(" Select all ")])),_:1})):(D(),Ce(Bs,{key:1,color:"primary",size:"medium",onClick:g[2]||(g[2]=()=>d.value=[])},{default:ie(()=>g[8]||(g[8]=[Xe(" Unselect all ")])),_:1}))]),$("ul",xk,[(D(!0),q(Ge,null,dt(ze(t).getRemaining,y=>(D(),q("li",{key:y.rowId},[$("label",null,[Fn($("input",{"onUpdate:modelValue":g[3]||(g[3]=x=>d.value=x),value:y.rowId,type:"checkbox"},null,8,kk),[[Ns,d.value]]),Xe(" "+Ie(y.objectLabel),1)])]))),128))])])]),_:1})):Fe("",!0)],64))}}),wk={class:"distinguish-title-section"},Lk=["innerHTML"],Ek=Rt({__name:"PanelRemaining",props:{render:{type:Function}},setup(e){const t=Sr(),n=We(()=>t.getRemaining);return(r,a)=>(D(),Ce(yf,{class:"distinguish-panel-remaining"},{default:ie(()=>[$("div",wk,[$("h2",null,"Remaining ("+Ie(n.value.length)+")",1),ee(Ck)]),$("ul",null,[(D(!0),q(Ge,null,dt(n.value,o=>(D(),q("li",{key:o.rowId,class:"distinguish-row-item"},[xt(r.$slots,"default",{item:o},()=>[$("span",{innerHTML:r.render?r.render(o):o.objectTag},null,8,Lk)])]))),128))])]),_:3}))}});class Mk{static find(t){return gg().get(`/depictions/${t}.json`,{params:{extend:["image"]}})}}const Ak={key:0,class:"distinguish-depiction-box"},Sk=["src"],vg=Rt({__name:"VDepiction",props:{depictionId:{}},setup(e){const t=e,n=Ze();return Mk.find(t.depictionId).then(({data:r})=>{n.value=E2(r)}),(r,a)=>n.value?(D(),q("div",Ak,[$("img",{src:n.value.imageUrl},null,8,Sk)])):Fe("",!0)}}),Bk={class:"distinguish-character-descriptor__cell"},Pk=["value"],Dk=Rt({__name:"CharacterStateCell",props:{characterState:{},descriptorId:{}},setup(e){const t=e,n=zn(),r=We({get:()=>n.getDescriptorValueById(t.descriptorId)||[],set:a=>{a.length?n.setDescriptor({descriptorId:t.descriptorId,value:a}):n.removeDescriptor(t.descriptorId)}});return(a,o)=>(D(),q("div",Bk,[$("label",null,[(D(!0),q(Ge,null,dt(a.characterState.depictionIds,u=>(D(),Ce(vg,{key:u,"depiction-id":u},null,8,["depiction-id"]))),128)),Fn($("input",{"onUpdate:modelValue":o[0]||(o[0]=u=>r.value=u),value:a.characterState.characterStateId,type:"checkbox"},null,8,Pk),[[Ns,r.value]]),Xe(" "+Ie(a.characterState.name),1)])]))}}),Tk={class:"distinguish-character-states-grid"},Rk=Rt({__name:"CharacterStateGrid",props:{descriptor:{}},setup(e){const t=e,n=zn(),r=Vo(),a=Ze(),o=We(()=>{const u=n.getDescriptorValueById(t.descriptor.descriptorId)||[],d=a.value||[];return u.length!==d.length||!u.every(p=>d.includes(p))});return bn(()=>{r.setShouldUpdate(!1),a.value=n.getDescriptorValueById(t.descriptor.descriptorId)}),Ar(()=>{r.setShouldUpdate(!0),o.value&&r.checkUpdate()}),(u,d)=>(D(),q("div",Tk,[(D(!0),q(Ge,null,dt(u.descriptor.characterStates,p=>(D(),Ce(Dk,{key:p.characterStateId,"descriptor-id":u.descriptor.descriptorId,"character-state":p},null,8,["descriptor-id","character-state"]))),128))]))}}),Ok={key:0},Fk={key:1},Ik={class:"descriptor-modal__depiction"},Nk=Rt({__name:"DescriptorModal",props:{descriptor:{}},setup(e){return(t,n)=>(D(),Ce(gf,{"container-class":"distinguish-descriptor-modal"},{header:ie(()=>[$("h3",null,Ie(t.descriptor.name),1),t.descriptor.description?(D(),q("span",Ok,Ie(t.descriptor.description),1)):(D(),q("i",Fk," No further description available. "))]),body:ie(()=>[$("div",Ik,[(D(!0),q(Ge,null,dt(t.descriptor.depictionIds,r=>(D(),Ce(vg,{key:r,"depiction-id":r},null,8,["depiction-id"]))),128))]),n[0]||(n[0]=$("hr",null,null,-1)),t.descriptor.type===ze(Ra).Qualitative?(D(),Ce(Rk,{key:0,descriptor:t.descriptor},null,8,["descriptor"])):Fe("",!0)]),_:1}))}}),zk=["id"],jk={class:"distinguish-input-label"},xc=Rt({__name:"DescriptorContainer",props:{descriptor:{}},setup(e){const t=Ze(!1);return(n,r)=>(D(),q("div",{id:`descriptor-${n.descriptor.descriptorId}`,class:"distinguish-descriptor-container"},[$("div",jk,[$("span",{class:"distinguish-link",onClick:r[0]||(r[0]=a=>t.value=!0)},[xt(n.$slots,"title",{},()=>[Xe(Ie(n.descriptor.name),1)])])]),xt(n.$slots,"default"),t.value?(D(),Ce(Nk,{key:0,descriptor:n.descriptor,onClose:r[1]||(r[1]=a=>t.value=!1)},null,8,["descriptor"])):Fe("",!0)],8,zk))}}),Gk=Rt({__name:"DescriptorContinuous",props:{descriptor:{}},setup(e){const t=e,n=zn(),r=Ze(String(n.getDescriptorValueById(t.descriptor.descriptorId))),a=()=>{const{descriptorId:o}=t.descriptor,u=r.value.trim();u?n.setDescriptor({descriptorId:o,value:u}):n.removeDescriptor(o)};return(o,u)=>(D(),Ce(xc,{class:"distinguish-descriptor-continuous",descriptor:o.descriptor},{title:ie(()=>[Xe(Ie(o.descriptor.name)+" ("+Ie(o.descriptor.min)+"-"+Ie(o.descriptor.max)+" "+Ie(o.descriptor.defaultUnit)+") ",1)]),default:ie(()=>[Fn($("input",{"onUpdate:modelValue":u[0]||(u[0]=d=>r.value=d),type:"text",onBlur:a,onKeyup:C_(a,["enter"])},null,544),[[af,r.value]])]),_:1},8,["descriptor"]))}}),Vk=["value"],Hk={key:0},Uk=Rt({__name:"DescriptorPresenceAbsence",props:{descriptor:{}},setup(e){const t={Presence:!0,Absent:!1},n=e,r=zn(),a=We({get:()=>r.getDescriptorValueById(n.descriptor.descriptorId),set:u=>{const{descriptorId:d}=n.descriptor;typeof u=="boolean"?r.setDescriptor({descriptorId:d,value:!!u}):r.removeDescriptor(d)}}),o=u=>{var d;const{states:p}=n.descriptor;return((d=p.find(g=>g.name===String(u)))==null?void 0:d.numberOfObjects)||0};return(u,d)=>(D(),Ce(xc,{class:"distinguish-descriptor-presence-absence",descriptor:u.descriptor},{default:ie(()=>[Fn($("select",{"onUpdate:modelValue":d[0]||(d[0]=p=>a.value=p)},[d[1]||(d[1]=$("option",null,null,-1)),(D(),q(Ge,null,dt(t,(p,g)=>$("option",{key:g,value:p},[u.descriptor.status===ze($a).Useless?(D(),q("span",Hk,"-")):Fe("",!0),Xe(" "+Ie(g)+" ("+Ie(o(p))+") ",1)],8,Vk)),64))],512),[[yu,a.value]])]),_:1},8,["descriptor"]))}}),$k=["value","selected"],qk={key:0},Zk={key:1},Kk=Rt({__name:"DescriptorQualitative",props:{descriptor:{}},setup(e){const t=e,n=zn(),r=o=>{const u=o.target,{descriptorId:d}=t.descriptor;u.value?n.setDescriptor({descriptorId:d,value:[Number(u.value)]}):n.removeDescriptor(d)},a=o=>n.getDescriptorValueById(t.descriptor.descriptorId).includes(o.characterStateId);return(o,u)=>(D(),Ce(xc,{class:"distinguish-descriptor-qualitative",descriptor:o.descriptor},{default:ie(()=>[$("select",{name:"listbox",onChange:r},[u[0]||(u[0]=$("option",{value:""},null,-1)),(D(!0),q(Ge,null,dt(o.descriptor.characterStates,d=>(D(),q("option",{key:d.characterStateId,value:d.characterStateId,selected:a(d)},[a(d)?(D(),q("span",qk,">")):Fe("",!0),d.status===ze($a).Useless?(D(),q("span",Zk,"-")):Fe("",!0),Xe(" "+Ie(d.name)+" ("+Ie(d.numberOfObjects)+") ",1)],8,$k))),128))],32)]),_:1},8,["descriptor"]))}}),Wk=Rt({__name:"DescriptorSample",props:{descriptor:{}},setup(e){const t=e,n=zn(),r=Ze(String(n.getDescriptorValueById(t.descriptor.descriptorId))),a=()=>{const{descriptorId:o}=t.descriptor,u=r.value.trim();u?n.setDescriptor({descriptorId:o,value:u}):n.removeDescriptor(o)};return(o,u)=>(D(),Ce(xc,{class:"distinguish-descriptor-sample",descriptor:o.descriptor},{title:ie(()=>[Xe(Ie(o.descriptor.name)+" ("+Ie(o.descriptor.min)+"-"+Ie(o.descriptor.max)+" "+Ie(o.descriptor.defaultUnit)+") ",1)]),default:ie(()=>[Fn($("input",{"onUpdate:modelValue":u[0]||(u[0]=d=>r.value=d),type:"text",onBlur:a,onKeyup:C_(a,["enter"])},null,544),[[af,r.value]])]),_:1},8,["descriptor"]))}}),Vh=Rt({__name:"DescriptorsList",props:{title:{},descriptors:{}},setup(e){const t={DescriptorContinuous:Gk,DescriptorPresenceAbsence:Uk,DescriptorQualitative:Kk,DescriptorSample:Wk},n=r=>{const a=r.replace("::","");return t[a]};return(r,a)=>(D(),q(Ge,null,[$("h2",null,Ie(r.title),1),$("ol",null,[(D(!0),q(Ge,null,dt(r.descriptors,o=>(D(),q("li",{key:o.descriptorId},[(D(),Ce(Go(n(o.type)),{descriptor:o},null,8,["descriptor"]))]))),128))])],64))}}),Jk={key:0},Yk=Rt({__name:"FilterRowCheckbox",setup(e){const t=zn(),n=We({get:()=>t.getRowFilter,set:r=>t.$patch({rowFilter:r})});return(r,a)=>ze(t).rowIds.length?(D(),q("label",Jk,[Fn($("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>n.value=o),type:"checkbox"},null,512),[[Ns,n.value]]),a[1]||(a[1]=Xe(" Filter "))])):Fe("",!0)}}),Xk=Rt({__name:"PanelDescriptors",setup(e){const t=Sr();return(n,r)=>(D(),Ce(yf,{class:"distinguish-panel-descriptors"},{default:ie(()=>[ee(Yk),ze(t).getDescriptorsUsed.length?(D(),Ce(Vh,{key:0,descriptors:ze(t).getDescriptorsUsed,title:"Used Descriptors"},null,8,["descriptors"])):Fe("",!0),ze(t).getDescriptorsUseful.length?(D(),Ce(Vh,{key:1,descriptors:ze(t).getDescriptorsUseful,title:"Descriptors Useful for Identification"},null,8,["descriptors"])):Fe("",!0),ze(t).getDescriptorsUseless.length?(D(),Ce(Vh,{key:2,descriptors:ze(t).getDescriptorsUseless,title:"Descriptors no longer relevant for identification"},null,8,["descriptors"])):Fe("",!0)]),_:1}))}}),Qk={class:"distinguish-spinner-container"},eC={class:"distinguish-spinner-legend"},tC=["innerHTML"],nC=Rt({__name:"VSpinner",props:{legend:{type:String,default:"Loading, please wait."}},setup(e){return(t,n)=>(D(),Ce(cc,{name:"fade"},{default:ie(()=>[$("div",Qk,[$("div",null,[n[0]||(n[0]=$("div",{class:"distinguish-spinner"},null,-1)),$("div",eC,[$("span",{innerHTML:e.legend},null,8,tC),xt(t.$slots,"default")])])])]),_:3}))}}),iC={class:"distinguish-title"},rC={key:0},oC=Rt({__name:"TitleMatrix",setup(e){const t=Sr();return(n,r)=>(D(),q("h1",iC,[r[0]||(r[0]=Xe(" Interactive key ")),ze(t).getObservationMatrix?(D(),q("span",rC,"| "+Ie(ze(t).getObservationMatrix.name),1)):Fe("",!0)]))}}),sC=["title"],aC=Rt({__name:"TitleMatrixCitation",setup(e){const t=Sr(),n=We(()=>{const r=t.getCitation;return Object.values(r||{}).filter(Boolean).join(", ")});return(r,a)=>(D(),q("span",{class:"distinguish-title-citation",title:n.value},Ie(n.value),9,sC))}}),uC={class:"distinguish-title-section"},lC=Rt({__name:"TitleKey",setup(e){return(t,n)=>(D(),q("div",uC,[ee(oC),ee(aC)]))}}),cC={class:"distinguish-app-container"},xg=Rt({name:"Distinguish",__name:"App",props:{observationMatrixId:{},apiConfig:{},renderItem:{type:Function}},setup(e){const t=e,n=Vo(),r=zn(),a=We(()=>n.getIsLoading),o=We(()=>n.getLayout);return n.setAPIConfig(t.apiConfig),n.setObservationMatrixId(t.observationMatrixId),n.checkUpdate(),r.$subscribe(u=>{n.shouldUpdate&&n.checkUpdate()}),(u,d)=>(D(),q("div",cC,[ee(lC),ee(pk),ee(bg,{class:an(o.value)},{default:ie(()=>[ee(Xk),ee(Ek,{render:t.renderItem},{default:ie(p=>[xt(u.$slots,"remaining-item",nd(Ul(p)))]),_:3},8,["render"]),ee(bk,{render:t.renderItem},{default:ie(p=>[xt(u.$slots,"eliminated-item",nd(Ul(p)))]),_:3},8,["render"])]),_:3},8,["class"]),a.value?(D(),Ce(nC,{key:0,legend:"Loading interactive key..."})):Fe("",!0)]))}});function hC(e){return[...document.querySelectorAll('[data-interactive-key="true"]')].map(n=>pC(n,fC(n)))}function dC(){hC()}function fC(e){return{observationMatrixId:Number(e.getAttribute("data-observation-matrix-id")),apiConfig:{baseURL:e.getAttribute("data-base-url")||"",projectToken:e.getAttribute("data-project-token")||void 0,projectId:Number(e.getAttribute("data-project-id"))||void 0,userToken:e.getAttribute("data-user-token")||void 0,csrfToken:e.getAttribute("data-csrf-token")||void 0}}}function pC(e,t){const{apiConfig:n,observationMatrixId:r}=t;if(!r)throw"Missing observation matrix ID";if(!n||!n.projectToken&&!n.csrfToken&&!(n.projectId&&n.userToken))throw"Missing API configuration";const a=Bv(xg,{observationMatrixId:r,apiConfig:n});return a.use(H_()),a.mount(e),a}typeof window<"u"&&window.addEventListener("DOMContentLoaded",dC);var f0={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const mC={class:"flex flex-col h-full overflow-y-hidden container mx-auto interactive-key-container"},_C=["innerHTML"],gC=["innerHTML"],yC={__name:"InteractiveKey",setup(e){const t=vu(),n=Ze({observationMatrixId:t.params.id,apiConfig:{baseURL:f0.url,projectToken:f0.project_token}});return(r,a)=>{const o=fe("RouterLink"),u=fe("ClientOnly");return D(),q("div",mC,[ee(u,null,{default:ie(()=>[ee(ze(xg),nd(Ul(n.value)),{"remaining-item":ie(({item:d})=>[d.observationObjectType===ze(Jp)?(D(),Ce(o,{key:0,to:{name:"otus-id",params:{id:d.observationObjectId}},innerHTML:d.objectTag},null,8,["to","innerHTML"])):(D(),q("span",{key:1,innerHTML:d.objectTag},null,8,_C))]),"eliminated-item":ie(({item:d})=>[d.observationObjectType===ze(Jp)?(D(),Ce(o,{key:0,to:{name:"otus-id",params:{id:d.observationObjectId}},innerHTML:d.objectTag},null,8,["to","innerHTML"])):(D(),q("span",{key:1,innerHTML:d.objectTag},null,8,gC))]),_:1},16)]),_:1})])}}},bC=[{name:"interactive-keys-id",path:"/interactive_keys/:id",component:yC}],kc=ao("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:e=>t=>e.requests[t],datamap:e=>{const t=Object.keys(e.requests).sort();return Object.fromEntries(t.map(n=>[n,e.requests[n].url]))}},actions:{setRequest(e,{data:t,request:n}){var a;const r=((a=n.res)==null?void 0:a.responseUrl)||n.responseURL;this.requests[e]={url:r,data:t}}}}),vC="FamilyGroup",xC="GenusGroup",kC="SpeciesGroup",CC="SpeciesAndInfraspeciesGroup",ou={CanceledError:"CanceledError"},p0=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paratype","paratypes"];function Er(e,t){const n=kc(),r=t();return r.then(a=>{n.setRequest(e,a)}).catch(a=>{a.name!==ou.CanceledError&&n.setRequest(e,a.response)}),r}function kg(e,t){return function(){return e.apply(t,arguments)}}const{toString:wC}=Object.prototype,{getPrototypeOf:bf}=Object,Cc=(e=>t=>{const n=wC.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ui=e=>(e=e.toLowerCase(),t=>Cc(t)===e),wc=e=>t=>typeof t===e,{isArray:Gs}=Array,su=wc("undefined");function LC(e){return e!==null&&!su(e)&&e.constructor!==null&&!su(e.constructor)&&gi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cg=Ui("ArrayBuffer");function EC(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cg(e.buffer),t}const MC=wc("string"),gi=wc("function"),wg=wc("number"),Lc=e=>e!==null&&typeof e=="object",AC=e=>e===!0||e===!1,Tl=e=>{if(Cc(e)!=="object")return!1;const t=bf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},SC=Ui("Date"),BC=Ui("File"),PC=Ui("Blob"),DC=Ui("FileList"),TC=e=>Lc(e)&&gi(e.pipe),RC=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gi(e.append)&&((t=Cc(e))==="formdata"||t==="object"&&gi(e.toString)&&e.toString()==="[object FormData]"))},OC=Ui("URLSearchParams"),[FC,IC,NC,zC]=["ReadableStream","Request","Response","Headers"].map(Ui),jC=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Gs(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),u=o.length;let d;for(r=0;r<u;r++)d=o[r],t.call(null,e[d],d,e)}}function Lg(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Po=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Eg=e=>!su(e)&&e!==Po;function wd(){const{caseless:e}=Eg(this)&&this||{},t={},n=(r,a)=>{const o=e&&Lg(t,a)||a;Tl(t[o])&&Tl(r)?t[o]=wd(t[o],r):Tl(r)?t[o]=wd({},r):Gs(r)?t[o]=r.slice():t[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&wu(arguments[r],n);return t}const GC=(e,t,n,{allOwnKeys:r}={})=>(wu(t,(a,o)=>{n&&gi(a)?e[o]=kg(a,n):e[o]=a},{allOwnKeys:r}),e),VC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),HC=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},UC=(e,t,n,r)=>{let a,o,u;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)u=a[o],(!r||r(u,e,t))&&!d[u]&&(t[u]=e[u],d[u]=!0);e=n!==!1&&bf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},$C=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},qC=e=>{if(!e)return null;if(Gs(e))return e;let t=e.length;if(!wg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ZC=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bf(Uint8Array)),KC=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},WC=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},JC=Ui("HTMLFormElement"),YC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),m0=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),XC=Ui("RegExp"),Mg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};wu(n,(a,o)=>{let u;(u=t(a,o,e))!==!1&&(r[o]=u||a)}),Object.defineProperties(e,r)},QC=e=>{Mg(e,(t,n)=>{if(gi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(gi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ew=(e,t)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return Gs(e)?r(e):r(String(e).split(t)),n},tw=()=>{},nw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Hh="abcdefghijklmnopqrstuvwxyz",_0="0123456789",Ag={DIGIT:_0,ALPHA:Hh,ALPHA_DIGIT:Hh+Hh.toUpperCase()+_0},iw=(e=16,t=Ag.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function rw(e){return!!(e&&gi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ow=e=>{const t=new Array(10),n=(r,a)=>{if(Lc(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const o=Gs(r)?[]:{};return wu(r,(u,d)=>{const p=n(u,a+1);!su(p)&&(o[d]=p)}),t[a]=void 0,o}}return r};return n(e,0)},sw=Ui("AsyncFunction"),aw=e=>e&&(Lc(e)||gi(e))&&gi(e.then)&&gi(e.catch),Sg=((e,t)=>e?setImmediate:t?((n,r)=>(Po.addEventListener("message",({source:a,data:o})=>{a===Po&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Po.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gi(Po.postMessage)),uw=typeof queueMicrotask<"u"?queueMicrotask.bind(Po):typeof process<"u"&&process.nextTick||Sg,ve={isArray:Gs,isArrayBuffer:Cg,isBuffer:LC,isFormData:RC,isArrayBufferView:EC,isString:MC,isNumber:wg,isBoolean:AC,isObject:Lc,isPlainObject:Tl,isReadableStream:FC,isRequest:IC,isResponse:NC,isHeaders:zC,isUndefined:su,isDate:SC,isFile:BC,isBlob:PC,isRegExp:XC,isFunction:gi,isStream:TC,isURLSearchParams:OC,isTypedArray:ZC,isFileList:DC,forEach:wu,merge:wd,extend:GC,trim:jC,stripBOM:VC,inherits:HC,toFlatObject:UC,kindOf:Cc,kindOfTest:Ui,endsWith:$C,toArray:qC,forEachEntry:KC,matchAll:WC,isHTMLForm:JC,hasOwnProperty:m0,hasOwnProp:m0,reduceDescriptors:Mg,freezeMethods:QC,toObjectSet:ew,toCamelCase:YC,noop:tw,toFiniteNumber:nw,findKey:Lg,global:Po,isContextDefined:Eg,ALPHABET:Ag,generateString:iw,isSpecCompliantForm:rw,toJSONObject:ow,isAsyncFn:sw,isThenable:aw,setImmediate:Sg,asap:uw};function wt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ve.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const Bg=wt.prototype,Pg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Pg[e]={value:e}});Object.defineProperties(wt,Pg);Object.defineProperty(Bg,"isAxiosError",{value:!0});wt.from=(e,t,n,r,a,o)=>{const u=Object.create(Bg);return ve.toFlatObject(e,u,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),wt.call(u,e.message,t,n,r,a),u.cause=e,u.name=e.name,o&&Object.assign(u,o),u};const lw=null;function Ld(e){return ve.isPlainObject(e)||ve.isArray(e)}function Dg(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function g0(e,t,n){return e?e.concat(t).map(function(a,o){return a=Dg(a),!n&&o?"["+a+"]":a}).join(n?".":""):t}function cw(e){return ve.isArray(e)&&!e.some(Ld)}const hw=ve.toFlatObject(ve,{},null,function(t){return/^is[A-Z]/.test(t)});function Ec(e,t,n){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,Q){return!ve.isUndefined(Q[j])});const r=n.metaTokens,a=n.visitor||y,o=n.dots,u=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(a))throw new TypeError("visitor must be a function");function g(B){if(B===null)return"";if(ve.isDate(B))return B.toISOString();if(!p&&ve.isBlob(B))throw new wt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(B)||ve.isTypedArray(B)?p&&typeof Blob=="function"?new Blob([B]):Buffer.from(B):B}function y(B,j,Q){let se=B;if(B&&!Q&&typeof B=="object"){if(ve.endsWith(j,"{}"))j=r?j:j.slice(0,-2),B=JSON.stringify(B);else if(ve.isArray(B)&&cw(B)||(ve.isFileList(B)||ve.endsWith(j,"[]"))&&(se=ve.toArray(B)))return j=Dg(j),se.forEach(function(z,Z){!(ve.isUndefined(z)||z===null)&&t.append(u===!0?g0([j],Z,o):u===null?j:j+"[]",g(z))}),!1}return Ld(B)?!0:(t.append(g0(Q,j,o),g(B)),!1)}const x=[],E=Object.assign(hw,{defaultVisitor:y,convertValue:g,isVisitable:Ld});function A(B,j){if(!ve.isUndefined(B)){if(x.indexOf(B)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(B),ve.forEach(B,function(se,te){(!(ve.isUndefined(se)||se===null)&&a.call(t,se,ve.isString(te)?te.trim():te,j,E))===!0&&A(se,j?j.concat(te):[te])}),x.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return A(e),t}function y0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function vf(e,t){this._pairs=[],e&&Ec(e,this,t)}const Tg=vf.prototype;Tg.append=function(t,n){this._pairs.push([t,n])};Tg.toString=function(t){const n=t?function(r){return t.call(this,r,y0)}:y0;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function dw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Rg(e,t,n){if(!t)return e;const r=n&&n.encode||dw,a=n&&n.serialize;let o;if(a?o=a(t,n):o=ve.isURLSearchParams(t)?t.toString():new vf(t,n).toString(r),o){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class b0{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ve.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Og={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fw=typeof URLSearchParams<"u"?URLSearchParams:vf,pw=typeof FormData<"u"?FormData:null,mw=typeof Blob<"u"?Blob:null,_w={isBrowser:!0,classes:{URLSearchParams:fw,FormData:pw,Blob:mw},protocols:["http","https","file","blob","url","data"]},xf=typeof window<"u"&&typeof document<"u",Ed=typeof navigator=="object"&&navigator||void 0,gw=xf&&(!Ed||["ReactNative","NativeScript","NS"].indexOf(Ed.product)<0),yw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bw=xf&&window.location.href||"http://localhost",vw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xf,hasStandardBrowserEnv:gw,hasStandardBrowserWebWorkerEnv:yw,navigator:Ed,origin:bw},Symbol.toStringTag,{value:"Module"})),ui={...vw,..._w};function xw(e,t){return Ec(e,new ui.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,o){return ui.isNode&&ve.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function kw(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Cw(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}function Fg(e){function t(n,r,a,o){let u=n[o++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),p=o>=n.length;return u=!u&&ve.isArray(a)?a.length:u,p?(ve.hasOwnProp(a,u)?a[u]=[a[u],r]:a[u]=r,!d):((!a[u]||!ve.isObject(a[u]))&&(a[u]=[]),t(n,r,a[u],o)&&ve.isArray(a[u])&&(a[u]=Cw(a[u])),!d)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const n={};return ve.forEachEntry(e,(r,a)=>{t(kw(r),a,n,0)}),n}return null}function ww(e,t,n){if(ve.isString(e))try{return(t||JSON.parse)(e),ve.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Lu={transitional:Og,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=ve.isObject(t);if(o&&ve.isHTMLForm(t)&&(t=new FormData(t)),ve.isFormData(t))return a?JSON.stringify(Fg(t)):t;if(ve.isArrayBuffer(t)||ve.isBuffer(t)||ve.isStream(t)||ve.isFile(t)||ve.isBlob(t)||ve.isReadableStream(t))return t;if(ve.isArrayBufferView(t))return t.buffer;if(ve.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xw(t,this.formSerializer).toString();if((d=ve.isFileList(t))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Ec(d?{"files[]":t}:t,p&&new p,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),ww(t)):t}],transformResponse:[function(t){const n=this.transitional||Lu.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ve.isResponse(t)||ve.isReadableStream(t))return t;if(t&&ve.isString(t)&&(r&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(d){if(u)throw d.name==="SyntaxError"?wt.from(d,wt.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{Lu.headers[e]={}});const Lw=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ew=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),r=u.substring(a+1).trim(),!(!n||t[n]&&Lw[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},v0=Symbol("internals");function Da(e){return e&&String(e).trim().toLowerCase()}function Rl(e){return e===!1||e==null?e:ve.isArray(e)?e.map(Rl):String(e)}function Mw(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Aw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Uh(e,t,n,r,a){if(ve.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!ve.isString(t)){if(ve.isString(r))return t.indexOf(r)!==-1;if(ve.isRegExp(r))return r.test(t)}}function Sw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Bw(e,t){const n=ve.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,o,u){return this[r].call(this,t,a,o,u)},configurable:!0})})}class li{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function o(d,p,g){const y=Da(p);if(!y)throw new Error("header name must be a non-empty string");const x=ve.findKey(a,y);(!x||a[x]===void 0||g===!0||g===void 0&&a[x]!==!1)&&(a[x||p]=Rl(d))}const u=(d,p)=>ve.forEach(d,(g,y)=>o(g,y,p));if(ve.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(ve.isString(t)&&(t=t.trim())&&!Aw(t))u(Ew(t),n);else if(ve.isHeaders(t))for(const[d,p]of t.entries())o(p,d,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=Da(t),t){const r=ve.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Mw(a);if(ve.isFunction(n))return n.call(this,a,r);if(ve.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Da(t),t){const r=ve.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Uh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function o(u){if(u=Da(u),u){const d=ve.findKey(r,u);d&&(!n||Uh(r,r[d],d,n))&&(delete r[d],a=!0)}}return ve.isArray(t)?t.forEach(o):o(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!t||Uh(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const n=this,r={};return ve.forEach(this,(a,o)=>{const u=ve.findKey(r,o);if(u){n[u]=Rl(a),delete n[o];return}const d=t?Sw(o):String(o).trim();d!==o&&delete n[o],n[d]=Rl(a),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ve.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&ve.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[v0]=this[v0]={accessors:{}}).accessors,a=this.prototype;function o(u){const d=Da(u);r[d]||(Bw(a,u),r[d]=!0)}return ve.isArray(t)?t.forEach(o):o(t),this}}li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(li.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ve.freezeMethods(li);function $h(e,t){const n=this||Lu,r=t||n,a=li.from(r.headers);let o=r.data;return ve.forEach(e,function(d){o=d.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function Ig(e){return!!(e&&e.__CANCEL__)}function Vs(e,t,n){wt.call(this,e??"canceled",wt.ERR_CANCELED,t,n),this.name="CanceledError"}ve.inherits(Vs,wt,{__CANCEL__:!0});function Ng(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new wt("Request failed with status code "+n.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Pw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Dw(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,o=0,u;return t=t!==void 0?t:1e3,function(p){const g=Date.now(),y=r[o];u||(u=g),n[a]=p,r[a]=g;let x=o,E=0;for(;x!==a;)E+=n[x++],x=x%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),g-u<t)return;const A=y&&g-y;return A?Math.round(E*1e3/A):void 0}}function Tw(e,t){let n=0,r=1e3/t,a,o;const u=(g,y=Date.now())=>{n=y,a=null,o&&(clearTimeout(o),o=null),e.apply(null,g)};return[(...g)=>{const y=Date.now(),x=y-n;x>=r?u(g,y):(a=g,o||(o=setTimeout(()=>{o=null,u(a)},r-x)))},()=>a&&u(a)]}const Wl=(e,t,n=3)=>{let r=0;const a=Dw(50,250);return Tw(o=>{const u=o.loaded,d=o.lengthComputable?o.total:void 0,p=u-r,g=a(p),y=u<=d;r=u;const x={loaded:u,total:d,progress:d?u/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&y?(d-u)/g:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(x)},n)},x0=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},k0=e=>(...t)=>ve.asap(()=>e(...t)),Rw=ui.hasStandardBrowserEnv?function(){const t=ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent),n=document.createElement("a");let r;function a(o){let u=o;return t&&(n.setAttribute("href",u),u=n.href),n.setAttribute("href",u),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(u){const d=ve.isString(u)?a(u):u;return d.protocol===r.protocol&&d.host===r.host}}():function(){return function(){return!0}}(),Ow=ui.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const u=[e+"="+encodeURIComponent(t)];ve.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),ve.isString(r)&&u.push("path="+r),ve.isString(a)&&u.push("domain="+a),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Iw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zg(e,t){return e&&!Fw(t)?Iw(e,t):t}const C0=e=>e instanceof li?{...e}:e;function jo(e,t){t=t||{};const n={};function r(g,y,x){return ve.isPlainObject(g)&&ve.isPlainObject(y)?ve.merge.call({caseless:x},g,y):ve.isPlainObject(y)?ve.merge({},y):ve.isArray(y)?y.slice():y}function a(g,y,x){if(ve.isUndefined(y)){if(!ve.isUndefined(g))return r(void 0,g,x)}else return r(g,y,x)}function o(g,y){if(!ve.isUndefined(y))return r(void 0,y)}function u(g,y){if(ve.isUndefined(y)){if(!ve.isUndefined(g))return r(void 0,g)}else return r(void 0,y)}function d(g,y,x){if(x in t)return r(g,y);if(x in e)return r(void 0,g)}const p={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(g,y)=>a(C0(g),C0(y),!0)};return ve.forEach(Object.keys(Object.assign({},e,t)),function(y){const x=p[y]||a,E=x(e[y],t[y],y);ve.isUndefined(E)&&x!==d||(n[y]=E)}),n}const jg=e=>{const t=jo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:u,auth:d}=t;t.headers=u=li.from(u),t.url=Rg(zg(t.baseURL,t.url),e.params,e.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(ve.isFormData(n)){if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[g,...y]=p?p.split(";").map(x=>x.trim()).filter(Boolean):[];u.setContentType([g||"multipart/form-data",...y].join("; "))}}if(ui.hasStandardBrowserEnv&&(r&&ve.isFunction(r)&&(r=r(t)),r||r!==!1&&Rw(t.url))){const g=a&&o&&Ow.read(o);g&&u.set(a,g)}return t},Nw=typeof XMLHttpRequest<"u",zw=Nw&&function(e){return new Promise(function(n,r){const a=jg(e);let o=a.data;const u=li.from(a.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=a,y,x,E,A,B;function j(){A&&A(),B&&B(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let Q=new XMLHttpRequest;Q.open(a.method.toUpperCase(),a.url,!0),Q.timeout=a.timeout;function se(){if(!Q)return;const z=li.from("getAllResponseHeaders"in Q&&Q.getAllResponseHeaders()),re={data:!d||d==="text"||d==="json"?Q.responseText:Q.response,status:Q.status,statusText:Q.statusText,headers:z,config:e,request:Q};Ng(function(De){n(De),j()},function(De){r(De),j()},re),Q=null}"onloadend"in Q?Q.onloadend=se:Q.onreadystatechange=function(){!Q||Q.readyState!==4||Q.status===0&&!(Q.responseURL&&Q.responseURL.indexOf("file:")===0)||setTimeout(se)},Q.onabort=function(){Q&&(r(new wt("Request aborted",wt.ECONNABORTED,e,Q)),Q=null)},Q.onerror=function(){r(new wt("Network Error",wt.ERR_NETWORK,e,Q)),Q=null},Q.ontimeout=function(){let Z=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const re=a.transitional||Og;a.timeoutErrorMessage&&(Z=a.timeoutErrorMessage),r(new wt(Z,re.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,e,Q)),Q=null},o===void 0&&u.setContentType(null),"setRequestHeader"in Q&&ve.forEach(u.toJSON(),function(Z,re){Q.setRequestHeader(re,Z)}),ve.isUndefined(a.withCredentials)||(Q.withCredentials=!!a.withCredentials),d&&d!=="json"&&(Q.responseType=a.responseType),g&&([E,B]=Wl(g,!0),Q.addEventListener("progress",E)),p&&Q.upload&&([x,A]=Wl(p),Q.upload.addEventListener("progress",x),Q.upload.addEventListener("loadend",A)),(a.cancelToken||a.signal)&&(y=z=>{Q&&(r(!z||z.type?new Vs(null,e,Q):z),Q.abort(),Q=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const te=Pw(a.url);if(te&&ui.protocols.indexOf(te)===-1){r(new wt("Unsupported protocol "+te+":",wt.ERR_BAD_REQUEST,e));return}Q.send(o||null)})},jw=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const o=function(g){if(!a){a=!0,d();const y=g instanceof Error?g:this.reason;r.abort(y instanceof wt?y:new Vs(y instanceof Error?y.message:y))}};let u=t&&setTimeout(()=>{u=null,o(new wt(`timeout ${t} of ms exceeded`,wt.ETIMEDOUT))},t);const d=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),e=null)};e.forEach(g=>g.addEventListener("abort",o));const{signal:p}=r;return p.unsubscribe=()=>ve.asap(d),p}},Gw=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Vw=async function*(e,t){for await(const n of Hw(e))yield*Gw(n,t)},Hw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},w0=(e,t,n,r)=>{const a=Vw(e,t);let o=0,u,d=p=>{u||(u=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:g,value:y}=await a.next();if(g){d(),p.close();return}let x=y.byteLength;if(n){let E=o+=x;n(E)}p.enqueue(new Uint8Array(y))}catch(g){throw d(g),g}},cancel(p){return d(p),a.return()}},{highWaterMark:2})},Mc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Gg=Mc&&typeof ReadableStream=="function",Uw=Mc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Vg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},$w=Gg&&Vg(()=>{let e=!1;const t=new Request(ui.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),L0=64*1024,Md=Gg&&Vg(()=>ve.isReadableStream(new Response("").body)),Jl={stream:Md&&(e=>e.body)};Mc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Jl[t]&&(Jl[t]=ve.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new wt(`Response type '${t}' is not supported`,wt.ERR_NOT_SUPPORT,r)})})})(new Response);const qw=async e=>{if(e==null)return 0;if(ve.isBlob(e))return e.size;if(ve.isSpecCompliantForm(e))return(await new Request(ui.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(e)||ve.isArrayBuffer(e))return e.byteLength;if(ve.isURLSearchParams(e)&&(e=e+""),ve.isString(e))return(await Uw(e)).byteLength},Zw=async(e,t)=>{const n=ve.toFiniteNumber(e.getContentLength());return n??qw(t)},Kw=Mc&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:u,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:y,withCredentials:x="same-origin",fetchOptions:E}=jg(e);g=g?(g+"").toLowerCase():"text";let A=jw([a,o&&o.toAbortSignal()],u),B;const j=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let Q;try{if(p&&$w&&n!=="get"&&n!=="head"&&(Q=await Zw(y,r))!==0){let re=new Request(t,{method:"POST",body:r,duplex:"half"}),ye;if(ve.isFormData(r)&&(ye=re.headers.get("content-type"))&&y.setContentType(ye),re.body){const[De,Re]=x0(Q,Wl(k0(p)));r=w0(re.body,L0,De,Re)}}ve.isString(x)||(x=x?"include":"omit");const se="credentials"in Request.prototype;B=new Request(t,{...E,signal:A,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:se?x:void 0});let te=await fetch(B);const z=Md&&(g==="stream"||g==="response");if(Md&&(d||z&&j)){const re={};["status","statusText","headers"].forEach(we=>{re[we]=te[we]});const ye=ve.toFiniteNumber(te.headers.get("content-length")),[De,Re]=d&&x0(ye,Wl(k0(d),!0))||[];te=new Response(w0(te.body,L0,De,()=>{Re&&Re(),j&&j()}),re)}g=g||"text";let Z=await Jl[ve.findKey(Jl,g)||"text"](te,e);return!z&&j&&j(),await new Promise((re,ye)=>{Ng(re,ye,{data:Z,headers:li.from(te.headers),status:te.status,statusText:te.statusText,config:e,request:B})})}catch(se){throw j&&j(),se&&se.name==="TypeError"&&/fetch/i.test(se.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,e,B),{cause:se.cause||se}):wt.from(se,se&&se.code,e,B)}}),Ad={http:lw,xhr:zw,fetch:Kw};ve.forEach(Ad,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const E0=e=>`- ${e}`,Ww=e=>ve.isFunction(e)||e===null||e===!1,Hg={getAdapter:e=>{e=ve.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let o=0;o<t;o++){n=e[o];let u;if(r=n,!Ww(n)&&(r=Ad[(u=String(n)).toLowerCase()],r===void 0))throw new wt(`Unknown adapter '${u}'`);if(r)break;a[u||"#"+o]=r}if(!r){const o=Object.entries(a).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=t?o.length>1?`since :
`+o.map(E0).join(`
`):" "+E0(o[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Ad};function qh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vs(null,e)}function M0(e){return qh(e),e.headers=li.from(e.headers),e.data=$h.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Hg.getAdapter(e.adapter||Lu.adapter)(e).then(function(r){return qh(e),r.data=$h.call(e,e.transformResponse,r),r.headers=li.from(r.headers),r},function(r){return Ig(r)||(qh(e),r&&r.response&&(r.response.data=$h.call(e,e.transformResponse,r.response),r.response.headers=li.from(r.response.headers))),Promise.reject(r)})}const Ug="1.7.7",kf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const A0={};kf.transitional=function(t,n,r){function a(o,u){return"[Axios v"+Ug+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,d)=>{if(t===!1)throw new wt(a(u," has been removed"+(n?" in "+n:"")),wt.ERR_DEPRECATED);return n&&!A0[u]&&(A0[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,u,d):!0}};function Jw(e,t,n){if(typeof e!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],u=t[o];if(u){const d=e[o],p=d===void 0||u(d,o,e);if(p!==!0)throw new wt("option "+o+" must be "+p,wt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new wt("Unknown option "+o,wt.ERR_BAD_OPTION)}}const Sd={assertOptions:Jw,validators:kf},$r=Sd.validators;class Io{constructor(t){this.defaults=t,this.interceptors={request:new b0,response:new b0}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=jo(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&Sd.assertOptions(r,{silentJSONParsing:$r.transitional($r.boolean),forcedJSONParsing:$r.transitional($r.boolean),clarifyTimeoutError:$r.transitional($r.boolean)},!1),a!=null&&(ve.isFunction(a)?n.paramsSerializer={serialize:a}:Sd.assertOptions(a,{encode:$r.function,serialize:$r.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=o&&ve.merge(o.common,o[n.method]);o&&ve.forEach(["delete","get","head","post","put","patch","common"],B=>{delete o[B]}),n.headers=li.concat(u,o);const d=[];let p=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(p=p&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const g=[];this.interceptors.response.forEach(function(j){g.push(j.fulfilled,j.rejected)});let y,x=0,E;if(!p){const B=[M0.bind(this),void 0];for(B.unshift.apply(B,d),B.push.apply(B,g),E=B.length,y=Promise.resolve(n);x<E;)y=y.then(B[x++],B[x++]);return y}E=d.length;let A=n;for(x=0;x<E;){const B=d[x++],j=d[x++];try{A=B(A)}catch(Q){j.call(this,Q);break}}try{y=M0.call(this,A)}catch(B){return Promise.reject(B)}for(x=0,E=g.length;x<E;)y=y.then(g[x++],g[x++]);return y}getUri(t){t=jo(this.defaults,t);const n=zg(t.baseURL,t.url);return Rg(n,t.params,t.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(t){Io.prototype[t]=function(n,r){return this.request(jo(r||{},{method:t,url:n,data:(r||{}).data}))}});ve.forEach(["post","put","patch"],function(t){function n(r){return function(o,u,d){return this.request(jo(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Io.prototype[t]=n(),Io.prototype[t+"Form"]=n(!0)});class Cf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const u=new Promise(d=>{r.subscribe(d),o=d}).then(a);return u.cancel=function(){r.unsubscribe(o)},u},t(function(o,u,d){r.reason||(r.reason=new Vs(o,u,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Cf(function(a){t=a}),cancel:t}}}function Yw(e){return function(n){return e.apply(null,n)}}function Xw(e){return ve.isObject(e)&&e.isAxiosError===!0}const Bd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bd).forEach(([e,t])=>{Bd[t]=e});function $g(e){const t=new Io(e),n=kg(Io.prototype.request,t);return ve.extend(n,Io.prototype,t,{allOwnKeys:!0}),ve.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return $g(jo(e,a))},n}const yn=$g(Lu);yn.Axios=Io;yn.CanceledError=Vs;yn.CancelToken=Cf;yn.isCancel=Ig;yn.VERSION=Ug;yn.toFormData=Ec;yn.AxiosError=wt;yn.Cancel=yn.CanceledError;yn.all=function(t){return Promise.all(t)};yn.spread=Yw;yn.isAxiosError=Xw;yn.mergeConfig=jo;yn.AxiosHeaders=li;yn.formToJSON=e=>Fg(ve.isHTMLForm(e)?new FormData(e):e);yn.getAdapter=Hg.getAdapter;yn.HttpStatusCode=Bd;yn.default=yn;var Qw={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const{url:eL,project_token:tL}=Qw,fn=yn.create({baseURL:eL,params:{project_token:tL}});class Qn{static getTaxonNameCitations(t,n){return fn.get(`/taxon_names/${t}/inventory/catalog`,n)}static getOtu(t){return fn.get(`/otus/${t}`,{params:{extend:["parents"]}})}static getOtus(t){return fn.get("/otus.json",{params:t})}static getTaxon(t,n){return fn.get(`/taxon_names/${t}`,n)}static summary(t,n){return fn.get(`/taxon_names/${t}/inventory/summary`,n)}static getTaxonTypeDesignation(t){return fn.get(`/taxon_names/${t}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(t,n){return fn.get(`/otus/${t}/inventory/images.json`,n)}static getTaxonomy(t,n){return fn.get(`/otus/${t}/inventory/taxonomy.json`,n)}static getOtuTypeMaterial(t){return fn.get(`/otus/${t}/inventory/type_material.json`)}static getOtuDistribution(t,n={}){return fn.get(`/otus/${t}/inventory/distribution.json`,n)}static getOtuGeoJSONDistribution(t){return fn.get(`/otus/${t}/inventory/distribution.geojson`)}static getCachedMap(t,n){return fn.get(`/cached_maps/${t}`,n)}static getOtuContent(t,n){return fn.get(`/otus/${t}/inventory/content`,n)}static getCachedMap(t){return fn.get(`/cached_maps/${t}`)}static getKeys(t){return fn.get(`/otus/${t}/inventory/keys`)}}const Ho=ao("otuStore",{state:()=>({otu:null,taxon:null,images:null,catalog:{sources:[],stats:{},timeline:[],isLoading:!1},taxonomy:{commonNames:[],synonyms:[]}}),actions:{async loadTaxon(e,{signal:t}){const n=hf(),r=await Promise.all([Qn.getTaxon(e,{params:{extend:["type_taxon_name_relationship"]}}),Er("summary",()=>Qn.summary(e,{signal:t}))]);this.taxon=Object.assign({},...r.map(a=>a.data)),n.setNextAuthorText(this.taxon.full_name_tag+".")},async loadOtu(e,{signal:t}){const n=await Qn.getOtu(e,{signal:t});this.otu=n.data},async loadTaxonomy(e,{signal:t}){const{data:n}=await Qn.getTaxonomy(e,{params:{max_descendants_depth:0,extend:["common_names"]},signal:t});this.taxonomy={commonNames:n.common_names,synonyms:n.nomenclatural_synonyms}},async loadCatalog(e,{signal:t}){this.catalog.isLoading=!0;const n=await Er("taxonomy",()=>Qn.getTaxonNameCitations(e,{signal:t}));this.catalog={...n.data,sources:n.data.sources.map(({cached:r,url:a})=>r.replace(a,`<a href="${a}">${a}</a>`)),isLoading:!1}},async loadInit({otuId:e,controller:t}){kc().$reset();try{await this.loadOtu(e,t),await this.loadTaxon(this.otu.taxon_name_id,t),await this.loadCatalog(this.otu.taxon_name_id,t),await this.loadTaxonomy(e,t)}catch(r){return Promise.reject(r)}}}});function nL(e,t){return e||(e={}),e._resolver=t,e}function iL(e){return nL(e,"taxon")}function rL(e){return uf({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:e}]})}function Pd(e,t){return!e.length||e.some(n=>t==null?void 0:t.includes(n))}function oL(e,t){return t.split("::").at(2)===e}function sL(e,t){return{type:"Feature",geometry:e,properties:{base:[{type:t}]}}}function aL(e){const t=[],n=[];return e.features.forEach(r=>{const a=r.properties.shape.id,o=r.properties.shape.type;n.includes(r.properties.base.type)||n.push(r.properties.base.type);const u=t.findIndex(d=>d.properties.shape.id===a&&d.properties.shape.type===o);if(u>-1){const d=t[u];d.properties.base.push(r.properties.base),d.properties.target.push(r.properties.target)}else{const d=structuredClone(r);d.properties.base=[d.properties.base],d.properties.target=[d.properties.target],t.push(d)}}),n.sort(),{shapeTypes:n,features:t}}function uL(e){return e.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,t=>t.toUpperCase())}function lL(){const e=bu(),t=vu(),n=Ze();gn(t,()=>{n.value=r()},{immediate:!0});function r(){const{children:a}=e.getRoutes().find(o=>o.name==="otus-id");return a.map(({path:o,name:u,meta:d})=>({label:o&&(d.label||uL(o)),path:o,name:u,meta:d}))}return n}const xs=Object.values(Object.assign({}))[0];function cL({taxon:e,otu:t}){const n=vu(),a={router:bu(),route:n,taxon:e,otu:t};return{onCreatePage:()=>xs==null?void 0:xs.onCreatePage(a),onSSRCreatePage:()=>xs==null?void 0:xs.onSSRCreatePage(a)}}const hL={class:"p-4 pt-0"},dL=["href"],fL={__name:"DataMap",setup(e){const t=Ze(!1),n=kc();return(r,a)=>{const o=fe("IconJson"),u=fe("VButton"),d=fe("VTableHeaderCell"),p=fe("VTableHeaderRow"),g=fe("VTableHeader"),y=fe("VTableBodyCell"),x=fe("VTableBodyRow"),E=fe("VTableBody"),A=fe("VTable"),B=fe("VModal");return D(),q("div",null,[ee(u,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",title:"Links used to obtain the information present on this page in JSON format.",onClick:a[0]||(a[0]=j=>t.value=!0)},{default:ie(()=>[ee(o,{class:"w-4 h-4"}),a[2]||(a[2]=Xe(" Datamap "))]),_:1}),t.value?(D(),Ce(B,{key:0,onClose:a[1]||(a[1]=j=>t.value=!1)},{header:ie(()=>a[3]||(a[3]=[$("h3",{class:"font-medium"},"Datamap",-1)])),default:ie(()=>[$("div",hL,[a[6]||(a[6]=$("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1)),ee(A,null,{default:ie(()=>[ee(g,null,{default:ie(()=>[ee(p,null,{default:ie(()=>[ee(d,null,{default:ie(()=>a[4]||(a[4]=[Xe(" Request Key ")])),_:1}),ee(d,null,{default:ie(()=>a[5]||(a[5]=[Xe(" URL ")])),_:1})]),_:1})]),_:1}),ee(E,null,{default:ie(()=>[(D(!0),q(Ge,null,dt(ze(n).datamap,(j,Q)=>(D(),Ce(x,{key:Q},{default:ie(()=>[ee(y,{class:"capitalize"},{default:ie(()=>[Xe(Ie(Q.replaceAll(":"," ")),1)]),_:2},1024),ee(y,null,{default:ie(()=>[$("a",{href:j},Ie(j),9,dL)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Fe("",!0)])}}},pL={class:"relative"},mL={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},_L={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(e){const t=Ze(!1);return(n,r)=>{const a=fe("router-link");return D(),q("div",pL,[$("div",null,[$("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:r[0]||(r[0]=o=>t.value=!t.value)},[xt(n.$slots,"default"),r[2]||(r[2]=$("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[$("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))]),t.value?(D(),q("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:r[1]||(r[1]=o=>t.value=!1)})):Fe("",!0),t.value?(D(),q("div",mL,[(D(!0),q(Ge,null,dt(e.list,o=>(D(),Ce(a,{key:o.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:o.id}}},{default:ie(()=>[Xe(Ie(o.name||n.key),1)]),_:2},1032,["to"]))),128))])):Fe("",!0)])])}}},gL={class:"inline-flex items-center flex-wrap"},yL={class:"inline-flex items-center ml-0 text-sm"},bL=["innerHTML"],vL={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(e){return(t,n)=>{const r=fe("IconArrowRight"),a=fe("router-link");return D(),q("ul",gL,[(D(!0),q(Ge,null,dt(e.list,(o,u,d)=>(D(),q("li",{key:o.id,class:"inline-flex items-center"},[d?(D(),Ce(r,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Fe("",!0),o.length===1?(D(),Ce(a,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:o[0].id}}},{default:ie(()=>[Xe(Ie(u),1)]),_:2},1032,["to"])):(D(),Ce(_L,{key:2,list:o.map(p=>({...p,name:p.name||u}))},{default:ie(()=>[Xe(Ie(u),1)]),_:2},1032,["list"]))]))),128)),$("li",yL,[ee(r,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),$("span",{innerHTML:e.current.full_name_tag},null,8,bL)])])}}},xL={__name:"CommonNames",setup(e){const t=Ho(),n=We(()=>t.taxonomy.commonNames.map(r=>r.name).join("; "));return(r,a)=>(D(),q("span",null,Ie(n.value),1))}},kL={class:"text-1xl capitalize"},CL={class:"text-xl dark:text-gray-100"},wL=["title","innerHTML"],LL={key:0,class:"ml-1 text-red-600",title:"Invalid"},EL={class:"text-1xl"},ML={__name:"TaxaInfo",setup(e){const t=Ho();return(n,r)=>(D(),q("div",null,[$("h2",kL,Ie(ze(t).taxon.rank||"Combination"),1),$("h1",CL,[$("span",null,[$("span",{title:ze(t).taxon.short_status,innerHTML:ze(t).taxon.full_name_tag},null,8,wL),ze(t).taxon.is_valid?Fe("",!0):(D(),q("span",LL,"  "))])]),$("h2",EL,[ee(xL)])]))}};var AL={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const SL={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(e){const{url:t,project_token:n}=AL,r=e;function a(){window.open(`${t}/otus/${r.otu.id}/inventory/dwc.csv?project_token=${n}`,"_self")}return(o,u)=>{const d=fe("IconDownload"),p=fe("VButton");return D(),Ce(p,{primary:"",class:"text-sm flex items-center",title:"Download DwC Occurrences",onClick:u[0]||(u[0]=()=>{a()})},{default:ie(()=>[ee(d,{class:"w-4 h-4 mr-1"}),u[1]||(u[1]=Xe(" DwC "))]),_:1})}}};var BL={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const PL={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},DL={class:"container mx-auto"},TL={class:"pt-6 pb-6"},RL={class:"flex flex-col-reverse md:flex-row justify-between items-start"},OL={class:"mt-8 flex justify-between items-end"},FL={class:"flex flex-row gap-2"},IL={class:"pt-3 pb-4"},NL={class:"container mx-auto box-border"},zL={__name:"Index",setup(e){const t=vu(),n=bu(),r=Ze(t.params),a=lL(),o=Ho(),u=hf();let d=new AbortController;n.afterEach(te=>{r.value=te.params});const p=We(()=>o.otu),g=We(()=>o.taxon),y=We(()=>{var te,z;return((te=p.value)==null?void 0:te.id)&&((z=g.value)==null?void 0:z.id)}),x=We(()=>a.value.filter(te=>Pd(te.meta.rankGroup,g.value.rank_string))),{onCreatePage:E,onSSRCreatePage:A}=cL({taxon:g,otu:p});ef(async()=>{await B(),await A()}),E(),gn(()=>t.params.id,async()=>{d.abort(),d=new AbortController,B()}),bn(async()=>{var te,z;((te=p.value)==null?void 0:te.id)!==Number(t.params.id)||!((z=g.value)!=null&&z.id)?await B():Q()}),or(()=>{o.$reset(),u.$reset()});async function B(){o.$reset(),u.$reset();try{await o.loadInit({otuId:t.params.id,controller:d}),Q()}catch(te){te.name!==ou.CanceledError&&j(te)}}function j(te){var z;switch((z=te==null?void 0:te.response)==null?void 0:z.status){case 404:n.replace({name:"httpError404"});break;case 500:n.replace({name:"httpError500"});break}}function Q(){uf({title:`${BL.project_name} - ${g.value.full_name}`}),rL([iL({id:t.fullPath,name:g.value.full_name,scientificName:{name:g.value.full_name,author:g.value.author,taxonRank:g.value.rank},parentTaxon:{name:g.value.parent.full_name,taxonRank:g.value.parent.rank},commonNames:o.taxonomy.commonNames,alternateName:o.taxonomy.synonyms})])}function se({id:te,otu_valid_id:z}){n.push({name:"otus-id-overview",params:{id:z||te}})}return(te,z)=>{const Z=fe("VSkeleton"),re=fe("Autocomplete"),ye=fe("ClientOnly"),De=fe("TabItem"),Re=fe("TabMenu"),we=fe("RouterView");return D(),q("main",null,[$("div",PL,[$("div",DL,[$("div",TL,[$("div",RL,[ee(Z,{class:"w-full md:w-3/4"},{default:ie(()=>{var Te;return[y.value?(D(),Ce(vL,{key:0,class:"w-full md:w-3/4",list:((Te=p.value)==null?void 0:Te.parents)||{},current:g.value},null,8,["list","current"])):Fe("",!0)]}),_:1}),ee(re,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:se})]),$("div",OL,[ee(Z,{lines:2,class:"w-96"},{default:ie(()=>[y.value?(D(),Ce(ML,{key:0})):Fe("",!0)]),_:1}),$("div",FL,[ee(ye,null,{default:ie(()=>[ee(fL)]),_:1}),y.value?(D(),Ce(SL,{key:0,otu:p.value},null,8,["otu"])):Fe("",!0)])])]),y.value&&ze(a).length>1?(D(),Ce(Re,{key:0,class:"m-[-1px] print:hidden"},{default:ie(()=>[(D(!0),q(Ge,null,dt(x.value,({name:Te,label:Ve})=>(D(),Ce(De,{key:Te,to:{name:Te}},{default:ie(()=>[Xe(Ie(Ve),1)]),_:2},1032,["to"]))),128))]),_:1})):Fe("",!0)])]),$("div",IL,[$("div",NL,[y.value?(D(),Ce(we,{key:ze(t).fullPath,"taxon-id":g.value.id,taxon:g.value,"taxon-rank":g.value.rank_string,"otu-id":p.value.id,otu:p.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Fe("",!0)])])])}}},S0={};function jL(e){let t=S0[e];if(t)return t;t=S0[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);t.push(r)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}function Os(e,t){typeof t!="string"&&(t=Os.defaultChars);const n=jL(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(r){let a="";for(let o=0,u=r.length;o<u;o+=3){const d=parseInt(r.slice(o+1,o+3),16);if(d<128){a+=n[d];continue}if((d&224)===192&&o+3<u){const p=parseInt(r.slice(o+4,o+6),16);if((p&192)===128){const g=d<<6&1984|p&63;g<128?a+="":a+=String.fromCharCode(g),o+=3;continue}}if((d&240)===224&&o+6<u){const p=parseInt(r.slice(o+4,o+6),16),g=parseInt(r.slice(o+7,o+9),16);if((p&192)===128&&(g&192)===128){const y=d<<12&61440|p<<6&4032|g&63;y<2048||y>=55296&&y<=57343?a+="":a+=String.fromCharCode(y),o+=6;continue}}if((d&248)===240&&o+9<u){const p=parseInt(r.slice(o+4,o+6),16),g=parseInt(r.slice(o+7,o+9),16),y=parseInt(r.slice(o+10,o+12),16);if((p&192)===128&&(g&192)===128&&(y&192)===128){let x=d<<18&1835008|p<<12&258048|g<<6&4032|y&63;x<65536||x>1114111?a+="":(x-=65536,a+=String.fromCharCode(55296+(x>>10),56320+(x&1023))),o+=9;continue}}a+=""}return a})}Os.defaultChars=";/?:@&=+$,#";Os.componentChars="";const B0={};function GL(e){let t=B0[e];if(t)return t;t=B0[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?t.push(r):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function Eu(e,t,n){typeof t!="string"&&(n=t,t=Eu.defaultChars),typeof n>"u"&&(n=!0);const r=GL(t);let a="";for(let o=0,u=e.length;o<u;o++){const d=e.charCodeAt(o);if(n&&d===37&&o+2<u&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3))){a+=e.slice(o,o+3),o+=2;continue}if(d<128){a+=r[d];continue}if(d>=55296&&d<=57343){if(d>=55296&&d<=56319&&o+1<u){const p=e.charCodeAt(o+1);if(p>=56320&&p<=57343){a+=encodeURIComponent(e[o]+e[o+1]),o++;continue}}a+="%EF%BF%BD";continue}a+=encodeURIComponent(e[o])}return a}Eu.defaultChars=";/?:@&=+$,-_.!~*'()#";Eu.componentChars="-_.!~*'()";function wf(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Yl(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const VL=/^([a-z0-9.+-]+:)/i,HL=/:[0-9]*$/,UL=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$L=["<",">",'"',"`"," ","\r",`
`,"	"],qL=["{","}","|","\\","^","`"].concat($L),ZL=["'"].concat(qL),P0=["%","/","?",";","#"].concat(ZL),D0=["/","?","#"],KL=255,T0=/^[+a-z0-9A-Z_-]{0,63}$/,WL=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,R0={javascript:!0,"javascript:":!0},O0={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Lf(e,t){if(e&&e instanceof Yl)return e;const n=new Yl;return n.parse(e,t),n}Yl.prototype.parse=function(e,t){let n,r,a,o=e;if(o=o.trim(),!t&&e.split("#").length===1){const g=UL.exec(o);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}let u=VL.exec(o);if(u&&(u=u[0],n=u.toLowerCase(),this.protocol=u,o=o.substr(u.length)),(t||u||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(a=o.substr(0,2)==="//",a&&!(u&&R0[u])&&(o=o.substr(2),this.slashes=!0)),!R0[u]&&(a||u&&!O0[u])){let g=-1;for(let B=0;B<D0.length;B++)r=o.indexOf(D0[B]),r!==-1&&(g===-1||r<g)&&(g=r);let y,x;g===-1?x=o.lastIndexOf("@"):x=o.lastIndexOf("@",g),x!==-1&&(y=o.slice(0,x),o=o.slice(x+1),this.auth=y),g=-1;for(let B=0;B<P0.length;B++)r=o.indexOf(P0[B]),r!==-1&&(g===-1||r<g)&&(g=r);g===-1&&(g=o.length),o[g-1]===":"&&g--;const E=o.slice(0,g);o=o.slice(g),this.parseHost(E),this.hostname=this.hostname||"";const A=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!A){const B=this.hostname.split(/\./);for(let j=0,Q=B.length;j<Q;j++){const se=B[j];if(se&&!se.match(T0)){let te="";for(let z=0,Z=se.length;z<Z;z++)se.charCodeAt(z)>127?te+="x":te+=se[z];if(!te.match(T0)){const z=B.slice(0,j),Z=B.slice(j+1),re=se.match(WL);re&&(z.push(re[1]),Z.unshift(re[2])),Z.length&&(o=Z.join(".")+o),this.hostname=z.join(".");break}}}}this.hostname.length>KL&&(this.hostname=""),A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const d=o.indexOf("#");d!==-1&&(this.hash=o.substr(d),o=o.slice(0,d));const p=o.indexOf("?");return p!==-1&&(this.search=o.substr(p),o=o.slice(0,p)),o&&(this.pathname=o),O0[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Yl.prototype.parseHost=function(e){let t=HL.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const JL=Object.freeze(Object.defineProperty({__proto__:null,decode:Os,encode:Eu,format:wf,parse:Lf},Symbol.toStringTag,{value:"Module"})),qg=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Zg=/[\0-\x1F\x7F-\x9F]/,YL=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Ef=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Kg=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Wg=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,XL=Object.freeze(Object.defineProperty({__proto__:null,Any:qg,Cc:Zg,Cf:YL,P:Ef,S:Kg,Z:Wg},Symbol.toStringTag,{value:"Module"})),QL=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),eE=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Zh;const tE=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),nE=(Zh=String.fromCodePoint)!==null&&Zh!==void 0?Zh:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function iE(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=tE.get(e))!==null&&t!==void 0?t:e}var On;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(On||(On={}));const rE=32;var eo;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(eo||(eo={}));function Dd(e){return e>=On.ZERO&&e<=On.NINE}function oE(e){return e>=On.UPPER_A&&e<=On.UPPER_F||e>=On.LOWER_A&&e<=On.LOWER_F}function sE(e){return e>=On.UPPER_A&&e<=On.UPPER_Z||e>=On.LOWER_A&&e<=On.LOWER_Z||Dd(e)}function aE(e){return e===On.EQUALS||sE(e)}var Tn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Tn||(Tn={}));var Qr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Qr||(Qr={}));class uE{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Tn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Qr.Strict}startEntity(t){this.decodeMode=t,this.state=Tn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Tn.EntityStart:return t.charCodeAt(n)===On.NUM?(this.state=Tn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Tn.NamedEntity,this.stateNamedEntity(t,n));case Tn.NumericStart:return this.stateNumericStart(t,n);case Tn.NumericDecimal:return this.stateNumericDecimal(t,n);case Tn.NumericHex:return this.stateNumericHex(t,n);case Tn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|rE)===On.LOWER_X?(this.state=Tn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Tn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const o=r-n;this.result=this.result*Math.pow(a,o)+parseInt(t.substr(n,o),a),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Dd(a)||oE(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Dd(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===On.SEMI)this.consumed+=1;else if(this.decodeMode===Qr.Strict)return 0;return this.emitCodePoint(iE(this.result),this.consumed),this.errors&&(t!==On.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],o=(a&eo.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=lE(r,a,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===Qr.Attribute&&(o===0||aE(u))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],o=(a&eo.VALUE_LENGTH)>>14,o!==0){if(u===On.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Qr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&eo.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~eo.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case Tn.NamedEntity:return this.result!==0&&(this.decodeMode!==Qr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Tn.NumericDecimal:return this.emitNumericEntity(0,2);case Tn.NumericHex:return this.emitNumericEntity(0,3);case Tn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Tn.EntityStart:return 0}}}function Jg(e){let t="";const n=new uE(e,r=>t+=nE(r));return function(a,o){let u=0,d=0;for(;(d=a.indexOf("&",d))>=0;){t+=a.slice(u,d),n.startEntity(o);const g=n.write(a,d+1);if(g<0){u=d+n.end();break}u=d+g,d=g===0?u+1:u}const p=t+a.slice(u);return t="",p}}function lE(e,t,n,r){const a=(t&eo.BRANCH_LENGTH)>>7,o=t&eo.JUMP_TABLE;if(a===0)return o!==0&&r===o?n:-1;if(o){const p=r-o;return p<0||p>=a?-1:e[n+p]-1}let u=n,d=u+a-1;for(;u<=d;){const p=u+d>>>1,g=e[p];if(g<r)u=p+1;else if(g>r)d=p-1;else return e[p+a]}return-1}const cE=Jg(QL);Jg(eE);function Yg(e,t=Qr.Legacy){return cE(e,t)}function hE(e){return Object.prototype.toString.call(e)}function Mf(e){return hE(e)==="[object String]"}const dE=Object.prototype.hasOwnProperty;function fE(e,t){return dE.call(e,t)}function Ac(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){e[r]=n[r]})}}),e}function Xg(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function Af(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Xl(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const Qg=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,pE=/&([a-z#][a-z0-9]{1,31});/gi,mE=new RegExp(Qg.source+"|"+pE.source,"gi"),_E=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function gE(e,t){if(t.charCodeAt(0)===35&&_E.test(t)){const r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Af(r)?Xl(r):e}const n=Yg(e);return n!==e?n:e}function yE(e){return e.indexOf("\\")<0?e:e.replace(Qg,"$1")}function Fs(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(mE,function(t,n,r){return n||gE(t,r)})}const bE=/[&<>"]/,vE=/[&<>"]/g,xE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function kE(e){return xE[e]}function io(e){return bE.test(e)?e.replace(vE,kE):e}const CE=/[.?*+^$[\]\\(){}|-]/g;function wE(e){return e.replace(CE,"\\$&")}function Qt(e){switch(e){case 9:case 32:return!0}return!1}function au(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function uu(e){return Ef.test(e)||Kg.test(e)}function lu(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Sc(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const LE={mdurl:JL,ucmicro:XL},EE=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Xg,assign:Ac,escapeHtml:io,escapeRE:wE,fromCodePoint:Xl,has:fE,isMdAsciiPunct:lu,isPunctChar:uu,isSpace:Qt,isString:Mf,isValidEntityCode:Af,isWhiteSpace:au,lib:LE,normalizeReference:Sc,unescapeAll:Fs,unescapeMd:yE},Symbol.toStringTag,{value:"Module"}));function ME(e,t,n){let r,a,o,u;const d=e.posMax,p=e.pos;for(e.pos=t+1,r=1;e.pos<d;){if(o=e.src.charCodeAt(e.pos),o===93&&(r--,r===0)){a=!0;break}if(u=e.pos,e.md.inline.skipToken(e),o===91){if(u===e.pos-1)r++;else if(n)return e.pos=p,-1}}let g=-1;return a&&(g=e.pos),e.pos=p,g}function AE(e,t,n){let r,a=t;const o={ok:!1,pos:0,str:""};if(e.charCodeAt(a)===60){for(a++;a<n;){if(r=e.charCodeAt(a),r===10||r===60)return o;if(r===62)return o.pos=a+1,o.str=Fs(e.slice(t+1,a)),o.ok=!0,o;if(r===92&&a+1<n){a+=2;continue}a++}return o}let u=0;for(;a<n&&(r=e.charCodeAt(a),!(r===32||r<32||r===127));){if(r===92&&a+1<n){if(e.charCodeAt(a+1)===32)break;a+=2;continue}if(r===40&&(u++,u>32))return o;if(r===41){if(u===0)break;u--}a++}return t===a||u!==0||(o.str=Fs(e.slice(t,a)),o.pos=a,o.ok=!0),o}function SE(e,t,n,r){let a,o=t;const u={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)u.str=r.str,u.marker=r.marker;else{if(o>=n)return u;let d=e.charCodeAt(o);if(d!==34&&d!==39&&d!==40)return u;t++,o++,d===40&&(d=41),u.marker=d}for(;o<n;){if(a=e.charCodeAt(o),a===u.marker)return u.pos=o+1,u.str+=Fs(e.slice(t,o)),u.ok=!0,u;if(a===40&&u.marker===41)return u;a===92&&o+1<n&&o++,o++}return u.can_continue=!0,u.str+=Fs(e.slice(t,o)),u}const BE=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:AE,parseLinkLabel:ME,parseLinkTitle:SE},Symbol.toStringTag,{value:"Module"})),sr={};sr.code_inline=function(e,t,n,r,a){const o=e[t];return"<code"+a.renderAttrs(o)+">"+io(o.content)+"</code>"};sr.code_block=function(e,t,n,r,a){const o=e[t];return"<pre"+a.renderAttrs(o)+"><code>"+io(e[t].content)+`</code></pre>
`};sr.fence=function(e,t,n,r,a){const o=e[t],u=o.info?Fs(o.info).trim():"";let d="",p="";if(u){const y=u.split(/(\s+)/g);d=y[0],p=y.slice(2).join("")}let g;if(n.highlight?g=n.highlight(o.content,d,p)||io(o.content):g=io(o.content),g.indexOf("<pre")===0)return g+`
`;if(u){const y=o.attrIndex("class"),x=o.attrs?o.attrs.slice():[];y<0?x.push(["class",n.langPrefix+d]):(x[y]=x[y].slice(),x[y][1]+=" "+n.langPrefix+d);const E={attrs:x};return`<pre><code${a.renderAttrs(E)}>${g}</code></pre>
`}return`<pre><code${a.renderAttrs(o)}>${g}</code></pre>
`};sr.image=function(e,t,n,r,a){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=a.renderInlineAsText(o.children,n,r),a.renderToken(e,t,n)};sr.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};sr.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};sr.text=function(e,t){return io(e[t].content)};sr.html_block=function(e,t){return e[t].content};sr.html_inline=function(e,t){return e[t].content};function Hs(){this.rules=Ac({},sr)}Hs.prototype.renderAttrs=function(t){let n,r,a;if(!t.attrs)return"";for(a="",n=0,r=t.attrs.length;n<r;n++)a+=" "+io(t.attrs[n][0])+'="'+io(t.attrs[n][1])+'"';return a};Hs.prototype.renderToken=function(t,n,r){const a=t[n];let o="";if(a.hidden)return"";a.block&&a.nesting!==-1&&n&&t[n-1].hidden&&(o+=`
`),o+=(a.nesting===-1?"</":"<")+a.tag,o+=this.renderAttrs(a),a.nesting===0&&r.xhtmlOut&&(o+=" /");let u=!1;if(a.block&&(u=!0,a.nesting===1&&n+1<t.length)){const d=t[n+1];(d.type==="inline"||d.hidden||d.nesting===-1&&d.tag===a.tag)&&(u=!1)}return o+=u?`>
`:">",o};Hs.prototype.renderInline=function(e,t,n){let r="";const a=this.rules;for(let o=0,u=e.length;o<u;o++){const d=e[o].type;typeof a[d]<"u"?r+=a[d](e,o,t,n,this):r+=this.renderToken(e,o,t)}return r};Hs.prototype.renderInlineAsText=function(e,t,n){let r="";for(let a=0,o=e.length;a<o;a++)switch(e[a].type){case"text":r+=e[a].content;break;case"image":r+=this.renderInlineAsText(e[a].children,t,n);break;case"html_inline":case"html_block":r+=e[a].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};Hs.prototype.render=function(e,t,n){let r="";const a=this.rules;for(let o=0,u=e.length;o<u;o++){const d=e[o].type;d==="inline"?r+=this.renderInline(e[o].children,t,n):typeof a[d]<"u"?r+=a[d](e,o,t,n,this):r+=this.renderToken(e,o,t,n)}return r};function ci(){this.__rules__=[],this.__cache__=null}ci.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};ci.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};ci.prototype.at=function(e,t,n){const r=this.__find__(e),a=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=a.alt||[],this.__cache__=null};ci.prototype.before=function(e,t,n,r){const a=this.__find__(e),o=r||{};if(a===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(a,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};ci.prototype.after=function(e,t,n,r){const a=this.__find__(e),o=r||{};if(a===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(a+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};ci.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};ci.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const a=this.__find__(r);if(a<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[a].enabled=!0,n.push(r)},this),this.__cache__=null,n};ci.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};ci.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const a=this.__find__(r);if(a<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[a].enabled=!1,n.push(r)},this),this.__cache__=null,n};ci.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function $i(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}$i.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,a=n.length;r<a;r++)if(n[r][0]===t)return r;return-1};$i.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};$i.prototype.attrSet=function(t,n){const r=this.attrIndex(t),a=[t,n];r<0?this.attrPush(a):this.attrs[r]=a};$i.prototype.attrGet=function(t){const n=this.attrIndex(t);let r=null;return n>=0&&(r=this.attrs[n][1]),r};$i.prototype.attrJoin=function(t,n){const r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function e1(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}e1.prototype.Token=$i;const PE=/\r\n?|\n/g,DE=/\0/g;function TE(e){let t;t=e.src.replace(PE,`
`),t=t.replace(DE,""),e.src=t}function RE(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function OE(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const a=t[n];a.type==="inline"&&e.md.inline.parse(a.content,e.md,e.env,a.children)}}function FE(e){return/^<a[>\s]/i.test(e)}function IE(e){return/^<\/a\s*>/i.test(e)}function NE(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,r=t.length;n<r;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let a=t[n].children,o=0;for(let u=a.length-1;u>=0;u--){const d=a[u];if(d.type==="link_close"){for(u--;a[u].level!==d.level&&a[u].type!=="link_open";)u--;continue}if(d.type==="html_inline"&&(FE(d.content)&&o>0&&o--,IE(d.content)&&o++),!(o>0)&&d.type==="text"&&e.md.linkify.test(d.content)){const p=d.content;let g=e.md.linkify.match(p);const y=[];let x=d.level,E=0;g.length>0&&g[0].index===0&&u>0&&a[u-1].type==="text_special"&&(g=g.slice(1));for(let A=0;A<g.length;A++){const B=g[A].url,j=e.md.normalizeLink(B);if(!e.md.validateLink(j))continue;let Q=g[A].text;g[A].schema?g[A].schema==="mailto:"&&!/^mailto:/i.test(Q)?Q=e.md.normalizeLinkText("mailto:"+Q).replace(/^mailto:/,""):Q=e.md.normalizeLinkText(Q):Q=e.md.normalizeLinkText("http://"+Q).replace(/^http:\/\//,"");const se=g[A].index;if(se>E){const re=new e.Token("text","",0);re.content=p.slice(E,se),re.level=x,y.push(re)}const te=new e.Token("link_open","a",1);te.attrs=[["href",j]],te.level=x++,te.markup="linkify",te.info="auto",y.push(te);const z=new e.Token("text","",0);z.content=Q,z.level=x,y.push(z);const Z=new e.Token("link_close","a",-1);Z.level=--x,Z.markup="linkify",Z.info="auto",y.push(Z),E=g[A].lastIndex}if(E<p.length){const A=new e.Token("text","",0);A.content=p.slice(E),A.level=x,y.push(A)}t[n].children=a=Xg(a,u,y)}}}}const t1=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,zE=/\((c|tm|r)\)/i,jE=/\((c|tm|r)\)/ig,GE={c:"",r:"",tm:""};function VE(e,t){return GE[t.toLowerCase()]}function HE(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&(r.content=r.content.replace(jE,VE)),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function UE(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&t1.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function $E(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(zE.test(e.tokens[t].content)&&HE(e.tokens[t].children),t1.test(e.tokens[t].content)&&UE(e.tokens[t].children))}const qE=/['"]/,F0=/['"]/g,I0="";function Ll(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function ZE(e,t){let n;const r=[];for(let a=0;a<e.length;a++){const o=e[a],u=e[a].level;for(n=r.length-1;n>=0&&!(r[n].level<=u);n--);if(r.length=n+1,o.type!=="text")continue;let d=o.content,p=0,g=d.length;e:for(;p<g;){F0.lastIndex=p;const y=F0.exec(d);if(!y)break;let x=!0,E=!0;p=y.index+1;const A=y[0]==="'";let B=32;if(y.index-1>=0)B=d.charCodeAt(y.index-1);else for(n=a-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){B=e[n].content.charCodeAt(e[n].content.length-1);break}let j=32;if(p<g)j=d.charCodeAt(p);else for(n=a+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){j=e[n].content.charCodeAt(0);break}const Q=lu(B)||uu(String.fromCharCode(B)),se=lu(j)||uu(String.fromCharCode(j)),te=au(B),z=au(j);if(z?x=!1:se&&(te||Q||(x=!1)),te?E=!1:Q&&(z||se||(E=!1)),j===34&&y[0]==='"'&&B>=48&&B<=57&&(E=x=!1),x&&E&&(x=Q,E=se),!x&&!E){A&&(o.content=Ll(o.content,y.index,I0));continue}if(E)for(n=r.length-1;n>=0;n--){let Z=r[n];if(r[n].level<u)break;if(Z.single===A&&r[n].level===u){Z=r[n];let re,ye;A?(re=t.md.options.quotes[2],ye=t.md.options.quotes[3]):(re=t.md.options.quotes[0],ye=t.md.options.quotes[1]),o.content=Ll(o.content,y.index,ye),e[Z.token].content=Ll(e[Z.token].content,Z.pos,re),p+=ye.length-1,Z.token===a&&(p+=re.length-1),d=o.content,g=d.length,r.length=n;continue e}}x?r.push({token:a,pos:y.index,single:A,level:u}):E&&A&&(o.content=Ll(o.content,y.index,I0))}}}function KE(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!qE.test(e.tokens[t].content)||ZE(e.tokens[t].children,e)}function WE(e){let t,n;const r=e.tokens,a=r.length;for(let o=0;o<a;o++){if(r[o].type!=="inline")continue;const u=r[o].children,d=u.length;for(t=0;t<d;t++)u[t].type==="text_special"&&(u[t].type="text");for(t=n=0;t<d;t++)u[t].type==="text"&&t+1<d&&u[t+1].type==="text"?u[t+1].content=u[t].content+u[t+1].content:(t!==n&&(u[n]=u[t]),n++);t!==n&&(u.length=n)}}const Kh=[["normalize",TE],["block",RE],["inline",OE],["linkify",NE],["replacements",$E],["smartquotes",KE],["text_join",WE]];function Sf(){this.ruler=new ci;for(let e=0;e<Kh.length;e++)this.ruler.push(Kh[e][0],Kh[e][1])}Sf.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)};Sf.prototype.State=e1;function ar(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const a=this.src;for(let o=0,u=0,d=0,p=0,g=a.length,y=!1;u<g;u++){const x=a.charCodeAt(u);if(!y)if(Qt(x)){d++,x===9?p+=4-p%4:p++;continue}else y=!0;(x===10||u===g-1)&&(x!==10&&u++,this.bMarks.push(o),this.eMarks.push(u),this.tShift.push(d),this.sCount.push(p),this.bsCount.push(0),y=!1,d=0,p=0,o=u+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}ar.prototype.push=function(e,t,n){const r=new $i(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};ar.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};ar.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};ar.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const r=this.src.charCodeAt(t);if(!Qt(r))break}return t};ar.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Qt(this.src.charCodeAt(--t)))return t+1;return t};ar.prototype.skipChars=function(t,n){for(let r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};ar.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};ar.prototype.getLines=function(t,n,r,a){if(t>=n)return"";const o=new Array(n-t);for(let u=0,d=t;d<n;d++,u++){let p=0;const g=this.bMarks[d];let y=g,x;for(d+1<n||a?x=this.eMarks[d]+1:x=this.eMarks[d];y<x&&p<r;){const E=this.src.charCodeAt(y);if(Qt(E))E===9?p+=4-(p+this.bsCount[d])%4:p++;else if(y-g<this.tShift[d])p++;else break;y++}p>r?o[u]=new Array(p-r+1).join(" ")+this.src.slice(y,x):o[u]=this.src.slice(y,x)}return o.join("")};ar.prototype.Token=$i;const JE=65536;function Wh(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function N0(e){const t=[],n=e.length;let r=0,a=e.charCodeAt(r),o=!1,u=0,d="";for(;r<n;)a===124&&(o?(d+=e.substring(u,r-1),u=r):(t.push(d+e.substring(u,r)),d="",u=r+1)),o=a===92,r++,a=e.charCodeAt(r);return t.push(d+e.substring(u)),t}function YE(e,t,n,r){if(t+2>n)return!1;let a=t+1;if(e.sCount[a]<e.blkIndent||e.sCount[a]-e.blkIndent>=4)return!1;let o=e.bMarks[a]+e.tShift[a];if(o>=e.eMarks[a])return!1;const u=e.src.charCodeAt(o++);if(u!==124&&u!==45&&u!==58||o>=e.eMarks[a])return!1;const d=e.src.charCodeAt(o++);if(d!==124&&d!==45&&d!==58&&!Qt(d)||u===45&&Qt(d))return!1;for(;o<e.eMarks[a];){const Z=e.src.charCodeAt(o);if(Z!==124&&Z!==45&&Z!==58&&!Qt(Z))return!1;o++}let p=Wh(e,t+1),g=p.split("|");const y=[];for(let Z=0;Z<g.length;Z++){const re=g[Z].trim();if(!re){if(Z===0||Z===g.length-1)continue;return!1}if(!/^:?-+:?$/.test(re))return!1;re.charCodeAt(re.length-1)===58?y.push(re.charCodeAt(0)===58?"center":"right"):re.charCodeAt(0)===58?y.push("left"):y.push("")}if(p=Wh(e,t).trim(),p.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;g=N0(p),g.length&&g[0]===""&&g.shift(),g.length&&g[g.length-1]===""&&g.pop();const x=g.length;if(x===0||x!==y.length)return!1;if(r)return!0;const E=e.parentType;e.parentType="table";const A=e.md.block.ruler.getRules("blockquote"),B=e.push("table_open","table",1),j=[t,0];B.map=j;const Q=e.push("thead_open","thead",1);Q.map=[t,t+1];const se=e.push("tr_open","tr",1);se.map=[t,t+1];for(let Z=0;Z<g.length;Z++){const re=e.push("th_open","th",1);y[Z]&&(re.attrs=[["style","text-align:"+y[Z]]]);const ye=e.push("inline","",0);ye.content=g[Z].trim(),ye.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let te,z=0;for(a=t+2;a<n&&!(e.sCount[a]<e.blkIndent);a++){let Z=!1;for(let ye=0,De=A.length;ye<De;ye++)if(A[ye](e,a,n,!0)){Z=!0;break}if(Z||(p=Wh(e,a).trim(),!p)||e.sCount[a]-e.blkIndent>=4||(g=N0(p),g.length&&g[0]===""&&g.shift(),g.length&&g[g.length-1]===""&&g.pop(),z+=x-g.length,z>JE))break;if(a===t+2){const ye=e.push("tbody_open","tbody",1);ye.map=te=[t+2,0]}const re=e.push("tr_open","tr",1);re.map=[a,a+1];for(let ye=0;ye<x;ye++){const De=e.push("td_open","td",1);y[ye]&&(De.attrs=[["style","text-align:"+y[ye]]]);const Re=e.push("inline","",0);Re.content=g[ye]?g[ye].trim():"",Re.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return te&&(e.push("tbody_close","tbody",-1),te[1]=a),e.push("table_close","table",-1),j[1]=a,e.parentType=E,e.line=a,!0}function XE(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,a=r;for(;r<n;){if(e.isEmpty(r)){r++;continue}if(e.sCount[r]-e.blkIndent>=4){r++,a=r;continue}break}e.line=a;const o=e.push("code_block","code",0);return o.content=e.getLines(t,a,4+e.blkIndent,!1)+`
`,o.map=[t,e.line],!0}function QE(e,t,n,r){let a=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||a+3>o)return!1;const u=e.src.charCodeAt(a);if(u!==126&&u!==96)return!1;let d=a;a=e.skipChars(a,u);let p=a-d;if(p<3)return!1;const g=e.src.slice(d,a),y=e.src.slice(a,o);if(u===96&&y.indexOf(String.fromCharCode(u))>=0)return!1;if(r)return!0;let x=t,E=!1;for(;x++,!(x>=n||(a=d=e.bMarks[x]+e.tShift[x],o=e.eMarks[x],a<o&&e.sCount[x]<e.blkIndent));)if(e.src.charCodeAt(a)===u&&!(e.sCount[x]-e.blkIndent>=4)&&(a=e.skipChars(a,u),!(a-d<p)&&(a=e.skipSpaces(a),!(a<o)))){E=!0;break}p=e.sCount[t],e.line=x+(E?1:0);const A=e.push("fence","code",0);return A.info=y,A.content=e.getLines(t+1,x,p,!0),A.markup=g,A.map=[t,e.line],!0}function e6(e,t,n,r){let a=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const u=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(a)!==62)return!1;if(r)return!0;const d=[],p=[],g=[],y=[],x=e.md.block.ruler.getRules("blockquote"),E=e.parentType;e.parentType="blockquote";let A=!1,B;for(B=t;B<n;B++){const z=e.sCount[B]<e.blkIndent;if(a=e.bMarks[B]+e.tShift[B],o=e.eMarks[B],a>=o)break;if(e.src.charCodeAt(a++)===62&&!z){let re=e.sCount[B]+1,ye,De;e.src.charCodeAt(a)===32?(a++,re++,De=!1,ye=!0):e.src.charCodeAt(a)===9?(ye=!0,(e.bsCount[B]+re)%4===3?(a++,re++,De=!1):De=!0):ye=!1;let Re=re;for(d.push(e.bMarks[B]),e.bMarks[B]=a;a<o;){const we=e.src.charCodeAt(a);if(Qt(we))we===9?Re+=4-(Re+e.bsCount[B]+(De?1:0))%4:Re++;else break;a++}A=a>=o,p.push(e.bsCount[B]),e.bsCount[B]=e.sCount[B]+1+(ye?1:0),g.push(e.sCount[B]),e.sCount[B]=Re-re,y.push(e.tShift[B]),e.tShift[B]=a-e.bMarks[B];continue}if(A)break;let Z=!1;for(let re=0,ye=x.length;re<ye;re++)if(x[re](e,B,n,!0)){Z=!0;break}if(Z){e.lineMax=B,e.blkIndent!==0&&(d.push(e.bMarks[B]),p.push(e.bsCount[B]),y.push(e.tShift[B]),g.push(e.sCount[B]),e.sCount[B]-=e.blkIndent);break}d.push(e.bMarks[B]),p.push(e.bsCount[B]),y.push(e.tShift[B]),g.push(e.sCount[B]),e.sCount[B]=-1}const j=e.blkIndent;e.blkIndent=0;const Q=e.push("blockquote_open","blockquote",1);Q.markup=">";const se=[t,0];Q.map=se,e.md.block.tokenize(e,t,B);const te=e.push("blockquote_close","blockquote",-1);te.markup=">",e.lineMax=u,e.parentType=E,se[1]=e.line;for(let z=0;z<y.length;z++)e.bMarks[z+t]=d[z],e.tShift[z+t]=y[z],e.sCount[z+t]=g[z],e.bsCount[z+t]=p[z];return e.blkIndent=j,!0}function t6(e,t,n,r){const a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const u=e.src.charCodeAt(o++);if(u!==42&&u!==45&&u!==95)return!1;let d=1;for(;o<a;){const g=e.src.charCodeAt(o++);if(g!==u&&!Qt(g))return!1;g===u&&d++}if(d<3)return!1;if(r)return!0;e.line=t+1;const p=e.push("hr","hr",0);return p.map=[t,e.line],p.markup=Array(d+1).join(String.fromCharCode(u)),!0}function z0(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const a=e.src.charCodeAt(r++);if(a!==42&&a!==45&&a!==43)return-1;if(r<n){const o=e.src.charCodeAt(r);if(!Qt(o))return-1}return r}function j0(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let a=n;if(a+1>=r)return-1;let o=e.src.charCodeAt(a++);if(o<48||o>57)return-1;for(;;){if(a>=r)return-1;if(o=e.src.charCodeAt(a++),o>=48&&o<=57){if(a-n>=10)return-1;continue}if(o===41||o===46)break;return-1}return a<r&&(o=e.src.charCodeAt(a),!Qt(o))?-1:a}function n6(e,t){const n=e.level+2;for(let r=t+2,a=e.tokens.length-2;r<a;r++)e.tokens[r].level===n&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}function i6(e,t,n,r){let a,o,u,d,p=t,g=!0;if(e.sCount[p]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[p]-e.listIndent>=4&&e.sCount[p]<e.blkIndent)return!1;let y=!1;r&&e.parentType==="paragraph"&&e.sCount[p]>=e.blkIndent&&(y=!0);let x,E,A;if((A=j0(e,p))>=0){if(x=!0,u=e.bMarks[p]+e.tShift[p],E=Number(e.src.slice(u,A-1)),y&&E!==1)return!1}else if((A=z0(e,p))>=0)x=!1;else return!1;if(y&&e.skipSpaces(A)>=e.eMarks[p])return!1;if(r)return!0;const B=e.src.charCodeAt(A-1),j=e.tokens.length;x?(d=e.push("ordered_list_open","ol",1),E!==1&&(d.attrs=[["start",E]])):d=e.push("bullet_list_open","ul",1);const Q=[p,0];d.map=Q,d.markup=String.fromCharCode(B);let se=!1;const te=e.md.block.ruler.getRules("list"),z=e.parentType;for(e.parentType="list";p<n;){o=A,a=e.eMarks[p];const Z=e.sCount[p]+A-(e.bMarks[p]+e.tShift[p]);let re=Z;for(;o<a;){const At=e.src.charCodeAt(o);if(At===9)re+=4-(re+e.bsCount[p])%4;else if(At===32)re++;else break;o++}const ye=o;let De;ye>=a?De=1:De=re-Z,De>4&&(De=1);const Re=Z+De;d=e.push("list_item_open","li",1),d.markup=String.fromCharCode(B);const we=[p,0];d.map=we,x&&(d.info=e.src.slice(u,A-1));const Te=e.tight,Ve=e.tShift[p],Pe=e.sCount[p],ot=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=Re,e.tight=!0,e.tShift[p]=ye-e.bMarks[p],e.sCount[p]=re,ye>=a&&e.isEmpty(p+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,p,n,!0),(!e.tight||se)&&(g=!1),se=e.line-p>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=ot,e.tShift[p]=Ve,e.sCount[p]=Pe,e.tight=Te,d=e.push("list_item_close","li",-1),d.markup=String.fromCharCode(B),p=e.line,we[1]=p,p>=n||e.sCount[p]<e.blkIndent||e.sCount[p]-e.blkIndent>=4)break;let gt=!1;for(let At=0,Ue=te.length;At<Ue;At++)if(te[At](e,p,n,!0)){gt=!0;break}if(gt)break;if(x){if(A=j0(e,p),A<0)break;u=e.bMarks[p]+e.tShift[p]}else if(A=z0(e,p),A<0)break;if(B!==e.src.charCodeAt(A-1))break}return x?d=e.push("ordered_list_close","ol",-1):d=e.push("bullet_list_close","ul",-1),d.markup=String.fromCharCode(B),Q[1]=p,e.line=p,e.parentType=z,g&&n6(e,j),!0}function r6(e,t,n,r){let a=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],u=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(a)!==91)return!1;function d(te){const z=e.lineMax;if(te>=z||e.isEmpty(te))return null;let Z=!1;if(e.sCount[te]-e.blkIndent>3&&(Z=!0),e.sCount[te]<0&&(Z=!0),!Z){const De=e.md.block.ruler.getRules("reference"),Re=e.parentType;e.parentType="reference";let we=!1;for(let Te=0,Ve=De.length;Te<Ve;Te++)if(De[Te](e,te,z,!0)){we=!0;break}if(e.parentType=Re,we)return null}const re=e.bMarks[te]+e.tShift[te],ye=e.eMarks[te];return e.src.slice(re,ye+1)}let p=e.src.slice(a,o+1);o=p.length;let g=-1;for(a=1;a<o;a++){const te=p.charCodeAt(a);if(te===91)return!1;if(te===93){g=a;break}else if(te===10){const z=d(u);z!==null&&(p+=z,o=p.length,u++)}else if(te===92&&(a++,a<o&&p.charCodeAt(a)===10)){const z=d(u);z!==null&&(p+=z,o=p.length,u++)}}if(g<0||p.charCodeAt(g+1)!==58)return!1;for(a=g+2;a<o;a++){const te=p.charCodeAt(a);if(te===10){const z=d(u);z!==null&&(p+=z,o=p.length,u++)}else if(!Qt(te))break}const y=e.md.helpers.parseLinkDestination(p,a,o);if(!y.ok)return!1;const x=e.md.normalizeLink(y.str);if(!e.md.validateLink(x))return!1;a=y.pos;const E=a,A=u,B=a;for(;a<o;a++){const te=p.charCodeAt(a);if(te===10){const z=d(u);z!==null&&(p+=z,o=p.length,u++)}else if(!Qt(te))break}let j=e.md.helpers.parseLinkTitle(p,a,o);for(;j.can_continue;){const te=d(u);if(te===null)break;p+=te,a=o,o=p.length,u++,j=e.md.helpers.parseLinkTitle(p,a,o,j)}let Q;for(a<o&&B!==a&&j.ok?(Q=j.str,a=j.pos):(Q="",a=E,u=A);a<o;){const te=p.charCodeAt(a);if(!Qt(te))break;a++}if(a<o&&p.charCodeAt(a)!==10&&Q)for(Q="",a=E,u=A;a<o;){const te=p.charCodeAt(a);if(!Qt(te))break;a++}if(a<o&&p.charCodeAt(a)!==10)return!1;const se=Sc(p.slice(1,g));return se?(r||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[se]>"u"&&(e.env.references[se]={title:Q,href:x}),e.line=u),!0):!1}const o6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],s6="[a-zA-Z_:][a-zA-Z0-9:._-]*",a6="[^\"'=<>`\\x00-\\x20]+",u6="'[^']*'",l6='"[^"]*"',c6="(?:"+a6+"|"+u6+"|"+l6+")",h6="(?:\\s+"+s6+"(?:\\s*=\\s*"+c6+")?)",n1="<[A-Za-z][A-Za-z0-9\\-]*"+h6+"*\\s*\\/?>",i1="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",d6="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",f6="<[?][\\s\\S]*?[?]>",p6="<![A-Za-z][^>]*>",m6="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",_6=new RegExp("^(?:"+n1+"|"+i1+"|"+d6+"|"+f6+"|"+p6+"|"+m6+")"),g6=new RegExp("^(?:"+n1+"|"+i1+")"),ks=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+o6.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(g6.source+"\\s*$"),/^$/,!1]];function y6(e,t,n,r){let a=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(a)!==60)return!1;let u=e.src.slice(a,o),d=0;for(;d<ks.length&&!ks[d][0].test(u);d++);if(d===ks.length)return!1;if(r)return ks[d][2];let p=t+1;if(!ks[d][1].test(u)){for(;p<n&&!(e.sCount[p]<e.blkIndent);p++)if(a=e.bMarks[p]+e.tShift[p],o=e.eMarks[p],u=e.src.slice(a,o),ks[d][1].test(u)){u.length!==0&&p++;break}}e.line=p;const g=e.push("html_block","",0);return g.map=[t,p],g.content=e.getLines(t,p,e.blkIndent,!0),!0}function b6(e,t,n,r){let a=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let u=e.src.charCodeAt(a);if(u!==35||a>=o)return!1;let d=1;for(u=e.src.charCodeAt(++a);u===35&&a<o&&d<=6;)d++,u=e.src.charCodeAt(++a);if(d>6||a<o&&!Qt(u))return!1;if(r)return!0;o=e.skipSpacesBack(o,a);const p=e.skipCharsBack(o,35,a);p>a&&Qt(e.src.charCodeAt(p-1))&&(o=p),e.line=t+1;const g=e.push("heading_open","h"+String(d),1);g.markup="########".slice(0,d),g.map=[t,e.line];const y=e.push("inline","",0);y.content=e.src.slice(a,o).trim(),y.map=[t,e.line],y.children=[];const x=e.push("heading_close","h"+String(d),-1);return x.markup="########".slice(0,d),!0}function v6(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const a=e.parentType;e.parentType="paragraph";let o=0,u,d=t+1;for(;d<n&&!e.isEmpty(d);d++){if(e.sCount[d]-e.blkIndent>3)continue;if(e.sCount[d]>=e.blkIndent){let A=e.bMarks[d]+e.tShift[d];const B=e.eMarks[d];if(A<B&&(u=e.src.charCodeAt(A),(u===45||u===61)&&(A=e.skipChars(A,u),A=e.skipSpaces(A),A>=B))){o=u===61?1:2;break}}if(e.sCount[d]<0)continue;let E=!1;for(let A=0,B=r.length;A<B;A++)if(r[A](e,d,n,!0)){E=!0;break}if(E)break}if(!o)return!1;const p=e.getLines(t,d,e.blkIndent,!1).trim();e.line=d+1;const g=e.push("heading_open","h"+String(o),1);g.markup=String.fromCharCode(u),g.map=[t,e.line];const y=e.push("inline","",0);y.content=p,y.map=[t,e.line-1],y.children=[];const x=e.push("heading_close","h"+String(o),-1);return x.markup=String.fromCharCode(u),e.parentType=a,!0}function x6(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),a=e.parentType;let o=t+1;for(e.parentType="paragraph";o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3||e.sCount[o]<0)continue;let g=!1;for(let y=0,x=r.length;y<x;y++)if(r[y](e,o,n,!0)){g=!0;break}if(g)break}const u=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o;const d=e.push("paragraph_open","p",1);d.map=[t,e.line];const p=e.push("inline","",0);return p.content=u,p.map=[t,e.line],p.children=[],e.push("paragraph_close","p",-1),e.parentType=a,!0}const El=[["table",YE,["paragraph","reference"]],["code",XE],["fence",QE,["paragraph","reference","blockquote","list"]],["blockquote",e6,["paragraph","reference","blockquote","list"]],["hr",t6,["paragraph","reference","blockquote","list"]],["list",i6,["paragraph","reference","blockquote"]],["reference",r6],["html_block",y6,["paragraph","reference","blockquote"]],["heading",b6,["paragraph","reference","blockquote"]],["lheading",v6],["paragraph",x6]];function Bc(){this.ruler=new ci;for(let e=0;e<El.length;e++)this.ruler.push(El[e][0],El[e][1],{alt:(El[e][2]||[]).slice()})}Bc.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),a=r.length,o=e.md.options.maxNesting;let u=t,d=!1;for(;u<n&&(e.line=u=e.skipEmptyLines(u),!(u>=n||e.sCount[u]<e.blkIndent));){if(e.level>=o){e.line=n;break}const p=e.line;let g=!1;for(let y=0;y<a;y++)if(g=r[y](e,u,n,!1),g){if(p>=e.line)throw new Error("block rule didn't increment state.line");break}if(!g)throw new Error("none of the block rules matched");e.tight=!d,e.isEmpty(e.line-1)&&(d=!0),u=e.line,u<n&&e.isEmpty(u)&&(d=!0,u++,e.line=u)}};Bc.prototype.parse=function(e,t,n,r){if(!e)return;const a=new this.State(e,t,n,r);this.tokenize(a,a.line,a.lineMax)};Bc.prototype.State=ar;function Mu(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Mu.prototype.pushPending=function(){const e=new $i("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};Mu.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new $i(e,t,n);let a=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],a={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(a),r};Mu.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),a=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<n&&this.src.charCodeAt(o)===r;)o++;const u=o-e,d=o<n?this.src.charCodeAt(o):32,p=lu(a)||uu(String.fromCharCode(a)),g=lu(d)||uu(String.fromCharCode(d)),y=au(a),x=au(d),E=!x&&(!g||y||p),A=!y&&(!p||x||g);return{can_open:E&&(t||!A||p),can_close:A&&(t||!E||g),length:u}};Mu.prototype.Token=$i;function k6(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function C6(e,t){let n=e.pos;for(;n<e.posMax&&!k6(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const w6=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function L6(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,r=e.posMax;if(n+3>r||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const a=e.pending.match(w6);if(!a)return!1;const o=a[1],u=e.md.linkify.matchAtStart(e.src.slice(n-o.length));if(!u)return!1;let d=u.url;if(d.length<=o.length)return!1;d=d.replace(/\*+$/,"");const p=e.md.normalizeLink(d);if(!e.md.validateLink(p))return!1;if(!t){e.pending=e.pending.slice(0,-o.length);const g=e.push("link_open","a",1);g.attrs=[["href",p]],g.markup="linkify",g.info="auto";const y=e.push("text","",0);y.content=e.md.normalizeLinkText(d);const x=e.push("link_close","a",-1);x.markup="linkify",x.info="auto"}return e.pos+=d.length-o.length,!0}function E6(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const r=e.pending.length-1,a=e.posMax;if(!t)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){let o=r-1;for(;o>=1&&e.pending.charCodeAt(o-1)===32;)o--;e.pending=e.pending.slice(0,o),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<a&&Qt(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const Bf=[];for(let e=0;e<256;e++)Bf.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Bf[e.charCodeAt(0)]=1});function M6(e,t){let n=e.pos;const r=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let a=e.src.charCodeAt(n);if(a===10){for(t||e.push("hardbreak","br",0),n++;n<r&&(a=e.src.charCodeAt(n),!!Qt(a));)n++;return e.pos=n,!0}let o=e.src[n];if(a>=55296&&a<=56319&&n+1<r){const d=e.src.charCodeAt(n+1);d>=56320&&d<=57343&&(o+=e.src[n+1],n++)}const u="\\"+o;if(!t){const d=e.push("text_special","",0);a<256&&Bf[a]!==0?d.content=o:d.content=u,d.markup=u,d.info="escape"}return e.pos=n+1,!0}function A6(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const a=n;n++;const o=e.posMax;for(;n<o&&e.src.charCodeAt(n)===96;)n++;const u=e.src.slice(a,n),d=u.length;if(e.backticksScanned&&(e.backticks[d]||0)<=a)return t||(e.pending+=u),e.pos+=d,!0;let p=n,g;for(;(g=e.src.indexOf("`",p))!==-1;){for(p=g+1;p<o&&e.src.charCodeAt(p)===96;)p++;const y=p-g;if(y===d){if(!t){const x=e.push("code_inline","code",0);x.markup=u,x.content=e.src.slice(n,g).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=p,!0}e.backticks[y]=g}return e.backticksScanned=!0,t||(e.pending+=u),e.pos+=d,!0}function S6(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==126)return!1;const a=e.scanDelims(e.pos,!0);let o=a.length;const u=String.fromCharCode(r);if(o<2)return!1;let d;o%2&&(d=e.push("text","",0),d.content=u,o--);for(let p=0;p<o;p+=2)d=e.push("text","",0),d.content=u+u,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:a.can_open,close:a.can_close});return e.pos+=a.length,!0}function G0(e,t){let n;const r=[],a=t.length;for(let o=0;o<a;o++){const u=t[o];if(u.marker!==126||u.end===-1)continue;const d=t[u.end];n=e.tokens[u.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[d.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[d.token-1].type==="text"&&e.tokens[d.token-1].content==="~"&&r.push(d.token-1)}for(;r.length;){const o=r.pop();let u=o+1;for(;u<e.tokens.length&&e.tokens[u].type==="s_close";)u++;u--,o!==u&&(n=e.tokens[u],e.tokens[u]=e.tokens[o],e.tokens[o]=n)}}function B6(e){const t=e.tokens_meta,n=e.tokens_meta.length;G0(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&G0(e,t[r].delimiters)}const r1={tokenize:S6,postProcess:B6};function P6(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==95&&r!==42)return!1;const a=e.scanDelims(e.pos,r===42);for(let o=0;o<a.length;o++){const u=e.push("text","",0);u.content=String.fromCharCode(r),e.delimiters.push({marker:r,length:a.length,token:e.tokens.length-1,end:-1,open:a.can_open,close:a.can_close})}return e.pos+=a.length,!0}function V0(e,t){const n=t.length;for(let r=n-1;r>=0;r--){const a=t[r];if(a.marker!==95&&a.marker!==42||a.end===-1)continue;const o=t[a.end],u=r>0&&t[r-1].end===a.end+1&&t[r-1].marker===a.marker&&t[r-1].token===a.token-1&&t[a.end+1].token===o.token+1,d=String.fromCharCode(a.marker),p=e.tokens[a.token];p.type=u?"strong_open":"em_open",p.tag=u?"strong":"em",p.nesting=1,p.markup=u?d+d:d,p.content="";const g=e.tokens[o.token];g.type=u?"strong_close":"em_close",g.tag=u?"strong":"em",g.nesting=-1,g.markup=u?d+d:d,g.content="",u&&(e.tokens[t[r-1].token].content="",e.tokens[t[a.end+1].token].content="",r--)}}function D6(e){const t=e.tokens_meta,n=e.tokens_meta.length;V0(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&V0(e,t[r].delimiters)}const o1={tokenize:P6,postProcess:D6};function T6(e,t){let n,r,a,o,u="",d="",p=e.pos,g=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const y=e.pos,x=e.posMax,E=e.pos+1,A=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(A<0)return!1;let B=A+1;if(B<x&&e.src.charCodeAt(B)===40){for(g=!1,B++;B<x&&(n=e.src.charCodeAt(B),!(!Qt(n)&&n!==10));B++);if(B>=x)return!1;if(p=B,a=e.md.helpers.parseLinkDestination(e.src,B,e.posMax),a.ok){for(u=e.md.normalizeLink(a.str),e.md.validateLink(u)?B=a.pos:u="",p=B;B<x&&(n=e.src.charCodeAt(B),!(!Qt(n)&&n!==10));B++);if(a=e.md.helpers.parseLinkTitle(e.src,B,e.posMax),B<x&&p!==B&&a.ok)for(d=a.str,B=a.pos;B<x&&(n=e.src.charCodeAt(B),!(!Qt(n)&&n!==10));B++);}(B>=x||e.src.charCodeAt(B)!==41)&&(g=!0),B++}if(g){if(typeof e.env.references>"u")return!1;if(B<x&&e.src.charCodeAt(B)===91?(p=B+1,B=e.md.helpers.parseLinkLabel(e,B),B>=0?r=e.src.slice(p,B++):B=A+1):B=A+1,r||(r=e.src.slice(E,A)),o=e.env.references[Sc(r)],!o)return e.pos=y,!1;u=o.href,d=o.title}if(!t){e.pos=E,e.posMax=A;const j=e.push("link_open","a",1),Q=[["href",u]];j.attrs=Q,d&&Q.push(["title",d]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=B,e.posMax=x,!0}function R6(e,t){let n,r,a,o,u,d,p,g,y="";const x=e.pos,E=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const A=e.pos+2,B=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(B<0)return!1;if(o=B+1,o<E&&e.src.charCodeAt(o)===40){for(o++;o<E&&(n=e.src.charCodeAt(o),!(!Qt(n)&&n!==10));o++);if(o>=E)return!1;for(g=o,d=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),d.ok&&(y=e.md.normalizeLink(d.str),e.md.validateLink(y)?o=d.pos:y=""),g=o;o<E&&(n=e.src.charCodeAt(o),!(!Qt(n)&&n!==10));o++);if(d=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<E&&g!==o&&d.ok)for(p=d.str,o=d.pos;o<E&&(n=e.src.charCodeAt(o),!(!Qt(n)&&n!==10));o++);else p="";if(o>=E||e.src.charCodeAt(o)!==41)return e.pos=x,!1;o++}else{if(typeof e.env.references>"u")return!1;if(o<E&&e.src.charCodeAt(o)===91?(g=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?a=e.src.slice(g,o++):o=B+1):o=B+1,a||(a=e.src.slice(A,B)),u=e.env.references[Sc(a)],!u)return e.pos=x,!1;y=u.href,p=u.title}if(!t){r=e.src.slice(A,B);const j=[];e.md.inline.parse(r,e.md,e.env,j);const Q=e.push("image","img",0),se=[["src",y],["alt",""]];Q.attrs=se,Q.children=j,Q.content=r,p&&se.push(["title",p])}return e.pos=o,e.posMax=E,!0}const O6=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,F6=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function I6(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const r=e.pos,a=e.posMax;for(;;){if(++n>=a)return!1;const u=e.src.charCodeAt(n);if(u===60)return!1;if(u===62)break}const o=e.src.slice(r+1,n);if(F6.test(o)){const u=e.md.normalizeLink(o);if(!e.md.validateLink(u))return!1;if(!t){const d=e.push("link_open","a",1);d.attrs=[["href",u]],d.markup="autolink",d.info="auto";const p=e.push("text","",0);p.content=e.md.normalizeLinkText(o);const g=e.push("link_close","a",-1);g.markup="autolink",g.info="auto"}return e.pos+=o.length+2,!0}if(O6.test(o)){const u=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(u))return!1;if(!t){const d=e.push("link_open","a",1);d.attrs=[["href",u]],d.markup="autolink",d.info="auto";const p=e.push("text","",0);p.content=e.md.normalizeLinkText(o);const g=e.push("link_close","a",-1);g.markup="autolink",g.info="auto"}return e.pos+=o.length+2,!0}return!1}function N6(e){return/^<a[>\s]/i.test(e)}function z6(e){return/^<\/a\s*>/i.test(e)}function j6(e){const t=e|32;return t>=97&&t<=122}function G6(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(e.src.charCodeAt(r)!==60||r+2>=n)return!1;const a=e.src.charCodeAt(r+1);if(a!==33&&a!==63&&a!==47&&!j6(a))return!1;const o=e.src.slice(r).match(_6);if(!o)return!1;if(!t){const u=e.push("html_inline","",0);u.content=o[0],N6(u.content)&&e.linkLevel++,z6(u.content)&&e.linkLevel--}return e.pos+=o[0].length,!0}const V6=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,H6=/^&([a-z][a-z0-9]{1,31});/i;function U6(e,t){const n=e.pos,r=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=r)return!1;if(e.src.charCodeAt(n+1)===35){const o=e.src.slice(n).match(V6);if(o){if(!t){const u=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),d=e.push("text_special","",0);d.content=Af(u)?Xl(u):Xl(65533),d.markup=o[0],d.info="entity"}return e.pos+=o[0].length,!0}}else{const o=e.src.slice(n).match(H6);if(o){const u=Yg(o[0]);if(u!==o[0]){if(!t){const d=e.push("text_special","",0);d.content=u,d.markup=o[0],d.info="entity"}return e.pos+=o[0].length,!0}}}return!1}function H0(e){const t={},n=e.length;if(!n)return;let r=0,a=-2;const o=[];for(let u=0;u<n;u++){const d=e[u];if(o.push(0),(e[r].marker!==d.marker||a!==d.token-1)&&(r=u),a=d.token,d.length=d.length||0,!d.close)continue;t.hasOwnProperty(d.marker)||(t[d.marker]=[-1,-1,-1,-1,-1,-1]);const p=t[d.marker][(d.open?3:0)+d.length%3];let g=r-o[r]-1,y=g;for(;g>p;g-=o[g]+1){const x=e[g];if(x.marker===d.marker&&x.open&&x.end<0){let E=!1;if((x.close||d.open)&&(x.length+d.length)%3===0&&(x.length%3!==0||d.length%3!==0)&&(E=!0),!E){const A=g>0&&!e[g-1].open?o[g-1]+1:0;o[u]=u-g+A,o[g]=A,d.open=!1,x.end=u,x.close=!1,y=-1,a=-2;break}}}y!==-1&&(t[d.marker][(d.open?3:0)+(d.length||0)%3]=y)}}function $6(e){const t=e.tokens_meta,n=e.tokens_meta.length;H0(e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&H0(t[r].delimiters)}function q6(e){let t,n,r=0;const a=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)a[t].nesting<0&&r--,a[t].level=r,a[t].nesting>0&&r++,a[t].type==="text"&&t+1<o&&a[t+1].type==="text"?a[t+1].content=a[t].content+a[t+1].content:(t!==n&&(a[n]=a[t]),n++);t!==n&&(a.length=n)}const Jh=[["text",C6],["linkify",L6],["newline",E6],["escape",M6],["backticks",A6],["strikethrough",r1.tokenize],["emphasis",o1.tokenize],["link",T6],["image",R6],["autolink",I6],["html_inline",G6],["entity",U6]],Yh=[["balance_pairs",$6],["strikethrough",r1.postProcess],["emphasis",o1.postProcess],["fragments_join",q6]];function Au(){this.ruler=new ci;for(let e=0;e<Jh.length;e++)this.ruler.push(Jh[e][0],Jh[e][1]);this.ruler2=new ci;for(let e=0;e<Yh.length;e++)this.ruler2.push(Yh[e][0],Yh[e][1])}Au.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,a=e.md.options.maxNesting,o=e.cache;if(typeof o[t]<"u"){e.pos=o[t];return}let u=!1;if(e.level<a){for(let d=0;d<r;d++)if(e.level++,u=n[d](e,!0),e.level--,u){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;u||e.pos++,o[t]=e.pos};Au.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,a=e.md.options.maxNesting;for(;e.pos<r;){const o=e.pos;let u=!1;if(e.level<a){for(let d=0;d<n;d++)if(u=t[d](e,!1),u){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(u){if(e.pos>=r)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Au.prototype.parse=function(e,t,n,r){const a=new this.State(e,t,n,r);this.tokenize(a);const o=this.ruler2.getRules(""),u=o.length;for(let d=0;d<u;d++)o[d](a)};Au.prototype.State=Mu;function Z6(e){const t={};e=e||{},t.src_Any=qg.source,t.src_Cc=Zg.source,t.src_Z=Wg.source,t.src_P=Ef.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function Td(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function Pc(e){return Object.prototype.toString.call(e)}function K6(e){return Pc(e)==="[object String]"}function W6(e){return Pc(e)==="[object Object]"}function J6(e){return Pc(e)==="[object RegExp]"}function U0(e){return Pc(e)==="[object Function]"}function Y6(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const s1={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function X6(e){return Object.keys(e||{}).reduce(function(t,n){return t||s1.hasOwnProperty(n)},!1)}const Q6={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},eM="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tM="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function nM(e){e.__index__=-1,e.__text_cache__=""}function iM(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function $0(){return function(e,t){t.normalize(e)}}function Ql(e){const t=e.re=Z6(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(eM),n.push(t.src_xn),t.src_tlds=n.join("|");function r(d){return d.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const a=[];e.__compiled__={};function o(d,p){throw new Error('(LinkifyIt) Invalid schema "'+d+'": '+p)}Object.keys(e.__schemas__).forEach(function(d){const p=e.__schemas__[d];if(p===null)return;const g={validate:null,link:null};if(e.__compiled__[d]=g,W6(p)){J6(p.validate)?g.validate=iM(p.validate):U0(p.validate)?g.validate=p.validate:o(d,p),U0(p.normalize)?g.normalize=p.normalize:p.normalize?o(d,p):g.normalize=$0();return}if(K6(p)){a.push(d);return}o(d,p)}),a.forEach(function(d){e.__compiled__[e.__schemas__[d]]&&(e.__compiled__[d].validate=e.__compiled__[e.__schemas__[d]].validate,e.__compiled__[d].normalize=e.__compiled__[e.__schemas__[d]].normalize)}),e.__compiled__[""]={validate:null,normalize:$0()};const u=Object.keys(e.__compiled__).filter(function(d){return d.length>0&&e.__compiled__[d]}).map(Y6).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),nM(e)}function rM(e,t){const n=e.__index__,r=e.__last_index__,a=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=a,this.text=a,this.url=a}function Rd(e,t){const n=new rM(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function yi(e,t){if(!(this instanceof yi))return new yi(e,t);t||X6(e)&&(t=e,e={}),this.__opts__=Td({},s1,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Td({},Q6,e),this.__compiled__={},this.__tlds__=tM,this.__tlds_replaced__=!1,this.re={},Ql(this)}yi.prototype.add=function(t,n){return this.__schemas__[t]=n,Ql(this),this};yi.prototype.set=function(t){return this.__opts__=Td(this.__opts__,t),this};yi.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,r,a,o,u,d,p,g,y;if(this.re.schema_test.test(t)){for(p=this.re.schema_search,p.lastIndex=0;(n=p.exec(t))!==null;)if(o=this.testSchemaAt(t,n[2],p.lastIndex),o){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(g=t.search(this.re.host_fuzzy_test),g>=0&&(this.__index__<0||g<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(u=r.index+r[1].length,(this.__index__<0||u<this.__index__)&&(this.__schema__="",this.__index__=u,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(y=t.indexOf("@"),y>=0&&(a=t.match(this.re.email_fuzzy))!==null&&(u=a.index+a[1].length,d=a.index+a[0].length,(this.__index__<0||u<this.__index__||u===this.__index__&&d>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=u,this.__last_index__=d))),this.__index__>=0};yi.prototype.pretest=function(t){return this.re.pretest.test(t)};yi.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};yi.prototype.match=function(t){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(Rd(this,r)),r=this.__last_index__);let a=r?t.slice(r):t;for(;this.test(a);)n.push(Rd(this,r)),a=a.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};yi.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Rd(this,0)):null};yi.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,a,o){return r!==o[a-1]}).reverse(),Ql(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Ql(this),this)};yi.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};yi.prototype.onCompile=function(){};const Ps=2147483647,tr=36,Pf=1,cu=26,oM=38,sM=700,a1=72,u1=128,l1="-",aM=/^xn--/,uM=/[^\0-\x7F]/,lM=/[\x2E\u3002\uFF0E\uFF61]/g,cM={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Xh=tr-Pf,nr=Math.floor,Qh=String.fromCharCode;function Yr(e){throw new RangeError(cM[e])}function hM(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function c1(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(lM,".");const a=e.split("."),o=hM(a,t).join(".");return r+o}function h1(e){const t=[];let n=0;const r=e.length;for(;n<r;){const a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const o=e.charCodeAt(n++);(o&64512)==56320?t.push(((a&1023)<<10)+(o&1023)+65536):(t.push(a),n--)}else t.push(a)}return t}const dM=e=>String.fromCodePoint(...e),fM=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:tr},q0=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},d1=function(e,t,n){let r=0;for(e=n?nr(e/sM):e>>1,e+=nr(e/t);e>Xh*cu>>1;r+=tr)e=nr(e/Xh);return nr(r+(Xh+1)*e/(e+oM))},f1=function(e){const t=[],n=e.length;let r=0,a=u1,o=a1,u=e.lastIndexOf(l1);u<0&&(u=0);for(let d=0;d<u;++d)e.charCodeAt(d)>=128&&Yr("not-basic"),t.push(e.charCodeAt(d));for(let d=u>0?u+1:0;d<n;){const p=r;for(let y=1,x=tr;;x+=tr){d>=n&&Yr("invalid-input");const E=fM(e.charCodeAt(d++));E>=tr&&Yr("invalid-input"),E>nr((Ps-r)/y)&&Yr("overflow"),r+=E*y;const A=x<=o?Pf:x>=o+cu?cu:x-o;if(E<A)break;const B=tr-A;y>nr(Ps/B)&&Yr("overflow"),y*=B}const g=t.length+1;o=d1(r-p,g,p==0),nr(r/g)>Ps-a&&Yr("overflow"),a+=nr(r/g),r%=g,t.splice(r++,0,a)}return String.fromCodePoint(...t)},p1=function(e){const t=[];e=h1(e);const n=e.length;let r=u1,a=0,o=a1;for(const p of e)p<128&&t.push(Qh(p));const u=t.length;let d=u;for(u&&t.push(l1);d<n;){let p=Ps;for(const y of e)y>=r&&y<p&&(p=y);const g=d+1;p-r>nr((Ps-a)/g)&&Yr("overflow"),a+=(p-r)*g,r=p;for(const y of e)if(y<r&&++a>Ps&&Yr("overflow"),y===r){let x=a;for(let E=tr;;E+=tr){const A=E<=o?Pf:E>=o+cu?cu:E-o;if(x<A)break;const B=x-A,j=tr-A;t.push(Qh(q0(A+B%j,0))),x=nr(B/j)}t.push(Qh(q0(x,0))),o=d1(a,g,d===u),a=0,++d}++a,++r}return t.join("")},pM=function(e){return c1(e,function(t){return aM.test(t)?f1(t.slice(4).toLowerCase()):t})},mM=function(e){return c1(e,function(t){return uM.test(t)?"xn--"+p1(t):t})},m1={version:"2.3.1",ucs2:{decode:h1,encode:dM},decode:f1,encode:p1,toASCII:mM,toUnicode:pM},_M={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},gM={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},yM={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},bM={default:_M,zero:gM,commonmark:yM},vM=/^(vbscript|javascript|file|data):/,xM=/^data:image\/(gif|png|jpeg|webp);/;function kM(e){const t=e.trim().toLowerCase();return vM.test(t)?xM.test(t):!0}const _1=["http:","https:","mailto:"];function CM(e){const t=Lf(e,!0);if(t.hostname&&(!t.protocol||_1.indexOf(t.protocol)>=0))try{t.hostname=m1.toASCII(t.hostname)}catch{}return Eu(wf(t))}function wM(e){const t=Lf(e,!0);if(t.hostname&&(!t.protocol||_1.indexOf(t.protocol)>=0))try{t.hostname=m1.toUnicode(t.hostname)}catch{}return Os(wf(t),Os.defaultChars+"%")}function Ti(e,t){if(!(this instanceof Ti))return new Ti(e,t);t||Mf(e)||(t=e||{},e="default"),this.inline=new Au,this.block=new Bc,this.core=new Sf,this.renderer=new Hs,this.linkify=new yi,this.validateLink=kM,this.normalizeLink=CM,this.normalizeLinkText=wM,this.utils=EE,this.helpers=Ac({},BE),this.options={},this.configure(e),t&&this.set(t)}Ti.prototype.set=function(e){return Ac(this.options,e),this};Ti.prototype.configure=function(e){const t=this;if(Mf(e)){const n=e;if(e=bM[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};Ti.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(a){n=n.concat(this[a].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter(function(a){return n.indexOf(a)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Ti.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(a){n=n.concat(this[a].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter(function(a){return n.indexOf(a)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Ti.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Ti.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};Ti.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Ti.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};Ti.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const LM=["innerHTML"],EM={key:0,class:"flex-col gap-2 mt-4"},MM=["innerHTML"],AM="SpeciesGroup",SM="SpeciesAndInfraspecies",BM={__name:"PanelEtymology",props:{taxon:{type:Object,required:!0}},setup(e){const t=["masculine_name","feminine_name","neuter_name"],n={"TaxonNameClassification::Latinized::Gender::Masculine":"Masculine","TaxonNameClassification::Latinized::Gender::Feminine":"Feminine","TaxonNameClassification::Latinized::Gender::Neuter":"Neuter","TaxonNameClassification::Latinized::PartOfSpeech::Adjective":"Adjective","TaxonNameClassification::Latinized::PartOfSpeech::Participle":"Participle","TaxonNameClassification::Latinized::PartOfSpeech::NounInApposition":"Noun in apposition","TaxonNameClassification::Latinized::PartOfSpeech::NounInGenitiveCase":"Noun in genitive case"},r=e,a=new Ti({html:!0}),o=We(()=>t.map(x=>r.taxon[x]).filter(Boolean).join(", ")),u=Ze([]),d=We(()=>u.value.some(x=>x.type.includes("::PartOfSpeech::Adjective")||x.type.includes("::PartOfSpeech::Participle"))),p=We(()=>u.value.map(x=>n[x.type]).filter(Boolean).join(", ")),g=We(()=>{const x=r.taxon.rank_string;return x.includes(AM)||x.includes(SM)});function y(){const x={taxon_name_id:[r.taxon.id]};fn.get("/taxon_name_classifications",{params:x}).then(({data:E})=>{u.value=E.filter(A=>A.type.includes("::Latinized::"))})}return gn(()=>r.taxon.id,y,{immediate:!0}),(x,E)=>{const A=fe("VCardHeader"),B=fe("VCardContent"),j=fe("VCard");return e.taxon.etymology||o.value||u.value.length?(D(),Ce(j,{key:0},{default:ie(()=>[ee(A,null,{default:ie(()=>E[0]||(E[0]=[Xe(" Gender, form, and etymology ")])),_:1}),ee(B,{class:"text-sm"},{default:ie(()=>[$("b",{innerHTML:p.value,class:"block"},null,8,LM),g.value&&d.value&&o.value?(D(),q("span",EM,[$("i",null,Ie(o.value),1)])):Fe("",!0),e.taxon.etymology?(D(),q(Ge,{key:1},[E[1]||(E[1]=$("hr",{class:"my-4"},null,-1)),E[2]||(E[2]=Xe(" Etymology: ")),$("span",{innerHTML:ze(a).render(e.taxon.etymology)},null,8,MM)],64)):Fe("",!0)]),_:1})]),_:1})):Fe("",!0)}}},PM={id:"panel:etymology",component:BM,rankGroup:["GenusGroup","SpeciesGroup","SpeciesAndInfraspeciesGroup"]},DM=["href"],TM=["src"],RM={__name:"PaneliNaturalist",props:{taxon:{type:Object,required:!0},perPage:{type:Number,default:60}},setup(e){const t=e,n=Ze(!1),r=Ze([]),a=Ze({page:1,per_page:t.perPage,total_results:0});function o(u={}){n.value=!0,yn.get("https://api.inaturalist.org/v1/observations",{params:{q:t.taxon.expanded_name,...u}}).then(({data:d})=>{r.value=d.results,a.value={page:d.page,per_page:d.per_page,total_results:d.total_results}}).finally(()=>{n.value=!1})}return bn(()=>{o({per_page:t.perPage})}),(u,d)=>{const p=fe("VCardHeader"),g=fe("VSpinner"),y=fe("VPagination"),x=fe("VCardContent"),E=fe("VCard");return D(),Ce(E,null,{default:ie(()=>[ee(p,null,{default:ie(()=>d[2]||(d[2]=[Xe("Observations")])),_:1}),ee(x,null,{default:ie(()=>[n.value?(D(),Ce(g,{key:0})):Fe("",!0),$("div",{class:an(["flex flex-row flex-wrap gap-2 mb-4",n.value&&"min-h-[3.5rem]"])},[(D(!0),q(Ge,null,dt(r.value,A=>(D(),q("div",{key:A.id,class:"flex flex-row flex-wrap gap-2"},[A!=null&&A.observation_photos[0]?(D(),q("a",{key:0,href:`https://www.inaturalist.org/observations/${A.id}`},[(D(),q("img",{key:A.observation_photos[0].photo.id,src:A.observation_photos[0].photo.url},null,8,TM))],8,DM)):Fe("",!0)]))),128))],2),ee(y,{modelValue:a.value.page,"onUpdate:modelValue":[d[0]||(d[0]=A=>a.value.page=A),d[1]||(d[1]=A=>{o({page:A,per_page:e.perPage})})],total:a.value.total_results,per:a.value.per_page},null,8,["modelValue","total","per"])]),_:1})]),_:1})}}},OM={id:"panel:inaturalist",component:RM,rankGroup:["GenusGroup","SpeciesGroup"]},FM=["innerHTML"],IM={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(e){return(t,n)=>{const r=fe("VCardHeader"),a=fe("VCardContent");return D(),q(Ge,null,[ee(r,{class:"border-t border-base-muted first:border-t-0"},{default:ie(()=>[Xe(Ie(e.title),1)]),_:1}),ee(a,{class:"panel-content-list"},{default:ie(()=>[(D(!0),q(Ge,null,dt(e.textList,(o,u)=>(D(),q("div",{key:u,class:"pt-1 text-sm",innerHTML:o},null,8,FM))),128))]),_:1})],64)}}},NM={__name:"PanelContent",props:{otuId:{type:Number,required:!0}},setup(e){const t=e,n=Ze([]),r=new AbortController,a=We(()=>n.value.reduce((o,u)=>(o[u.name]?o[u.name].push(u.text):o[u.name]=[u.text],o),{}));return Vm(()=>{Er("panel:content",()=>Qn.getOtuContent(t.otuId,{params:{extend:["depiction"]},signal:r.signal})).then(({data:o})=>{n.value=o}).catch(o=>{})}),or(()=>{r.abort()}),(o,u)=>{const d=fe("VCard");return n.value.length?(D(),Ce(d,{key:0},{default:ie(()=>[(D(!0),q(Ge,null,dt(a.value,(p,g)=>(D(),Ce(IM,{key:g,title:g,"text-list":p},null,8,["title","text-list"]))),128))]),_:1})):Fe("",!0)}}},zM={id:"panel:content",component:NM},jM={class:"synonyms"},GM=["innerHTML"],VM={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(e){const t=e;return(n,r)=>(D(),q("ul",jM,[(D(!0),q(Ge,null,dt(t.list,a=>(D(),q("li",{key:a},[r[0]||(r[0]=$("span",{class:"text-orange-500 mr-1"},"=",-1)),$("span",{innerHTML:a},null,8,GM)]))),128))]))}},HM={key:0,class:"tree"},UM={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(e){const t=e,n=Ze(!!t.taxonomy.descendants.length),r=Ze([...t.taxonomy.descendants]);gn(n,o=>{o&&a()});const a=()=>{r.value.length||Qn.getTaxonomy(t.taxonomy.otu_id,{params:{max_descendants_depth:1}}).then(({data:o})=>{r.value=o.descendants})};return(o,u)=>{const d=fe("button-expand"),p=fe("router-link"),g=fe("AnimationOpacity");return Object.keys(e.taxonomy).length?(D(),q("li",{key:e.taxonomy.otu_id},[e.taxonomy.leaf_node?Fe("",!0):(D(),Ce(d,{key:0,modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=y=>n.value=y),class:"absolute -left-2.5"},null,8,["modelValue"])),ee(p,{class:"text-primary-500",to:{name:"otus-id",params:{id:e.taxonomy.otu_id}},innerHTML:e.taxonomy.name},null,8,["to","innerHTML"]),e.taxonomy.nomenclatural_synonyms.length?(D(),Ce(VM,{key:1,class:"pb-4",list:e.taxonomy.nomenclatural_synonyms},null,8,["list"])):Fe("",!0),ee(g,null,{default:ie(()=>[r.value.length?(D(),q("ul",HM,[(D(!0),q(Ge,null,dt(r.value,y=>(D(),Ce(g,{key:y.otu_id},{default:ie(()=>[n.value?(D(),Ce(g1,{key:0,taxonomy:y},null,8,["taxonomy"])):Fe("",!0)]),_:2},1024))),128))])):Fe("",!0)]),_:1})])):Fe("",!0)}}},g1=kt(UM,[["__scopeId","data-v-b79ba271"]]),$M={key:0,class:"p-5 font-normal"},qM={class:"pb-2 text-sm"},ZM=["href"],KM={class:"relative"},WM=["innerHTML"],Us={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(e){const t=e,n=We(()=>r.getRequest(t.panelKey)),r=kc(),a=Ze(!1),o=We(()=>[...t.menuOptions,{label:"JSON Data",action:()=>a.value=!0}]);return(u,d)=>{const p=fe("IconHamburger"),g=fe("Dropdown"),y=fe("VClipboard"),x=fe("VModal");return D(),q(Ge,null,[ee(g,{items:o.value},{button:ie(()=>[ee(p,{class:"text-base-soft h-4"})]),_:1},8,["items"]),a.value?(D(),Ce(x,{key:0,onClose:d[0]||(d[0]=E=>a.value=!1)},{header:ie(()=>d[1]||(d[1]=[$("h3",null,"JSON Data",-1)])),default:ie(()=>[n.value?(D(),q("div",$M,[$("h3",qM,[d[2]||(d[2]=Xe(" URL: ")),$("a",{href:n.value.url},Ie(n.value.url),9,ZM)]),$("div",KM,[$("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(n.value.data,null,4)},null,8,WM),ee(y,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(n.value.data,null,2)},null,8,["text"])])])):Fe("",!0)]),_:1})):Fe("",!0)],64)}}},JM={class:"tree ml-2"},YM={key:0},XM={__name:"PanelDescendants",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,n=Ze(null),r=Ze(!1),a=We(()=>n.value&&(n.value.nomenclatural_synonyms.length||n.value.descendants.length));return gn(()=>t.otuId,async()=>{t.otuId&&(r.value=!0,Er("panel:descendants",()=>Qn.getTaxonomy(t.otuId,{params:{max_descendants_depth:1}})).then(({data:o})=>{n.value=o}).finally(()=>r.value=!1))},{immediate:!0}),(o,u)=>{const d=fe("VSpinner"),p=fe("ClientOnly"),g=fe("VCardHeader"),y=fe("AnimationOpacity"),x=fe("VCardContent"),E=fe("VCard");return D(),Ce(E,null,{default:ie(()=>[ee(p,null,{default:ie(()=>[r.value?(D(),Ce(d,{key:0,"logo-class":"w-8 h-8",legend:""})):Fe("",!0)]),_:1}),ee(g,{class:"flex justify-between"},{default:ie(()=>[u[0]||(u[0]=$("h2",{class:"text-md"},"Descendants and synonyms",-1)),ee(Us,{"panel-key":"panel:descendants"})]),_:1}),ee(x,{class:"text-sm"},{default:ie(()=>[$("ul",JM,[ee(y,null,{default:ie(()=>[a.value?(D(),Ce(g1,{key:0,taxonomy:n.value},null,8,["taxonomy"])):Fe("",!0)]),_:1})]),!a.value&&!r.value?(D(),q("span",YM,"No records found.")):Fe("",!0)]),_:1})]),_:1})}}},QM=kt(XM,[["__scopeId","data-v-fd5dad5c"]]),eA={id:"panel:descendants",component:QM};var tA={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const nA=ao("imageStore",{state:()=>({images:null,controller:null}),actions:{resetRequest(){var e;(e=this.controller)==null||e.abort()},async loadImages(e){const t=["image/tiff"],n={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.controller=new AbortController;try{const r=await Er("panel:images",()=>Qn.getOtuImages(e,{params:n,signal:this.controller.signal}));this.images=r.data.map(a=>{var p;const o={...a},{url:u,project_token:d}=tA;return t.includes(o.content_type)&&a.original_png&&(o.original=`${u}/${(p=a.original_png)==null?void 0:p.substring(8)}?project_token=${d}`),o}),this.controller=null}catch(r){r.name!==ou.CanceledError&&(this.controller=null)}}}}),iA={__name:"PanelGallery",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,n=nA(),r=We(()=>n.images||[]);return ef(async()=>{await n.loadImages(t.otuId)}),bn(()=>{n.images||n.loadImages(t.otuId)}),or(()=>{n.resetRequest(),n.$reset()}),(a,o)=>{const u=fe("GalleryImage"),d=fe("VCardContent"),p=fe("VCard");return r.value.length?(D(),Ce(p,{key:0},{default:ie(()=>[ee(d,null,{default:ie(()=>[ee(u,{images:r.value},null,8,["images"])]),_:1})]),_:1})):Fe("",!0)}}},rA={id:"panel:gallery",component:iA,rankGroup:[]},oA={key:0},sA={__name:"PanelKeys",props:{otuId:{type:Object}},setup(e){const t=e,n=new AbortController,r=Ze({to:{},in:{}}),a=We(()=>[].concat(...Object.values(r.value)).filter(o=>Object.keys(o).length).length);return bn(()=>{const o={otu_id:t.otuId};Er("panel keys",()=>Qn.getKeys(t.otuId,{signal:n.signal,params:o})).then(({data:u})=>{r.value={to:u.observation_matrices.scoped,in:u.observation_matrices.in}}).catch(()=>{})}),or(()=>{n==null||n.abort()}),(o,u)=>{const d=fe("VCardHeader"),p=fe("VTableHeaderCell"),g=fe("VTableHeaderRow"),y=fe("VTableHeader"),x=fe("RouterLink"),E=fe("VTableBodyCell"),A=fe("VTableBodyRow"),B=fe("VTableBody"),j=fe("VTable"),Q=fe("VCardContent"),se=fe("VCard");return a.value?(D(),Ce(se,{key:0},{default:ie(()=>[ee(d,null,{default:ie(()=>[Xe("Keys ("+Ie(a.value)+")",1)]),_:1}),ee(Q,null,{default:ie(()=>[(D(!0),q(Ge,null,dt(r.value,(te,z)=>(D(),q(Ge,{key:z},[Object.keys(te).length?(D(),q("div",oA,[ee(j,null,{default:ie(()=>[ee(y,null,{default:ie(()=>[ee(g,null,{default:ie(()=>[ee(p,null,{default:ie(()=>[Xe(Ie(z),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),ee(B,null,{default:ie(()=>[(D(!0),q(Ge,null,dt(te,(Z,re)=>(D(),Ce(A,null,{default:ie(()=>[ee(E,null,{default:ie(()=>[ee(x,{to:{name:"interactive-keys-id",params:{id:re}},textContent:Ie(Z)},null,8,["to","textContent"])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)])):Fe("",!0)],64))),128))]),_:1})]),_:1})):Fe("",!0)}}},aA={id:"panel:keys",component:sA},uA=ao("distributionStore",{state:()=>({distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},controller:null}),actions:{resetRequest(){var e;(e=this.controller)==null||e.abort()},loadCachedMap(e){Qn.getCachedMap(e,{signal:this.controller.signal}).then(t=>{this.distribution.cachedMap=t.data})},async getAggregateShape(e){Er("panel:map",()=>Qn.getOtuDistribution(e,{signal:this.controller.signal})).then(({data:t})=>{const n=JSON.parse(t.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[sL(n,"Aggregate")]},this.loadCachedMap(t.cached_map.id)}).catch(t=>{t.name!=ou.CanceledError&&(this.distribution.errorMessage=t.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[])})},async loadDistribution({otuId:e,rankString:t}){const n=t&&oL("SpeciesGroup",t);this.controller=new AbortController,n?Er("panel:map",()=>Qn.getOtuGeoJSONDistribution(e,{signal:this.controller.signal})).then(({data:r})=>{if(r.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=r.message;else{const{features:a,shapeTypes:o}=aL(r);this.distribution.currentShapeTypes=o,this.distribution.geojson={features:a}}}).catch(r=>{r.name!==ou.CanceledError&&this.getAggregateShape(e)}):this.getAggregateShape(e)}}});function y1(e){return{html:`<div class="bg-map-collection-object"><span>${e.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive bg-map-collection-object bg-opacity-60 marker-cluster text-white",iconSize:[40,40]}}function b1(e){return{html:`
    <div class="relative flex w-[40px] h-[40px]">
      <div class="rounded-l-full bg-map-collection-object bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-l-full bg-map-collection-object ml-[5px] mt-[5px]"></div>
      </div>
      <div class="rounded-r-full bg-map-type-material bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-r-full bg-map-type-material mr-[5px] mt-[5px]"></div>
      </div>
      <span class="absolute text-xs top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white">
        ${e.getChildCount()}
      </span>
    </div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive",iconSize:[40,40]}}function lA(e){return{html:`<div class="bg-map-type-material"><span>${e.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive marker-cluster bg-map-type-material bg-opacity-60 text-white",iconSize:[40,40]}}const cA=Object.freeze(Object.defineProperty({__proto__:null,CollectionObject:y1,Mixed:b1,TypeMaterial:lA},Symbol.toStringTag,{value:"Module"}));function hA({L:e,cluster:t}){const n=t.getAllChildMarkers().map(u=>u.feature.properties.base.map(d=>d.type)).flat(),r=[...new Set(n)],a=r.pop(),o=r.length?b1:cA[a]||y1;return e.divIcon(o(t))}const Od={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function dA({popupElement:e,popupItem:t}){return function(){return{onEachFeature:(n,r)=>{r.pm.setOptions(Od),r.pm.disable(),r.on("popupopen",()=>t.value=n.properties),r.on("popupclose",()=>t.value=null),r.bindPopup(e.value,{minWidth:400,maxWidth:400})}}}}function v1({popupElement:e}){const t=Ze(null);return{geojsonOptions:We(()=>dA({popupElement:e,popupItem:t})),popupItem:t}}const fA={class:"max-h-32 overflow-y-auto text-xs min-w-80"},pA={class:"py-2 last:border-0 truncate border-b",title:"label"},mA=["textContent","onClick"],_A={key:1},x1={__name:"MapPopup",props:{items:{type:Array,required:!0}},emits:["selected"],setup(e,{emit:t}){const n=t;return(r,a)=>(D(),q("div",fA,[$("ul",null,[(D(!0),q(Ge,null,dt(e.items,o=>(D(),q("li",pA,[o.type===ze(q_)?(D(),q("span",{key:0,class:"cursor-pointer text-secondary-color",textContent:Ie(o.label),onClick:()=>n("selected",o)},null,8,mA)):(D(),q("span",_A,Ie(o.label),1))]))),256))])]))}},gA={class:"p-4 pt-0"},yA={key:0,class:"text-success flex text-sm items-center"},bA={key:1,class:"text-warning flex text-sm items-center"},vA={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(e){const t=Ze(!1);return(n,r)=>{const a=fe("IconCheck"),o=fe("IconWarning"),u=fe("VButton"),d=fe("VTableHeaderCell"),p=fe("VTableHeaderRow"),g=fe("VTableHeader"),y=fe("VTableBodyCell"),x=fe("VTableBodyRow"),E=fe("VTableBody"),A=fe("VTable"),B=fe("VModal");return D(),q(Ge,null,[ee(u,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",title:"Cached map",onClick:r[0]||(r[0]=j=>t.value=!0)},{default:ie(()=>[e.cachedMap.synced?(D(),Ce(a,{key:0,class:"w-4 h-4"})):(D(),Ce(o,{key:1,class:"w-4 h-4"}))]),_:1}),t.value?(D(),Ce(B,{key:0,onClose:r[1]||(r[1]=()=>t.value=!1)},{header:ie(()=>r[2]||(r[2]=[$("h3",{class:"font-medium"},"Cached map",-1)])),default:ie(()=>[$("div",gA,[ee(A,null,{default:ie(()=>[ee(g,null,{default:ie(()=>[ee(p,null,{default:ie(()=>[ee(d,null,{default:ie(()=>r[3]||(r[3]=[Xe("Data")])),_:1}),ee(d)]),_:1})]),_:1}),ee(E,null,{default:ie(()=>[ee(x,null,{default:ie(()=>[ee(y,null,{default:ie(()=>r[4]||(r[4]=[Xe(" Is synced ")])),_:1}),ee(y,null,{default:ie(()=>[e.cachedMap.synced?(D(),q("p",yA,[ee(a,{class:"w-4 h-4"}),r[5]||(r[5]=$("span",{class:"ml-1"}," Map is synchronized with the latest changes * ",-1))])):(D(),q("p",bA,[ee(o,{class:"w-4 h-4"}),r[6]||(r[6]=$("span",{class:"ml-1"}," Map is not synchronized with the latest changes * ",-1))]))]),_:1})]),_:1}),ee(x,null,{default:ie(()=>[ee(y,null,{default:ie(()=>r[7]||(r[7]=[Xe(" Last update ")])),_:1}),ee(y,null,{default:ie(()=>[Xe(Ie(new Date(e.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),ee(g,null,{default:ie(()=>[ee(p,null,{default:ie(()=>[ee(d,null,{default:ie(()=>r[8]||(r[8]=[Xe("Source")])),_:1}),ee(d,null,{default:ie(()=>r[9]||(r[9]=[Xe("Total")])),_:1})]),_:1})]),_:1}),ee(E,null,{default:ie(()=>[(D(!0),q(Ge,null,dt(e.cachedMap.source_scope,(j,Q)=>(D(),Ce(x,{key:Q},{default:ie(()=>[ee(y,{class:"capitalize"},{default:ie(()=>[Xe(Ie(Q.replaceAll("_"," ")),1)]),_:2},1024),ee(y,null,{default:ie(()=>[Xe(Ie(j),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),r[10]||(r[10]=$("p",{class:"italic text-xs pt-4"}," * Aggregate maps are generated from georeference and asserted distribution data. Map computation takes time, and as such they are re-calculated periodically rather than when individual georeferences and asserted distributions are created, destroyed, or updated. When a warning notice is present then the map is not syncronized with the latest changes to the underlying data. ",-1))])]),_:1})):Fe("",!0)],64)}}},xA={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},kA=["innerHTML"],CA={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const n=t;return(r,a)=>{const o=fe("IconClose");return D(),q("div",xA,[$("div",null,[$("span",{class:"ml-2",innerHTML:e.label},null,8,kA)]),ee(o,{class:"cursor-pointer",onClick:a[0]||(a[0]=()=>n("close"))})])}}},wA={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},LA={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(e,{emit:t}){const n=t;return(r,a)=>{const o=fe("IconArrowRight"),u=fe("VTableHeaderCell"),d=fe("VTableHeaderRow"),p=fe("VTableHeader"),g=fe("RouterLink"),y=fe("VTableBodyCell"),x=fe("VTableBodyRow"),E=fe("VTableBody"),A=fe("VTable");return e.list.length?(D(),Ce(A,{key:0,class:"shadow-md"},{default:ie(()=>[ee(p,null,{default:ie(()=>[ee(d,null,{default:ie(()=>[ee(u,{class:"w-full flex justify-between box-border items-center"},{default:ie(()=>[$("span",null,"OTU ("+Ie(e.list.length)+")",1),ee(o,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:a[0]||(a[0]=B=>n("close:table"))})]),_:1})]),_:1})]),_:1}),ee(E,null,{default:ie(()=>[(D(!0),q(Ge,null,dt(e.list,B=>(D(),Ce(x,{key:B.id},{default:ie(()=>[ee(y,null,{default:ie(()=>[ee(g,{innerHTML:B.object_tag,to:{name:"otus-id",params:{id:B.id}},onClick:a[1]||(a[1]=()=>n("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(D(),q("div",wA," No OTUs found in this area "))}}},EA={class:"font-medium"},k1={__name:"DwcTable",setup(e,{expose:t}){const n=Ze(!1),r=Ze(!1),a=Ze({}),o=Ze();function u({label:d,id:p}){r.value=!0,n.value=!0,a.value={},o.value=d,fn(`/collection_objects/${p}/dwc`).then(({data:g})=>{a.value=g}).catch(()=>{}).finally(()=>{n.value=!1})}return t({show:u}),(d,p)=>{const g=fe("VTableHeaderCell"),y=fe("VTableHeaderRow"),x=fe("VTableHeader"),E=fe("VTableBodyCell"),A=fe("VTableBodyRow"),B=fe("VTableBody"),j=fe("VTable"),Q=fe("VSpinner"),se=fe("VModal");return r.value?(D(),Ce(se,{key:0,onClose:p[0]||(p[0]=()=>r.value=!1)},{header:ie(()=>[$("h3",EA,Ie(o.value),1)]),default:ie(()=>[ee(j,{class:"p-4 pt-0"},{default:ie(()=>[ee(x,null,{default:ie(()=>[ee(y,null,{default:ie(()=>[ee(g,null,{default:ie(()=>p[1]||(p[1]=[Xe("Field")])),_:1}),ee(g,null,{default:ie(()=>p[2]||(p[2]=[Xe("Value")])),_:1})]),_:1})]),_:1}),ee(B,null,{default:ie(()=>[(D(!0),q(Ge,null,dt(a.value,(te,z)=>(D(),Ce(A,{key:z},{default:ie(()=>[ee(E,null,{default:ie(()=>[Xe(Ie(z),1)]),_:2},1024),ee(E,null,{default:ie(()=>[Xe(Ie(te),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n.value?(D(),Ce(Q,{key:0})):Fe("",!0)]),_:1})):Fe("",!0)}}},MA={class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},AA={__name:"OtuSearch",props:{shapes:{type:Object,default:()=>[]},otu:{type:Object,default:void 0}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,a=Ze(null),o=Ze(null),u=Ze(null),d=Ze([]),p=Ze(!1),g=Ze(),y=Ze(6),x=Ze(6),{popupItem:E,geojsonOptions:A}=v1({popupElement:a}),B=We(()=>!!n.shapes&&x.value<=y.value);bn(()=>{document.addEventListener("keyup",j),document.body.classList.add("overflow-hidden")}),Ar(()=>{document.removeEventListener("keyup",j),document.body.classList.remove("overflow-hidden")});const j=({key:Z})=>{switch(Z){case"Escape":r("close");break}};function Q(Z){const re={geo_json:Z,taxon_name_id:[n.otu.taxon_name_id],descendants:!0,per:5e3};g.value=!0,Qn.getOtus(re).then(({data:ye})=>{d.value=ye,p.value=!0}).finally(ye=>{g.value=!1})}function se(Z){te(),B.value&&u.value.resizeMap()}function te(){x.value=u.value.getMapObject().getZoom()}function z(){y.value=u.value.getMapObject().getZoom(),te()}return(Z,re)=>{const ye=fe("VSpinner"),De=fe("VMap");return D(),q("div",MA,[g.value?(D(),Ce(ye,{key:0})):Fe("",!0),ee(CA,{label:e.otu.object_tag,onClose:re[0]||(re[0]=()=>r("close"))},null,8,["label"]),$("div",{class:an(["w-full","h-full","relative",{"disable-zoom-out":B.value}])},[ee(De,{ref_key:"mapRef",ref:u,class:"w-full h-full",controls:"",dragging:!B.value,"zoom-bounds":y.value,geojson:e.shapes,geojsonOptions:ze(A),"onGeojson:ready":z,"onAdd:layer":re[1]||(re[1]=Re=>Q(JSON.stringify(Re.geometry))),"onEdit:layer":re[2]||(re[2]=Re=>Q(JSON.stringify(Re.geometry))),"onDrag:layer":re[3]||(re[3]=Re=>Q(JSON.stringify(Re.geometry))),"onZoom:change":se,zoom:4},null,8,["dragging","zoom-bounds","geojson","geojsonOptions"]),$("div",{ref_key:"popupElement",ref:a},[ze(E)?(D(),Ce(x1,{key:0,items:ze(E).base,onSelected:o.value.show},null,8,["items","onSelected"])):Fe("",!0)],512),$("div",{class:an(["h-full","md:w-96","absolute","top-0","bg-base-background","z-[2000]","overflow-auto","ease-in-out","duration-300","w-full",{"md:-right-96 -right-full":!p.value,"right-0":p.value}])},[p.value?(D(),Ce(LA,{key:0,list:d.value,onClose:re[4]||(re[4]=()=>r("close")),"onClose:table":re[5]||(re[5]=()=>p.value=!1)},null,8,["list"])):Fe("",!0)],2)],2),ee(k1,{ref_key:"dwcTableRef",ref:o},null,512)])}}},SA=kt(AA,[["__scopeId","data-v-a99dffa5"]]),BA={class:"relative"},PA={key:0,class:"flex flex-row p-2 text-xs italic"},DA={key:1,class:"flex flex-row p-2 gap-2 text-xs"},TA=2,RA={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0},cluster:{type:Boolean,default:!0}},setup(e){const t=e,n=Ze(!0),r=Ze(!1),a=Ze(null),o=uA(),u=Ze(null),{popupItem:d,geojsonOptions:p}=v1({popupElement:u}),g={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return bn(()=>{n.value=!0,o.loadDistribution({otuId:t.otuId,rankString:t.taxon.rank_string})}),or(()=>{o.resetRequest(),o.$reset()}),(y,x)=>{const E=fe("VSpinner"),A=fe("VMap"),B=fe("VButton"),j=fe("ClientOnly"),Q=fe("VCard");return D(),Ce(Q,null,{default:ie(()=>[$("div",BA,[ee(j,null,{default:ie(()=>[n.value?(D(),Ce(E,{key:0})):Fe("",!0),ee(A,{class:"h-96 max-h-96",dragging:"",cluster:e.cluster,zoom:TA,"zoom-bounds":8,geojson:ze(o).distribution.geojson,"cluster-icon-create-function":ze(hA),"geojson-options":ze(p),"onGeojson:ready":x[0]||(x[0]=()=>n.value=!1)},null,8,["cluster","geojson","cluster-icon-create-function","geojson-options"]),$("div",{ref_key:"popupElement",ref:u},[ze(d)?(D(),Ce(x1,{key:0,items:ze(d).base,onSelected:a.value.show},null,8,["items","onSelected"])):Fe("",!0)],512),ee(B,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:x[1]||(x[1]=()=>r.value=!0)},{default:ie(()=>x[3]||(x[3]=[Xe(" Search ")])),_:1}),r.value?(D(),Ce(SA,{key:1,otu:e.otu,shapes:ze(o).distribution.geojson,onClose:x[2]||(x[2]=()=>r.value=!1)},null,8,["otu","shapes"])):Fe("",!0),ze(o).distribution.cachedMap?(D(),Ce(vA,{key:2,"cached-map":ze(o).distribution.cachedMap},null,8,["cached-map"])):Fe("",!0)]),_:1})]),ze(o).distribution.errorMessage?(D(),q("div",PA," * "+Ie(ze(o).distribution.errorMessage),1)):Fe("",!0),ze(o).distribution.currentShapeTypes.length?(D(),q("div",DA,[(D(!0),q(Ge,null,dt(ze(o).distribution.currentShapeTypes,se=>(D(),q("div",{key:se,class:"flex flex-row items-center"},[$("div",{class:an(["w-3","h-3","m-1","rounded-sm",g[se].background])},null,2),$("span",null,Ie(g[se].label),1)]))),128))])):Fe("",!0),ee(k1,{ref_key:"dwcTableRef",ref:a},null,512)]),_:1})}}},OA={id:"panel:map",component:RA};function C1(e,t){const n=e.slice(),r=n.splice(0,t),a=n.splice(-t);return{first:r,middle:n,last:a}}const FA={class:"border-b border-base-muted p-3 px-5"},IA=["title","innerHTML"],NA=["innerHTML"],ed={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(e){return(t,n)=>(D(),q("li",FA,[$("span",{class:"break-all block",title:e.citation.label,innerHTML:e.citation.label},null,8,IA),e.citation.type_label?(D(),q("p",{key:0,class:"ml-4 text-base-soft",innerHTML:e.citation.type_label},null,8,NA)):Fe("",!0)]))}},zA={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},w1={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(e){return(t,n)=>{const r=fe("IconPlusCircle");return D(),q("li",zA,[$("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:n[0]||(n[0]=()=>t.isExpanded=!t.isExpanded)},[ee(r,{class:"h-5 w-5"})]),$("span",null,"... Show all ... ("+Ie(e.count)+")",1)])}}},jA={class:"text-md"},GA={class:"text-sm"},VA={class:"text-sm"},HA={class:"text-sm"},UA=2,$A={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(e){const t=Ho(),n=Ze(!1),r=We(()=>C1(t.catalog.timeline,UA)),a=We(()=>[{label:n.value?"Show less":"Show all",action:()=>n.value=!n.value}]);return(o,u)=>{const d=fe("VSpinner"),p=fe("VCardHeader"),g=fe("AnimationOpacity"),y=fe("VCard");return D(),Ce(y,null,{default:ie(()=>[ze(t).catalog.isLoading?(D(),Ce(d,{key:0,"logo-class":"w-8 h-8",legend:""})):Fe("",!0),ee(p,{class:"flex justify-between"},{default:ie(()=>[$("h2",jA," Nomenclature ("+Ie(ze(t).catalog.timeline.length)+") ",1),ee(Us,{"menu-options":a.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),$("ul",GA,[(D(!0),q(Ge,null,dt(r.value.first,x=>(D(),Ce(ed,{key:x.label,citation:x},null,8,["citation"]))),128)),!n.value&&r.value.middle.length?(D(),Ce(w1,{key:0,count:r.value.middle.length,onClick:u[0]||(u[0]=x=>n.value=!0)},null,8,["count"])):Fe("",!0)]),ee(g,null,{default:ie(()=>[Fn($("ul",VA,[(D(!0),q(Ge,null,dt(r.value.middle,x=>(D(),Ce(ed,{key:x.label,citation:x},null,8,["citation"]))),128))],512),[[hc,n.value]])]),_:1}),$("ul",HA,[(D(!0),q(Ge,null,dt(r.value.last,x=>(D(),Ce(ed,{key:x.label,citation:x},null,8,["citation"]))),128))])]),_:1})}}},qA={id:"panel:nomenclature",component:$A},ZA={class:"border-b border-base-muted p-3 px-5"},KA=["title","innerHTML"],td={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(e){return(t,n)=>(D(),q("li",ZA,[$("span",{class:"[&>a]:break-all block",title:e.reference,innerHTML:e.reference},null,8,KA)]))}},WA={class:"text-md"},JA={class:"text-sm"},YA=2,XA={__name:"PanelNomenclatureReferences",setup(e){const t=Ho(),n=Ze(!1),r=We(()=>C1(t.catalog.sources,YA)),a=We(()=>[{label:n.value?"Show less":"Show all",action:()=>n.value=!n.value}]);return(o,u)=>{const d=fe("VSpinner"),p=fe("VCardHeader"),g=fe("AnimationOpacity"),y=fe("VCard");return D(),Ce(y,null,{default:ie(()=>[ze(t).catalog.isLoading?(D(),Ce(d,{key:0,"logo-class":"w-8 h-8",legend:""})):Fe("",!0),ee(p,{class:"flex justify-between"},{default:ie(()=>[$("h2",WA," Nomenclature references ("+Ie(ze(t).catalog.sources.length)+") ",1),ee(Us,{"menu-options":a.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),$("ul",JA,[(D(!0),q(Ge,null,dt(r.value.first,x=>(D(),Ce(td,{key:x,reference:x},null,8,["reference"]))),128)),!n.value&&r.value.middle.length?(D(),Ce(w1,{key:0,count:r.value.middle.length,onClick:u[0]||(u[0]=x=>n.value=!0)},null,8,["count"])):Fe("",!0),ee(g,null,{default:ie(()=>[Fn($("div",null,[(D(!0),q(Ge,null,dt(r.value.middle,x=>(D(),Ce(td,{key:x,reference:x},null,8,["reference"]))),128))],512),[[hc,n.value]])]),_:1}),(D(!0),q(Ge,null,dt(r.value.last,x=>(D(),Ce(td,{key:x,reference:x},null,8,["reference"]))),128))])]),_:1})}}},QA={id:"panel:nomenclature-references",component:XA},e8={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(e){const t=Ho(),n=Ze(!1),r=We(()=>[{label:n.value?"Hide taxa":"Show taxa",action:()=>n.value=!n.value}]);return(a,o)=>{const u=fe("VSpinner"),d=fe("VCardHeader"),p=fe("VTableHeaderCell"),g=fe("VTableHeaderRow"),y=fe("VTableHeader"),x=fe("VTableBodyCell"),E=fe("VTableBodyRow"),A=fe("VTableBody"),B=fe("VTable"),j=fe("VCardContent"),Q=fe("VCard");return D(),Ce(Q,null,{default:ie(()=>[ze(t).catalog.isLoading?(D(),Ce(u,{key:0,"logo-class":"w-8 h-8",legend:""})):Fe("",!0),ee(d,{class:"flex justify-between"},{default:ie(()=>[o[0]||(o[0]=$("h2",{class:"text-md"},"Stats",-1)),ee(Us,{"panel-key":"taxonomy","menu-options":r.value},null,8,["menu-options"])]),_:1}),ee(j,{class:"text-sm"},{default:ie(()=>[ee(B,null,{default:ie(()=>[ee(y,null,{default:ie(()=>[ee(g,null,{default:ie(()=>[ee(p,{class:"bg-base-foreground"}),n.value?(D(),Ce(p,{key:0,title:"OTUs linked to valid protonyms"},{default:ie(()=>o[1]||(o[1]=[Xe(" Taxa ")])),_:1})):Fe("",!0),ee(p,{title:"Taxon names",class:"border-l border-base-border"},{default:ie(()=>o[2]||(o[2]=[Xe(" Names ")])),_:1}),ee(p,{colspan:"2",class:"bg-base-foreground"})]),_:1}),ee(g,null,{default:ie(()=>[ee(p,null,{default:ie(()=>o[3]||(o[3]=[Xe("Rank")])),_:1}),n.value?(D(),Ce(p,{key:0,title:"OTUs linked to valid protonyms"},{default:ie(()=>o[4]||(o[4]=[Xe("Total")])),_:1})):Fe("",!0),ee(p,{title:"Taxon names",class:"border-l border-base-border"},{default:ie(()=>o[5]||(o[5]=[Xe(" Total ")])),_:1}),ee(p,null,{default:ie(()=>o[6]||(o[6]=[Xe(" Valid ")])),_:1}),ee(p,null,{default:ie(()=>o[7]||(o[7]=[Xe(" Invalid ")])),_:1})]),_:1})]),_:1}),ee(A,null,{default:ie(()=>[(D(!0),q(Ge,null,dt(ze(t).catalog.stats,({rank:se,taxa:te,names:z})=>(D(),Ce(E,{key:se},{default:ie(()=>[ee(x,{class:"capitalize"},{default:ie(()=>[Xe(Ie(se),1)]),_:2},1024),n.value?(D(),Ce(x,{key:0},{default:ie(()=>[Xe(Ie(te),1)]),_:2},1024)):Fe("",!0),ee(x,{class:"border-l border-base-border"},{default:ie(()=>[Xe(Ie(z.invalid+z.valid),1)]),_:2},1024),ee(x,null,{default:ie(()=>[Xe(Ie(z.valid),1)]),_:2},1024),ee(x,null,{default:ie(()=>[Xe(Ie(z.invalid),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},t8={id:"panel:statistics",component:e8},n8=["innerHTML"],i8={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(e){const t=Ho(),n=We(()=>{var a;return((a=t.taxon)==null?void 0:a.type_taxon_name_relationship)||{}}),r=We(()=>[n.value.subject_object_tag||"",n.value.subject_status_tag||"",n.value.object_object_tag||""].join(" "));return(a,o)=>{const u=fe("VCardHeader"),d=fe("VCardContent"),p=fe("VCard");return D(),Ce(p,null,{default:ie(()=>[ee(u,{class:"flex justify-between"},{default:ie(()=>[o[0]||(o[0]=$("h2",{class:"text-md"},"Type",-1)),ee(Us,{"panel-key":"panel:type"})]),_:1}),ee(d,{class:"text-sm"},{default:ie(()=>[$("p",{innerHTML:r.value},null,8,n8)]),_:1})]),_:1})}}},r8={id:"panel:type",component:i8,rankGroup:[vC,xC]},o8={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,n=Ze([]);return gn(()=>t.otuId,()=>{t.otuId&&Er("panel:typeMaterial",()=>Qn.getOtuTypeMaterial(t.otuId)).then(({data:r})=>{n.value=r.type_materials_catalog_labels.sort((a,o)=>p0.indexOf(a.type_type)-p0.indexOf(o.type_type))})},{immediate:!0}),(r,a)=>{const o=fe("VCardHeader"),u=fe("VCardContent"),d=fe("VCard");return n.value.length?(D(),Ce(d,{key:0},{default:ie(()=>[ee(o,{class:"flex justify-between"},{default:ie(()=>[a[0]||(a[0]=$("h2",{class:"text-md"},"Type specimen",-1)),ee(Us,{"panel-key":"panel:typeMaterial"})]),_:1}),ee(u,{class:"text-sm"},{default:ie(()=>[$("p",null,Ie(n.value[0].label),1)]),_:1})]),_:1})):Fe("",!0)}}},s8={id:"panel:type-specimen",component:o8,rankGroup:[kC,CC]},a8={overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:content","panel:keys","panel:statistics"]]]}};var u8={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const l8=Object.values(Object.assign({"/panels/PanelEtymology/main.js":PM,"/panels/PaneliNaturalist/main.js":OM,"/src/modules/otus/components/Panel/PanelContent/main.js":zM,"/src/modules/otus/components/Panel/PanelDescendants/main.js":eA,"/src/modules/otus/components/Panel/PanelGallery/main.js":rA,"/src/modules/otus/components/Panel/PanelKeys/main.js":aA,"/src/modules/otus/components/Panel/PanelMap/main.js":OA,"/src/modules/otus/components/Panel/PanelNomenclature/main.js":qA,"/src/modules/otus/components/Panel/PanelNomenclatureReferences/main.js":QA,"/src/modules/otus/components/Panel/PanelStats/main.js":t8,"/src/modules/otus/components/Panel/PanelTypeDesignation/main.js":r8,"/src/modules/otus/components/Panel/PanelTypeSpecimen/main.js":s8})),{taxa_page:c8}=u8,Z0=Object.assign({...a8,...c8});function h8(e){return e.map(t=>t.map(n=>n.map(r=>{const o=typeof r=="string"?{id:r}:{...r};return{...l8.find(d=>d.id===o.id),...o}})))}const qa={};for(const e in Z0){const t=Z0[e];qa[e]={panels:h8((t==null?void 0:t.panels)||{}),rankGroup:t.rank_group||[],label:t.label}}const d8={class:"grid gap-3"},f8={__name:"PageLayout",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(e){var o;const t=e,n=bu(),r=qa[n.currentRoute.value.meta.tab],a={1:["md:grid-cols-1"],2:["md:grid-cols-2"],3:["md:grid-cols-3"]};return(o=r.rankGroup)!=null&&o.length&&!Pd(r.rankGroup,t.taxonRank)&&n.replace({name:"otus-id-overview"}),(u,d)=>(D(),q("div",d8,[(D(!0),q(Ge,null,dt(ze(r).panels,p=>(D(),q("div",{class:an(["grid","grid-cols-1","gap-3",a[p.length]])},[(D(!0),q(Ge,null,dt(p,(g,y)=>(D(),q("div",{class:"grid grid-cols-1 gap-3 auto-rows-min",key:y},[(D(!0),q(Ge,null,dt(g,({component:x,rankGroup:E,id:A,bind:B})=>(D(),q(Ge,{key:A},[!E||ze(Pd)(E,e.taxonRank)?(D(),Ce(Go(x),p_({key:0,"otu-id":e.otuId,otu:e.otu,"taxon-id":e.taxonId,taxon:e.taxon,"panel-key":A,ref_for:!0},B),null,16,["otu-id","otu","taxon-id","taxon","panel-key"])):Fe("",!0)],64))),128))]))),128))],2))),256))]))}};function p8(){return Object.keys(qa||{}).map(t=>({path:t,name:`otus-id-${t}`,component:f8,meta:{tab:t,rankGroup:qa[t].rankGroup,label:qa[t].label}}))}const m8=[{name:"otus-id",path:"/otus/:id",component:zL,redirect:{name:"otus-id-overview"},children:p8()}],_8="modulepreload",g8=function(e){return"/hoppers/"+e},K0={},Dc=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=Promise.allSettled(n.map(p=>{if(p=g8(p),p in K0)return;K0[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":_8,g||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((E,A)=>{x.addEventListener("load",E),x.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})},y8=()=>Dc(()=>import("./recent-Dls-Xk5y.js"),[]),b8=()=>Dc(()=>import("./home-DTutNuy8.js"),[]),v8=()=>Dc(()=>import("./help-tRRDhISF.js"),[]),x8=()=>Dc(()=>import("./about-Fs5OTG-A.js"),[]),k8=[{name:"recent",path:"/recent",component:y8,props:!0},{name:"home",path:"/",component:b8,props:!0,alias:"/home"},{name:"help",path:"/help",component:v8,props:!0},{name:"about",path:"/about",component:x8,props:!0}];var C8={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const w8=Object.assign({"/src/modules/home/router/index.js":O4,"/src/modules/httpErrorPages/router/index.js":U4,"/src/modules/interactiveKeys/router/index.js":bC,"/src/modules/otus/router/index.js":m8}),L8=Object.assign({}),{base_url:W0,hash_mode:E8}=C8,M8=[].concat(...Object.values(w8),...Object.values(L8)),A8=[...k8,...M8];function S8(){return E8?B3(W0):F_(W0)}function B8(){return e4({history:S8(),routes:A8,scrollBehavior(e,t,n){return e.hash?{el:e.hash}:{top:0}}})}var P8={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};function D8({originUrl:e}){const{url:t,project_token:n}=P8,a=Pv(t&&n?E4:B4),o=B8(),u=H_();return a.use(o),a.use(u),{app:a,router:o,store:u}}var T8={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const{map_tile_server:R8,map_tile_attribution:O8,map_tiles:F8}=T8;function I8(e,t){return Object.fromEntries((F8||[{label:"tile",server:R8,attribution:O8}]).map(({server:r,attribution:a,label:o})=>[o,e.tileLayer(r,{...t,attribution:a})]))}var Ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Ls,function(n){var r="1.9.4";function a(i){var c,m,v,C;for(m=1,v=arguments.length;m<v;m++){C=arguments[m];for(c in C)i[c]=C[c]}return i}var o=Object.create||function(){function i(){}return function(c){return i.prototype=c,new i}}();function u(i,c){var m=Array.prototype.slice;if(i.bind)return i.bind.apply(i,m.call(arguments,1));var v=m.call(arguments,2);return function(){return i.apply(c,v.length?v.concat(m.call(arguments)):arguments)}}var d=0;function p(i){return"_leaflet_id"in i||(i._leaflet_id=++d),i._leaflet_id}function g(i,c,m){var v,C,T,W;return W=function(){v=!1,C&&(T.apply(m,C),C=!1)},T=function(){v?C=arguments:(i.apply(m,arguments),setTimeout(W,c),v=!0)},T}function y(i,c,m){var v=c[1],C=c[0],T=v-C;return i===v&&m?i:((i-C)%T+T)%T+C}function x(){return!1}function E(i,c){if(c===!1)return i;var m=Math.pow(10,c===void 0?6:c);return Math.round(i*m)/m}function A(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function B(i){return A(i).split(/\s+/)}function j(i,c){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var m in c)i.options[m]=c[m];return i.options}function Q(i,c,m){var v=[];for(var C in i)v.push(encodeURIComponent(m?C.toUpperCase():C)+"="+encodeURIComponent(i[C]));return(!c||c.indexOf("?")===-1?"?":"&")+v.join("&")}var se=/\{ *([\w_ -]+) *\}/g;function te(i,c){return i.replace(se,function(m,v){var C=c[v];if(C===void 0)throw new Error("No value provided for variable "+m);return typeof C=="function"&&(C=C(c)),C})}var z=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function Z(i,c){for(var m=0;m<i.length;m++)if(i[m]===c)return m;return-1}var re="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ye(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var De=0;function Re(i){var c=+new Date,m=Math.max(0,16-(c-De));return De=c+m,window.setTimeout(i,m)}var we=window.requestAnimationFrame||ye("RequestAnimationFrame")||Re,Te=window.cancelAnimationFrame||ye("CancelAnimationFrame")||ye("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Ve(i,c,m){if(m&&we===Re)i.call(c);else return we.call(window,u(i,c))}function Pe(i){i&&Te.call(window,i)}var ot={__proto__:null,extend:a,create:o,bind:u,get lastId(){return d},stamp:p,throttle:g,wrapNum:y,falseFn:x,formatNum:E,trim:A,splitWords:B,setOptions:j,getParamString:Q,template:te,isArray:z,indexOf:Z,emptyImageUrl:re,requestFn:we,cancelFn:Te,requestAnimFrame:Ve,cancelAnimFrame:Pe};function gt(){}gt.extend=function(i){var c=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,v=o(m);v.constructor=c,c.prototype=v;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(c[C]=this[C]);return i.statics&&a(c,i.statics),i.includes&&(At(i.includes),a.apply(null,[v].concat(i.includes))),a(v,i),delete v.statics,delete v.includes,v.options&&(v.options=m.options?o(m.options):{},a(v.options,i.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,W=v._initHooks.length;T<W;T++)v._initHooks[T].call(this)}},c},gt.include=function(i){var c=this.prototype.options;return a(this.prototype,i),i.options&&(this.prototype.options=c,this.mergeOptions(i.options)),this},gt.mergeOptions=function(i){return a(this.prototype.options,i),this},gt.addInitHook=function(i){var c=Array.prototype.slice.call(arguments,1),m=typeof i=="function"?i:function(){this[i].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function At(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=z(i)?i:[i];for(var c=0;c<i.length;c++)i[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ue={on:function(i,c,m){if(typeof i=="object")for(var v in i)this._on(v,i[v],c);else{i=B(i);for(var C=0,T=i.length;C<T;C++)this._on(i[C],c,m)}return this},off:function(i,c,m){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var v in i)this._off(v,i[v],c);else{i=B(i);for(var C=arguments.length===1,T=0,W=i.length;T<W;T++)C?this._off(i[T]):this._off(i[T],c,m)}return this},_on:function(i,c,m,v){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(i,c,m)===!1){m===this&&(m=void 0);var C={fn:c,ctx:m};v&&(C.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(C)}},_off:function(i,c,m){var v,C,T;if(this._events&&(v=this._events[i],!!v)){if(arguments.length===1){if(this._firingCount)for(C=0,T=v.length;C<T;C++)v[C].fn=x;delete this._events[i];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var W=this._listens(i,c,m);if(W!==!1){var he=v[W];this._firingCount&&(he.fn=x,this._events[i]=v=v.slice()),v.splice(W,1)}}},fire:function(i,c,m){if(!this.listens(i,m))return this;var v=a({},c,{type:i,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var C=this._events[i];if(C){this._firingCount=this._firingCount+1||1;for(var T=0,W=C.length;T<W;T++){var he=C[T],ge=he.fn;he.once&&this.off(i,ge,he.ctx),ge.call(he.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(i,c,m,v){typeof i!="string"&&console.warn('"string" type argument expected');var C=c;typeof c!="function"&&(v=!!c,C=void 0,m=void 0);var T=this._events&&this._events[i];if(T&&T.length&&this._listens(i,C,m)!==!1)return!0;if(v){for(var W in this._eventParents)if(this._eventParents[W].listens(i,c,m,v))return!0}return!1},_listens:function(i,c,m){if(!this._events)return!1;var v=this._events[i]||[];if(!c)return!!v.length;m===this&&(m=void 0);for(var C=0,T=v.length;C<T;C++)if(v[C].fn===c&&v[C].ctx===m)return C;return!1},once:function(i,c,m){if(typeof i=="object")for(var v in i)this._on(v,i[v],c,!0);else{i=B(i);for(var C=0,T=i.length;C<T;C++)this._on(i[C],c,m,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[p(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[p(i)],this},_propagateEvent:function(i){for(var c in this._eventParents)this._eventParents[c].fire(i.type,a({layer:i.target,propagatedFrom:i.target},i),!0)}};Ue.addEventListener=Ue.on,Ue.removeEventListener=Ue.clearAllEventListeners=Ue.off,Ue.addOneTimeEventListener=Ue.once,Ue.fireEvent=Ue.fire,Ue.hasEventListeners=Ue.listens;var it=gt.extend(Ue);function Me(i,c,m){this.x=m?Math.round(i):i,this.y=m?Math.round(c):c}var en=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};Me.prototype={clone:function(){return new Me(this.x,this.y)},add:function(i){return this.clone()._add(st(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(st(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new Me(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new Me(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=en(this.x),this.y=en(this.y),this},distanceTo:function(i){i=st(i);var c=i.x-this.x,m=i.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(i){return i=st(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=st(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function st(i,c,m){return i instanceof Me?i:z(i)?new Me(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new Me(i.x,i.y):new Me(i,c,m)}function St(i,c){if(i)for(var m=c?[i,c]:i,v=0,C=m.length;v<C;v++)this.extend(m[v])}St.prototype={extend:function(i){var c,m;if(!i)return this;if(i instanceof Me||typeof i[0]=="number"||"x"in i)c=m=st(i);else if(i=jt(i),c=i.min,m=i.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(i){return st((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return st(this.min.x,this.max.y)},getTopRight:function(){return st(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var c,m;return typeof i[0]=="number"||i instanceof Me?i=st(i):i=jt(i),i instanceof St?(c=i.min,m=i.max):c=m=i,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(i){i=jt(i);var c=this.min,m=this.max,v=i.min,C=i.max,T=C.x>=c.x&&v.x<=m.x,W=C.y>=c.y&&v.y<=m.y;return T&&W},overlaps:function(i){i=jt(i);var c=this.min,m=this.max,v=i.min,C=i.max,T=C.x>c.x&&v.x<m.x,W=C.y>c.y&&v.y<m.y;return T&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var c=this.min,m=this.max,v=Math.abs(c.x-m.x)*i,C=Math.abs(c.y-m.y)*i;return jt(st(c.x-v,c.y-C),st(m.x+v,m.y+C))},equals:function(i){return i?(i=jt(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function jt(i,c){return!i||i instanceof St?i:new St(i,c)}function rn(i,c){if(i)for(var m=c?[i,c]:i,v=0,C=m.length;v<C;v++)this.extend(m[v])}rn.prototype={extend:function(i){var c=this._southWest,m=this._northEast,v,C;if(i instanceof Pt)v=i,C=i;else if(i instanceof rn){if(v=i._southWest,C=i._northEast,!v||!C)return this}else return i?this.extend(mt(i)||Ut(i)):this;return!c&&!m?(this._southWest=new Pt(v.lat,v.lng),this._northEast=new Pt(C.lat,C.lng)):(c.lat=Math.min(v.lat,c.lat),c.lng=Math.min(v.lng,c.lng),m.lat=Math.max(C.lat,m.lat),m.lng=Math.max(C.lng,m.lng)),this},pad:function(i){var c=this._southWest,m=this._northEast,v=Math.abs(c.lat-m.lat)*i,C=Math.abs(c.lng-m.lng)*i;return new rn(new Pt(c.lat-v,c.lng-C),new Pt(m.lat+v,m.lng+C))},getCenter:function(){return new Pt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof Pt||"lat"in i?i=mt(i):i=Ut(i);var c=this._southWest,m=this._northEast,v,C;return i instanceof rn?(v=i.getSouthWest(),C=i.getNorthEast()):v=C=i,v.lat>=c.lat&&C.lat<=m.lat&&v.lng>=c.lng&&C.lng<=m.lng},intersects:function(i){i=Ut(i);var c=this._southWest,m=this._northEast,v=i.getSouthWest(),C=i.getNorthEast(),T=C.lat>=c.lat&&v.lat<=m.lat,W=C.lng>=c.lng&&v.lng<=m.lng;return T&&W},overlaps:function(i){i=Ut(i);var c=this._southWest,m=this._northEast,v=i.getSouthWest(),C=i.getNorthEast(),T=C.lat>c.lat&&v.lat<m.lat,W=C.lng>c.lng&&v.lng<m.lng;return T&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,c){return i?(i=Ut(i),this._southWest.equals(i.getSouthWest(),c)&&this._northEast.equals(i.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ut(i,c){return i instanceof rn?i:new rn(i,c)}function Pt(i,c,m){if(isNaN(i)||isNaN(c))throw new Error("Invalid LatLng object: ("+i+", "+c+")");this.lat=+i,this.lng=+c,m!==void 0&&(this.alt=+m)}Pt.prototype={equals:function(i,c){if(!i)return!1;i=mt(i);var m=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return m<=(c===void 0?1e-9:c)},toString:function(i){return"LatLng("+E(this.lat,i)+", "+E(this.lng,i)+")"},distanceTo:function(i){return qe.distance(this,mt(i))},wrap:function(){return qe.wrapLatLng(this)},toBounds:function(i){var c=180*i/40075017,m=c/Math.cos(Math.PI/180*this.lat);return Ut([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new Pt(this.lat,this.lng,this.alt)}};function mt(i,c,m){return i instanceof Pt?i:z(i)&&typeof i[0]!="object"?i.length===3?new Pt(i[0],i[1],i[2]):i.length===2?new Pt(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new Pt(i.lat,"lng"in i?i.lng:i.lon,i.alt):c===void 0?null:new Pt(i,c,m)}var xe={latLngToPoint:function(i,c){var m=this.projection.project(i),v=this.scale(c);return this.transformation._transform(m,v)},pointToLatLng:function(i,c){var m=this.scale(c),v=this.transformation.untransform(i,m);return this.projection.unproject(v)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(i),v=this.transformation.transform(c.min,m),C=this.transformation.transform(c.max,m);return new St(v,C)},infinite:!1,wrapLatLng:function(i){var c=this.wrapLng?y(i.lng,this.wrapLng,!0):i.lng,m=this.wrapLat?y(i.lat,this.wrapLat,!0):i.lat,v=i.alt;return new Pt(m,c,v)},wrapLatLngBounds:function(i){var c=i.getCenter(),m=this.wrapLatLng(c),v=c.lat-m.lat,C=c.lng-m.lng;if(v===0&&C===0)return i;var T=i.getSouthWest(),W=i.getNorthEast(),he=new Pt(T.lat-v,T.lng-C),ge=new Pt(W.lat-v,W.lng-C);return new rn(he,ge)}},qe=a({},xe,{wrapLng:[-180,180],R:6371e3,distance:function(i,c){var m=Math.PI/180,v=i.lat*m,C=c.lat*m,T=Math.sin((c.lat-i.lat)*m/2),W=Math.sin((c.lng-i.lng)*m/2),he=T*T+Math.cos(v)*Math.cos(C)*W*W,ge=2*Math.atan2(Math.sqrt(he),Math.sqrt(1-he));return this.R*ge}}),He=6378137,tt={R:He,MAX_LATITUDE:85.0511287798,project:function(i){var c=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,i.lat),-m),C=Math.sin(v*c);return new Me(this.R*i.lng*c,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(i){var c=180/Math.PI;return new Pt((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*c,i.x*c/this.R)},bounds:function(){var i=He*Math.PI;return new St([-i,-i],[i,i])}()};function Bt(i,c,m,v){if(z(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=c,this._c=m,this._d=v}Bt.prototype={transform:function(i,c){return this._transform(i.clone(),c)},_transform:function(i,c){return c=c||1,i.x=c*(this._a*i.x+this._b),i.y=c*(this._c*i.y+this._d),i},untransform:function(i,c){return c=c||1,new Me((i.x/c-this._b)/this._a,(i.y/c-this._d)/this._c)}};function zt(i,c,m,v){return new Bt(i,c,m,v)}var V=a({},qe,{code:"EPSG:3857",projection:tt,transformation:function(){var i=.5/(Math.PI*tt.R);return zt(i,.5,-i,.5)}()}),K=a({},V,{code:"EPSG:900913"});function pe(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Ae(i,c){var m="",v,C,T,W,he,ge;for(v=0,T=i.length;v<T;v++){for(he=i[v],C=0,W=he.length;C<W;C++)ge=he[C],m+=(C?"L":"M")+ge.x+" "+ge.y;m+=c?at.svg?"z":"x":""}return m||"M0 0"}var ke=document.documentElement.style,Se="ActiveXObject"in window,$e=Se&&!document.addEventListener,je="msLaunchUri"in navigator&&!("documentMode"in document),Ne=hi("webkit"),Oe=hi("android"),ct=hi("android 2")||hi("android 3"),Je=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=Oe&&hi("Google")&&Je<537&&!("AudioNode"in window),ft=!!window.opera,Et=!je&&hi("chrome"),Gt=hi("gecko")&&!Ne&&!ft&&!Se,Ot=!Et&&hi("safari"),Ln=hi("phantom"),pn="OTransition"in ke,vn=navigator.platform.indexOf("Win")===0,Bn=Se&&"transition"in ke,bi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ct,Ri="MozPerspective"in ke,Pn=!window.L_DISABLE_3D&&(Bn||bi||Ri)&&!pn&&!Ln,xn=typeof orientation<"u"||hi("mobile"),Uo=xn&&Ne,Tc=xn&&bi,$s=!window.PointerEvent&&window.MSPointerEvent,Su=!!(window.PointerEvent||$s),Bu="ontouchstart"in window||!!window.TouchEvent,Rc=!window.L_NO_TOUCH&&(Bu||Su),Oc=xn&&ft,Pu=xn&&Gt,Du=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fc=function(){var i=!1;try{var c=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",x,c),window.removeEventListener("testPassiveEventSupport",x,c)}catch{}return i}(),Ic=function(){return!!document.createElement("canvas").getContext}(),qs=!!(document.createElementNS&&pe("svg").createSVGRect),Tu=!!qs&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Nc=!qs&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var c=i.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),zc=navigator.platform.indexOf("Mac")===0,jc=navigator.platform.indexOf("Linux")===0;function hi(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var at={ie:Se,ielt9:$e,edge:je,webkit:Ne,android:Oe,android23:ct,androidStock:rt,opera:ft,chrome:Et,gecko:Gt,safari:Ot,phantom:Ln,opera12:pn,win:vn,ie3d:Bn,webkit3d:bi,gecko3d:Ri,any3d:Pn,mobile:xn,mobileWebkit:Uo,mobileWebkit3d:Tc,msPointer:$s,pointer:Su,touch:Rc,touchNative:Bu,mobileOpera:Oc,mobileGecko:Pu,retina:Du,passiveEvents:Fc,canvas:Ic,svg:qs,vml:Nc,inlineSvg:Tu,mac:zc,linux:jc},Ru=at.msPointer?"MSPointerDown":"pointerdown",Ou=at.msPointer?"MSPointerMove":"pointermove",Zs=at.msPointer?"MSPointerUp":"pointerup",Fu=at.msPointer?"MSPointerCancel":"pointercancel",Ks={touchstart:Ru,touchmove:Ou,touchend:Zs,touchcancel:Fu},Iu={touchstart:$c,touchmove:qo,touchend:qo,touchcancel:qo},Br={},Nu=!1;function Gc(i,c,m){return c==="touchstart"&&Ws(),Iu[c]?(m=Iu[c].bind(this,m),i.addEventListener(Ks[c],m,!1),m):(console.warn("wrong event specified:",c),x)}function Vc(i,c,m){if(!Ks[c]){console.warn("wrong event specified:",c);return}i.removeEventListener(Ks[c],m,!1)}function Hc(i){Br[i.pointerId]=i}function Uc(i){Br[i.pointerId]&&(Br[i.pointerId]=i)}function $o(i){delete Br[i.pointerId]}function Ws(){Nu||(document.addEventListener(Ru,Hc,!0),document.addEventListener(Ou,Uc,!0),document.addEventListener(Zs,$o,!0),document.addEventListener(Fu,$o,!0),Nu=!0)}function qo(i,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Br)c.touches.push(Br[m]);c.changedTouches=[c],i(c)}}function $c(i,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&En(c),qo(i,c)}function qc(i){var c={},m,v;for(v in i)m=i[v],c[v]=m&&m.bind?m.bind(i):m;return i=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Zc=200;function Kc(i,c){i.addEventListener("dblclick",c);var m=0,v;function C(T){if(T.detail!==1){v=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var W=Hu(T);if(!(W.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!W.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var he=Date.now();he-m<=Zc?(v++,v===2&&c(qc(T))):v=1,m=he}}}return i.addEventListener("click",C),{dblclick:c,simDblclick:C}}function Wc(i,c){i.removeEventListener("dblclick",c.dblclick),i.removeEventListener("click",c.simDblclick)}var Js=Ko(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),uo=Ko(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zu=uo==="webkitTransition"||uo==="OTransition"?uo+"End":"transitionend";function ju(i){return typeof i=="string"?document.getElementById(i):i}function qi(i,c){var m=i.style[c]||i.currentStyle&&i.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(i,null);m=v?v[c]:null}return m==="auto"?null:m}function Ft(i,c,m){var v=document.createElement(i);return v.className=c||"",m&&m.appendChild(v),v}function Yt(i){var c=i.parentNode;c&&c.removeChild(i)}function lo(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Pr(i){var c=i.parentNode;c&&c.lastChild!==i&&c.appendChild(i)}function ur(i){var c=i.parentNode;c&&c.firstChild!==i&&c.insertBefore(i,c.firstChild)}function Ys(i,c){if(i.classList!==void 0)return i.classList.contains(c);var m=Zo(i);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function vt(i,c){if(i.classList!==void 0)for(var m=B(c),v=0,C=m.length;v<C;v++)i.classList.add(m[v]);else if(!Ys(i,c)){var T=Zo(i);Xs(i,(T?T+" ":"")+c)}}function on(i,c){i.classList!==void 0?i.classList.remove(c):Xs(i,A((" "+Zo(i)+" ").replace(" "+c+" "," ")))}function Xs(i,c){i.className.baseVal===void 0?i.className=c:i.className.baseVal=c}function Zo(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function ei(i,c){"opacity"in i.style?i.style.opacity=c:"filter"in i.style&&Jc(i,c)}function Jc(i,c){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=i.filters.item(v)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):i.style.filter+=" progid:"+v+"(opacity="+c+")"}function Ko(i){for(var c=document.documentElement.style,m=0;m<i.length;m++)if(i[m]in c)return i[m];return!1}function lr(i,c,m){var v=c||new Me(0,0);i.style[Js]=(at.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function ln(i,c){i._leaflet_pos=c,at.any3d?lr(i,c):(i.style.left=c.x+"px",i.style.top=c.y+"px")}function cr(i){return i._leaflet_pos||new Me(0,0)}var co,ho,Qs;if("onselectstart"in document)co=function(){yt(window,"selectstart",En)},ho=function(){qt(window,"selectstart",En)};else{var fo=Ko(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);co=function(){if(fo){var i=document.documentElement.style;Qs=i[fo],i[fo]="none"}},ho=function(){fo&&(document.documentElement.style[fo]=Qs,Qs=void 0)}}function ea(){yt(window,"dragstart",En)}function ta(){qt(window,"dragstart",En)}var Wo,na;function ia(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Jo(),Wo=i,na=i.style.outlineStyle,i.style.outlineStyle="none",yt(window,"keydown",Jo))}function Jo(){Wo&&(Wo.style.outlineStyle=na,Wo=void 0,na=void 0,qt(window,"keydown",Jo))}function Gu(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function ra(i){var c=i.getBoundingClientRect();return{x:c.width/i.offsetWidth||1,y:c.height/i.offsetHeight||1,boundingClientRect:c}}var Yc={__proto__:null,TRANSFORM:Js,TRANSITION:uo,TRANSITION_END:zu,get:ju,getStyle:qi,create:Ft,remove:Yt,empty:lo,toFront:Pr,toBack:ur,hasClass:Ys,addClass:vt,removeClass:on,setClass:Xs,getClass:Zo,setOpacity:ei,testProp:Ko,setTransform:lr,setPosition:ln,getPosition:cr,get disableTextSelection(){return co},get enableTextSelection(){return ho},disableImageDrag:ea,enableImageDrag:ta,preventOutline:ia,restoreOutline:Jo,getSizedParentNode:Gu,getScale:ra};function yt(i,c,m,v){if(c&&typeof c=="object")for(var C in c)hr(i,C,c[C],m);else{c=B(c);for(var T=0,W=c.length;T<W;T++)hr(i,c[T],m,v)}return this}var vi="_leaflet_events";function qt(i,c,m,v){if(arguments.length===1)Vu(i),delete i[vi];else if(c&&typeof c=="object")for(var C in c)sa(i,C,c[C],m);else if(c=B(c),arguments.length===2)Vu(i,function(he){return Z(c,he)!==-1});else for(var T=0,W=c.length;T<W;T++)sa(i,c[T],m,v);return this}function Vu(i,c){for(var m in i[vi]){var v=m.split(/\d/)[0];(!c||c(v))&&sa(i,v,null,null,m)}}var oa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function hr(i,c,m,v){var C=c+p(m)+(v?"_"+p(v):"");if(i[vi]&&i[vi][C])return this;var T=function(he){return m.call(v||i,he||window.event)},W=T;!at.touchNative&&at.pointer&&c.indexOf("touch")===0?T=Gc(i,c,T):at.touch&&c==="dblclick"?T=Kc(i,T):"addEventListener"in i?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?i.addEventListener(oa[c]||c,T,at.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(T=function(he){he=he||window.event,Dr(i,he)&&W(he)},i.addEventListener(oa[c],T,!1)):i.addEventListener(c,W,!1):i.attachEvent("on"+c,T),i[vi]=i[vi]||{},i[vi][C]=T}function sa(i,c,m,v,C){C=C||c+p(m)+(v?"_"+p(v):"");var T=i[vi]&&i[vi][C];if(!T)return this;!at.touchNative&&at.pointer&&c.indexOf("touch")===0?Vc(i,c,T):at.touch&&c==="dblclick"?Wc(i,T):"removeEventListener"in i?i.removeEventListener(oa[c]||c,T,!1):i.detachEvent("on"+c,T),i[vi][C]=null}function dr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function aa(i){return hr(i,"wheel",dr),this}function po(i){return yt(i,"mousedown touchstart dblclick contextmenu",dr),i._leaflet_disable_click=!0,this}function En(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function fr(i){return En(i),dr(i),this}function Hu(i){if(i.composedPath)return i.composedPath();for(var c=[],m=i.target;m;)c.push(m),m=m.parentNode;return c}function Uu(i,c){if(!c)return new Me(i.clientX,i.clientY);var m=ra(c),v=m.boundingClientRect;return new Me((i.clientX-v.left)/m.x-c.clientLeft,(i.clientY-v.top)/m.y-c.clientTop)}var Xc=at.linux&&at.chrome?window.devicePixelRatio:at.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $u(i){return at.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Xc:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Dr(i,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==i;)m=m.parentNode}catch{return!1}return m!==i}var Qc={__proto__:null,on:yt,off:qt,stopPropagation:dr,disableScrollPropagation:aa,disableClickPropagation:po,preventDefault:En,stop:fr,getPropagationPath:Hu,getMousePosition:Uu,getWheelDelta:$u,isExternalTarget:Dr,addListener:yt,removeListener:qt},qu=it.extend({run:function(i,c,m,v){this.stop(),this._el=i,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=cr(i),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ve(this._animate,this),this._step()},_step:function(i){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),i):(this._runFrame(1),this._complete())},_runFrame:function(i,c){var m=this._startPos.add(this._offset.multiplyBy(i));c&&m._round(),ln(this._el,m),this.fire("step")},_complete:function(){Pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Mt=it.extend({options:{crs:V,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,c){c=j(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(mt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=uo&&at.any3d&&!at.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),yt(this._proxy,zu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),i=this._limitCenter(mt(i),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=a({animate:m.animate},m.zoom),m.pan=a({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,c,m.zoom):this._tryAnimatedPan(i,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(i,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(i,c){return this._loaded?this.setView(this.getCenter(),i,{zoom:c}):(this._zoom=i,this)},zoomIn:function(i,c){return i=i||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,c)},zoomOut:function(i,c){return i=i||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,c)},setZoomAround:function(i,c,m){var v=this.getZoomScale(c),C=this.getSize().divideBy(2),T=i instanceof Me?i:this.latLngToContainerPoint(i),W=T.subtract(C).multiplyBy(1-1/v),he=this.containerPointToLatLng(C.add(W));return this.setView(he,c,{zoom:m})},_getBoundsCenterZoom:function(i,c){c=c||{},i=i.getBounds?i.getBounds():Ut(i);var m=st(c.paddingTopLeft||c.padding||[0,0]),v=st(c.paddingBottomRight||c.padding||[0,0]),C=this.getBoundsZoom(i,!1,m.add(v));if(C=typeof c.maxZoom=="number"?Math.min(c.maxZoom,C):C,C===1/0)return{center:i.getCenter(),zoom:C};var T=v.subtract(m).divideBy(2),W=this.project(i.getSouthWest(),C),he=this.project(i.getNorthEast(),C),ge=this.unproject(W.add(he).divideBy(2).add(T),C);return{center:ge,zoom:C}},fitBounds:function(i,c){if(i=Ut(i),!i.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(i,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,c){return this.setView(i,this._zoom,{pan:c})},panBy:function(i,c){if(i=st(i).round(),c=c||{},!i.x&&!i.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){vt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,c,m){if(m=m||{},m.animate===!1||!at.any3d)return this.setView(i,c,m);this._stop();var v=this.project(this.getCenter()),C=this.project(i),T=this.getSize(),W=this._zoom;i=mt(i),c=c===void 0?W:c;var he=Math.max(T.x,T.y),ge=he*this.getZoomScale(W,c),Ee=C.distanceTo(v)||1,Ye=1.42,pt=Ye*Ye;function Lt(sn){var ps=sn?-1:1,wi=sn?ge:he,yh=ge*ge-he*he+ps*pt*pt*Ee*Ee,ms=2*wi*pt*Ee,_s=yh/ms,ul=Math.sqrt(_s*_s+1)-_s,ll=ul<1e-9?-18:Math.log(ul);return ll}function Nn(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function cn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function hn(sn){return Nn(sn)/cn(sn)}var Cn=Lt(0);function Yi(sn){return he*(cn(Cn)/cn(Cn+Ye*sn))}function ds(sn){return he*(cn(Cn)*hn(Cn+Ye*sn)-Nn(Cn))/pt}function sl(sn){return 1-Math.pow(1-sn,1.5)}var fs=Date.now(),al=(Lt(1)-Cn)/Ye,gh=m.duration?1e3*m.duration:1e3*al*.8;function wa(){var sn=(Date.now()-fs)/gh,ps=sl(sn)*al;sn<=1?(this._flyToFrame=Ve(wa,this),this._move(this.unproject(v.add(C.subtract(v).multiplyBy(ds(ps)/Ee)),W),this.getScaleZoom(he/Yi(ps),W),{flyTo:!0})):this._move(i,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),wa.call(this),this},flyToBounds:function(i,c){var m=this._getBoundsCenterZoom(i,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(i){return i=Ut(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var c=this.options.minZoom;return this.options.minZoom=i,this._loaded&&c!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var c=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&c!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,c){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,Ut(i));return m.equals(v)||this.panTo(v,c),this._enforcingBounds=!1,this},panInside:function(i,c){c=c||{};var m=st(c.paddingTopLeft||c.padding||[0,0]),v=st(c.paddingBottomRight||c.padding||[0,0]),C=this.project(this.getCenter()),T=this.project(i),W=this.getPixelBounds(),he=jt([W.min.add(m),W.max.subtract(v)]),ge=he.getSize();if(!he.contains(T)){this._enforcingBounds=!0;var Ee=T.subtract(he.getCenter()),Ye=he.extend(T).getSize().subtract(ge);C.x+=Ee.x<0?-Ye.x:Ye.x,C.y+=Ee.y<0?-Ye.y:Ye.y,this.panTo(this.unproject(C),c),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=a({animate:!1,pan:!0},i===!0?{animate:!0}:i);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=c.divideBy(2).round(),C=m.divideBy(2).round(),T=v.subtract(C);return!T.x&&!T.y?this:(i.animate&&i.pan?this.panBy(T):(i.pan&&this._rawPanBy(T),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=a({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=u(this._handleGeolocationResponse,this),m=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,i):navigator.geolocation.getCurrentPosition(c,m,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var c=i.code,m=i.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var c=i.coords.latitude,m=i.coords.longitude,v=new Pt(c,m),C=v.toBounds(i.coords.accuracy*2),T=this._locateOptions;if(T.setView){var W=this.getBoundsZoom(C);this.setView(v,T.maxZoom?Math.min(W,T.maxZoom):W)}var he={latlng:v,bounds:C,timestamp:i.timestamp};for(var ge in i.coords)typeof i.coords[ge]=="number"&&(he[ge]=i.coords[ge]);this.fire("locationfound",he)}},addHandler:function(i,c){if(!c)return this;var m=this[i]=new c(this);return this._handlers.push(m),this.options[i]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Yt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,c){var m="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),v=Ft("div",m,c||this._mapPane);return i&&(this._panes[i]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),c=this.unproject(i.getBottomLeft()),m=this.unproject(i.getTopRight());return new rn(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,c,m){i=Ut(i),m=st(m||[0,0]);var v=this.getZoom()||0,C=this.getMinZoom(),T=this.getMaxZoom(),W=i.getNorthWest(),he=i.getSouthEast(),ge=this.getSize().subtract(m),Ee=jt(this.project(he,v),this.project(W,v)).getSize(),Ye=at.any3d?this.options.zoomSnap:1,pt=ge.x/Ee.x,Lt=ge.y/Ee.y,Nn=c?Math.max(pt,Lt):Math.min(pt,Lt);return v=this.getScaleZoom(Nn,v),Ye&&(v=Math.round(v/(Ye/100))*(Ye/100),v=c?Math.ceil(v/Ye)*Ye:Math.floor(v/Ye)*Ye),Math.max(C,Math.min(T,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Me(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,c){var m=this._getTopLeftPoint(i,c);return new St(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(i)/m.scale(c)},getScaleZoom:function(i,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var v=m.zoom(i*m.scale(c));return isNaN(v)?1/0:v},project:function(i,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(mt(i),c)},unproject:function(i,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(st(i),c)},layerPointToLatLng:function(i){var c=st(i).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(i){var c=this.project(mt(i))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(mt(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(Ut(i))},distance:function(i,c){return this.options.crs.distance(mt(i),mt(c))},containerPointToLayerPoint:function(i){return st(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return st(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var c=this.containerPointToLayerPoint(st(i));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(mt(i)))},mouseEventToContainerPoint:function(i){return Uu(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var c=this._container=ju(i);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");yt(c,"scroll",this._onScroll,this),this._containerId=p(c)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&at.any3d,vt(i,"leaflet-container"+(at.touch?" leaflet-touch":"")+(at.retina?" leaflet-retina":"")+(at.ielt9?" leaflet-oldie":"")+(at.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=qi(i,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ln(this._mapPane,new Me(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(vt(i.markerPane,"leaflet-zoom-hide"),vt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,c,m){ln(this._mapPane,new Me(0,0));var v=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var C=this._zoom!==c;this._moveStart(C,m)._move(i,c)._moveEnd(C),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(i,c){return i&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(i,c,m,v){c===void 0&&(c=this._zoom);var C=this._zoom!==c;return this._zoom=c,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),v?m&&m.pinch&&this.fire("zoom",m):((C||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){ln(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[p(this._container)]=this;var c=i?qt:yt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),at.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Pe(this._resizeRequest),this._resizeRequest=Ve(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,c){for(var m=[],v,C=c==="mouseout"||c==="mouseover",T=i.target||i.srcElement,W=!1;T;){if(v=this._targets[p(T)],v&&(c==="click"||c==="preclick")&&this._draggableMoved(v)){W=!0;break}if(v&&v.listens(c,!0)&&(C&&!Dr(T,i)||(m.push(v),C))||T===this._container)break;T=T.parentNode}return!m.length&&!W&&!C&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var c=i.target||i.srcElement;if(!(!this._loaded||c._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(c))){var m=i.type;m==="mousedown"&&ia(c),this._fireDOMEvent(i,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,c,m){if(i.type==="click"){var v=a({},i);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var C=this._findEventTargets(i,c);if(m){for(var T=[],W=0;W<m.length;W++)m[W].listens(c,!0)&&T.push(m[W]);C=T.concat(C)}if(C.length){c==="contextmenu"&&En(i);var he=C[0],ge={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Ee=he.getLatLng&&(!he._radius||he._radius<=10);ge.containerPoint=Ee?this.latLngToContainerPoint(he.getLatLng()):this.mouseEventToContainerPoint(i),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ee?he.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(W=0;W<C.length;W++)if(C[W].fire(c,ge,!0),ge.originalEvent._stopped||C[W].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,c=this._handlers.length;i<c;i++)this._handlers[i].disable()},whenReady:function(i,c){return this._loaded?i.call(c||this,{target:this}):this.on("load",i,c),this},_getMapPanePos:function(){return cr(this._mapPane)||new Me(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,c){var m=i&&c!==void 0?this._getNewPixelOrigin(i,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,c){var m=this.getSize()._divideBy(2);return this.project(i,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,c,m){var v=this._getNewPixelOrigin(m,c);return this.project(i,c)._subtract(v)},_latLngBoundsToNewLayerBounds:function(i,c,m){var v=this._getNewPixelOrigin(m,c);return jt([this.project(i.getSouthWest(),c)._subtract(v),this.project(i.getNorthWest(),c)._subtract(v),this.project(i.getSouthEast(),c)._subtract(v),this.project(i.getNorthEast(),c)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,c,m){if(!m)return i;var v=this.project(i,c),C=this.getSize().divideBy(2),T=new St(v.subtract(C),v.add(C)),W=this._getBoundsOffset(T,m,c);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?i:this.unproject(v.add(W),c)},_limitOffset:function(i,c){if(!c)return i;var m=this.getPixelBounds(),v=new St(m.min.add(i),m.max.add(i));return i.add(this._getBoundsOffset(v,c))},_getBoundsOffset:function(i,c,m){var v=jt(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),C=v.min.subtract(i.min),T=v.max.subtract(i.max),W=this._rebound(C.x,-T.x),he=this._rebound(C.y,-T.y);return new Me(W,he)},_rebound:function(i,c){return i+c>0?Math.round(i-c)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(c))},_limitZoom:function(i){var c=this.getMinZoom(),m=this.getMaxZoom(),v=at.any3d?this.options.zoomSnap:1;return v&&(i=Math.round(i/v)*v),Math.max(c,Math.min(m,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){on(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,c){var m=this._getCenterOffset(i)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var i=this._proxy=Ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(c){var m=Js,v=this._proxy.style[m];lr(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),c=this.getZoom();lr(this._proxy,this.project(i,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(c),C=this._getCenterOffset(i)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(C)?!1:(Ve(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(i,c,!0)},this),!0)},_animateZoom:function(i,c,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=c,vt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:c,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&on(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dt(i,c){return new Mt(i,c)}var Zn=gt.extend({options:{position:"topright"},initialize:function(i){j(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var c=this._map;return c&&c.removeControl(this),this.options.position=i,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var c=this._container=this.onAdd(i),m=this.getPosition(),v=i._controlCorners[m];return vt(c,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(c,v.firstChild):v.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Zi=function(i){return new Zn(i)};Mt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},c="leaflet-",m=this._controlContainer=Ft("div",c+"control-container",this._container);function v(C,T){var W=c+C+" "+c+T;i[C+T]=Ft("div",W,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Yt(this._controlCorners[i]);Yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zu=Zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,c,m,v){return m<v?-1:v<m?1:0}},initialize:function(i,c,m){j(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in i)this._addLayer(i[v],v);for(v in c)this._addLayer(c[v],v,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Zn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,c){return this._addLayer(i,c),this._map?this._update():this},addOverlay:function(i,c){return this._addLayer(i,c,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var c=this._getLayer(p(i));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){vt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(vt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):on(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return on(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",c=this._container=Ft("div",i),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),po(c),aa(c);var v=this._section=Ft("section",i+"-list");m&&(this._map.on("click",this.collapse,this),yt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Ft("a",i+"-toggle",c);C.href="#",C.title="Layers",C.setAttribute("role","button"),yt(C,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){En(T),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Ft("div",i+"-base",v),this._separator=Ft("div",i+"-separator",v),this._overlaysList=Ft("div",i+"-overlays",v),c.appendChild(v)},_getLayer:function(i){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&p(this._layers[c].layer)===i)return this._layers[c]},_addLayer:function(i,c,m){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(u(function(v,C){return this.options.sortFunction(v.layer,C.layer,v.name,C.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;lo(this._baseLayersList),lo(this._overlaysList),this._layerControlInputs=[];var i,c,m,v,C=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),c=c||v.overlay,i=i||!v.overlay,C+=v.overlay?0:1;return this.options.hideSingleBase&&(i=i&&C>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=c&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var c=this._getLayer(p(i.target)),m=c.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(i,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(c?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(i){var c=document.createElement("label"),m=this._map.hasLayer(i.layer),v;i.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+p(this),m),this._layerControlInputs.push(v),v.layerId=p(i.layer),yt(v,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+i.name;var T=document.createElement("span");c.appendChild(T),T.appendChild(v),T.appendChild(C);var W=i.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,c,m,v=[],C=[];this._handlingClick=!0;for(var T=i.length-1;T>=0;T--)c=i[T],m=this._getLayer(c.layerId).layer,c.checked?v.push(m):c.checked||C.push(m);for(T=0;T<C.length;T++)this._map.hasLayer(C[T])&&this._map.removeLayer(C[T]);for(T=0;T<v.length;T++)this._map.hasLayer(v[T])||this._map.addLayer(v[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,c,m,v=this._map.getZoom(),C=i.length-1;C>=0;C--)c=i[C],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,yt(i,"click",En),this.expand();var c=this;setTimeout(function(){qt(i,"click",En),c._preventClick=!1})}}),Ku=function(i,c,m){return new Zu(i,c,m)},ua=Zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var c="leaflet-control-zoom",m=Ft("div",c+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,c,m,v,C){var T=Ft("a",m,v);return T.innerHTML=i,T.href="#",T.title=c,T.setAttribute("role","button"),T.setAttribute("aria-label",c),po(T),yt(T,"click",fr),yt(T,"click",C,this),yt(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var i=this._map,c="leaflet-disabled";on(this._zoomInButton,c),on(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(vt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(vt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mt.mergeOptions({zoomControl:!0}),Mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ua,this.addControl(this.zoomControl))});var la=function(i){return new ua(i)},mo=Zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var c="leaflet-control-scale",m=Ft("div",c),v=this.options;return this._addScales(v,c+"-line",m),i.on(v.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),m},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,c,m){i.metric&&(this._mScale=Ft("div",c,m)),i.imperial&&(this._iScale=Ft("div",c,m))},_update:function(){var i=this._map,c=i.getSize().y/2,m=i.distance(i.containerPointToLatLng([0,c]),i.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var c=this._getRoundNum(i),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/i)},_updateImperial:function(i){var c=i*3.2808399,m,v,C;c>5280?(m=c/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(C=this._getRoundNum(c),this._updateScale(this._iScale,C+" ft",C/c))},_updateScale:function(i,c,m){i.style.width=Math.round(this.options.maxWidth*m)+"px",i.innerHTML=c},_getRoundNum:function(i){var c=Math.pow(10,(Math.floor(i)+"").length-1),m=i/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),eh=function(i){return new mo(i)},Ki='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yo=Zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(at.inlineSvg?Ki+" ":"")+"Leaflet</a>"},initialize:function(i){j(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Ft("div","leaflet-control-attribution"),po(this._container);for(var c in i._layers)i._layers[c].getAttribution&&this.addAttribution(i._layers[c].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var c in this._attributions)this._attributions[c]&&i.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),i.length&&m.push(i.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Mt.mergeOptions({attributionControl:!0}),Mt.addInitHook(function(){this.options.attributionControl&&new Yo().addTo(this)});var Tr=function(i){return new Yo(i)};Zn.Layers=Zu,Zn.Zoom=ua,Zn.Scale=mo,Zn.Attribution=Yo,Zi.layers=Ku,Zi.zoom=la,Zi.scale=eh,Zi.attribution=Tr;var xi=gt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xi.addTo=function(i,c){return i.addHandler(c,this),this};var th={Events:Ue},Wu=at.touch?"touchstart mousedown":"mousedown",Wi=it.extend({options:{clickTolerance:3},initialize:function(i,c,m,v){j(this,v),this._element=i,this._dragStartTarget=c||i,this._preventOutline=m},enable:function(){this._enabled||(yt(this._dragStartTarget,Wu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wi._dragging===this&&this.finishDrag(!0),qt(this._dragStartTarget,Wu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Ys(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Wi._dragging===this&&this.finishDrag();return}if(!(Wi._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Wi._dragging=this,this._preventOutline&&ia(this._element),ea(),co(),!this._moving)){this.fire("down");var c=i.touches?i.touches[0]:i,m=Gu(this._element);this._startPoint=new Me(c.clientX,c.clientY),this._startPos=cr(this._element),this._parentScale=ra(m);var v=i.type==="mousedown";yt(document,v?"mousemove":"touchmove",this._onMove,this),yt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var c=i.touches&&i.touches.length===1?i.touches[0]:i,m=new Me(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,En(i),this._moved||(this.fire("dragstart"),this._moved=!0,vt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),vt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),ln(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){on(document.body,"leaflet-dragging"),this._lastTarget&&(on(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),qt(document,"mousemove touchmove",this._onMove,this),qt(document,"mouseup touchend touchcancel",this._onUp,this),ta(),ho();var c=this._moved&&this._moving;this._moving=!1,Wi._dragging=!1,c&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Ju(i,c,m){var v,C=[1,4,2,8],T,W,he,ge,Ee,Ye,pt,Lt;for(T=0,Ye=i.length;T<Ye;T++)i[T]._code=mr(i[T],c);for(he=0;he<4;he++){for(pt=C[he],v=[],T=0,Ye=i.length,W=Ye-1;T<Ye;W=T++)ge=i[T],Ee=i[W],ge._code&pt?Ee._code&pt||(Lt=di(Ee,ge,pt,c,m),Lt._code=mr(Lt,c),v.push(Lt)):(Ee._code&pt&&(Lt=di(Ee,ge,pt,c,m),Lt._code=mr(Lt,c),v.push(Lt)),v.push(ge));i=v}return i}function Yu(i,c){var m,v,C,T,W,he,ge,Ee,Ye;if(!i||i.length===0)throw new Error("latlngs not passed");nn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var pt=mt([0,0]),Lt=Ut(i),Nn=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Nn<1700&&(pt=ca(i));var cn=i.length,hn=[];for(m=0;m<cn;m++){var Cn=mt(i[m]);hn.push(c.project(mt([Cn.lat-pt.lat,Cn.lng-pt.lng])))}for(he=ge=Ee=0,m=0,v=cn-1;m<cn;v=m++)C=hn[m],T=hn[v],W=C.y*T.x-T.y*C.x,ge+=(C.x+T.x)*W,Ee+=(C.y+T.y)*W,he+=W*3;he===0?Ye=hn[0]:Ye=[ge/he,Ee/he];var Yi=c.unproject(st(Ye));return mt([Yi.lat+pt.lat,Yi.lng+pt.lng])}function ca(i){for(var c=0,m=0,v=0,C=0;C<i.length;C++){var T=mt(i[C]);c+=T.lat,m+=T.lng,v++}return mt([c/v,m/v])}var nh={__proto__:null,clipPolygon:Ju,polygonCenter:Yu,centroid:ca};function ha(i,c){if(!c||!i.length)return i.slice();var m=c*c;return i=Rr(i,m),i=jn(i,m),i}function Xu(i,c,m){return Math.sqrt(_r(i,c,m,!0))}function Mn(i,c,m){return _r(i,c,m)}function jn(i,c){var m=i.length,v=typeof Uint8Array<"u"?Uint8Array:Array,C=new v(m);C[0]=C[m-1]=1,Xo(i,C,c,0,m-1);var T,W=[];for(T=0;T<m;T++)C[T]&&W.push(i[T]);return W}function Xo(i,c,m,v,C){var T=0,W,he,ge;for(he=v+1;he<=C-1;he++)ge=_r(i[he],i[v],i[C],!0),ge>T&&(W=he,T=ge);T>m&&(c[W]=1,Xo(i,c,m,v,W),Xo(i,c,m,W,C))}function Rr(i,c){for(var m=[i[0]],v=1,C=0,T=i.length;v<T;v++)ih(i[v],i[C])>c&&(m.push(i[v]),C=v);return C<T-1&&m.push(i[T-1]),m}var pr;function Or(i,c,m,v,C){var T=v?pr:mr(i,m),W=mr(c,m),he,ge,Ee;for(pr=W;;){if(!(T|W))return[i,c];if(T&W)return!1;he=T||W,ge=di(i,c,he,m,C),Ee=mr(ge,m),he===T?(i=ge,T=Ee):(c=ge,W=Ee)}}function di(i,c,m,v,C){var T=c.x-i.x,W=c.y-i.y,he=v.min,ge=v.max,Ee,Ye;return m&8?(Ee=i.x+T*(ge.y-i.y)/W,Ye=ge.y):m&4?(Ee=i.x+T*(he.y-i.y)/W,Ye=he.y):m&2?(Ee=ge.x,Ye=i.y+W*(ge.x-i.x)/T):m&1&&(Ee=he.x,Ye=i.y+W*(he.x-i.x)/T),new Me(Ee,Ye,C)}function mr(i,c){var m=0;return i.x<c.min.x?m|=1:i.x>c.max.x&&(m|=2),i.y<c.min.y?m|=4:i.y>c.max.y&&(m|=8),m}function ih(i,c){var m=c.x-i.x,v=c.y-i.y;return m*m+v*v}function _r(i,c,m,v){var C=c.x,T=c.y,W=m.x-C,he=m.y-T,ge=W*W+he*he,Ee;return ge>0&&(Ee=((i.x-C)*W+(i.y-T)*he)/ge,Ee>1?(C=m.x,T=m.y):Ee>0&&(C+=W*Ee,T+=he*Ee)),W=i.x-C,he=i.y-T,v?W*W+he*he:new Me(C,T)}function nn(i){return!z(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function da(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nn(i)}function _o(i,c){var m,v,C,T,W,he,ge,Ee;if(!i||i.length===0)throw new Error("latlngs not passed");nn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ye=mt([0,0]),pt=Ut(i),Lt=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());Lt<1700&&(Ye=ca(i));var Nn=i.length,cn=[];for(m=0;m<Nn;m++){var hn=mt(i[m]);cn.push(c.project(mt([hn.lat-Ye.lat,hn.lng-Ye.lng])))}for(m=0,v=0;m<Nn-1;m++)v+=cn[m].distanceTo(cn[m+1])/2;if(v===0)Ee=cn[0];else for(m=0,T=0;m<Nn-1;m++)if(W=cn[m],he=cn[m+1],C=W.distanceTo(he),T+=C,T>v){ge=(T-v)/C,Ee=[he.x-ge*(he.x-W.x),he.y-ge*(he.y-W.y)];break}var Cn=c.unproject(st(Ee));return mt([Cn.lat+Ye.lat,Cn.lng+Ye.lng])}var rh={__proto__:null,simplify:ha,pointToSegmentDistance:Xu,closestPointOnSegment:Mn,clipSegment:Or,_getEdgeIntersection:di,_getBitCode:mr,_sqClosestPointOnSegment:_r,isFlat:nn,_flat:da,polylineCenter:_o},ti={project:function(i){return new Me(i.lng,i.lat)},unproject:function(i){return new Pt(i.y,i.x)},bounds:new St([-180,-90],[180,90])},ni={R:6378137,R_MINOR:6356752314245179e-9,bounds:new St([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var c=Math.PI/180,m=this.R,v=i.lat*c,C=this.R_MINOR/m,T=Math.sqrt(1-C*C),W=T*Math.sin(v),he=Math.tan(Math.PI/4-v/2)/Math.pow((1-W)/(1+W),T/2);return v=-m*Math.log(Math.max(he,1e-10)),new Me(i.lng*c*m,v)},unproject:function(i){for(var c=180/Math.PI,m=this.R,v=this.R_MINOR/m,C=Math.sqrt(1-v*v),T=Math.exp(-i.y/m),W=Math.PI/2-2*Math.atan(T),he=0,ge=.1,Ee;he<15&&Math.abs(ge)>1e-7;he++)Ee=C*Math.sin(W),Ee=Math.pow((1-Ee)/(1+Ee),C/2),ge=Math.PI/2-2*Math.atan(T*Ee)-W,W+=ge;return new Pt(W*c,i.x*c/m)}},Qo={__proto__:null,LonLat:ti,Mercator:ni,SphericalMercator:tt},Qu=a({},qe,{code:"EPSG:3395",projection:ni,transformation:function(){var i=.5/(Math.PI*ni.R);return zt(i,.5,-i,.5)}()}),es=a({},qe,{code:"EPSG:4326",projection:ti,transformation:zt(1/180,1,-1/180,.5)}),go=a({},xe,{projection:ti,transformation:zt(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,c){var m=c.lng-i.lng,v=c.lat-i.lat;return Math.sqrt(m*m+v*v)},infinite:!0});xe.Earth=qe,xe.EPSG3395=Qu,xe.EPSG3857=V,xe.EPSG900913=K,xe.EPSG4326=es,xe.Simple=go;var fi=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[p(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[p(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var c=i.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Mt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var c=p(i);return this._layers[c]?this:(this._layers[c]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var c=p(i);return this._layers[c]?(this._loaded&&i.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return p(i)in this._layers},eachLayer:function(i,c){for(var m in this._layers)i.call(c,this._layers[m]);return this},_addLayers:function(i){i=i?z(i)?i:[i]:[];for(var c=0,m=i.length;c<m;c++)this.addLayer(i[c])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[p(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var c=p(i);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,c=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var C=this._zoomBoundLayers[v].options;i=C.minZoom===void 0?i:Math.min(i,C.minZoom),c=C.maxZoom===void 0?c:Math.max(c,C.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=i===1/0?void 0:i,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fr=fi.extend({initialize:function(i,c){j(this,c),this._layers={};var m,v;if(i)for(m=0,v=i.length;m<v;m++)this.addLayer(i[m])},addLayer:function(i){var c=this.getLayerId(i);return this._layers[c]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var c=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(i){var c=typeof i=="number"?i:this.getLayerId(i);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var c=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[i]&&v[i].apply(v,c);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,c){for(var m in this._layers)i.call(c,this._layers[m]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return p(i)}}),fa=function(i,c){return new Fr(i,c)},Oi=Fr.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Fr.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Fr.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new rn;for(var c in this._layers){var m=this._layers[c];i.extend(m.getBounds?m.getBounds():m.getLatLng())}return i}}),oh=function(i,c){return new Oi(i,c)},Ir=gt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){j(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,c){var m=this._getIconUrl(i);if(!m){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(v,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(i,c){var m=this.options,v=m[c+"Size"];typeof v=="number"&&(v=[v,v]);var C=st(v),T=st(c==="shadow"&&m.shadowAnchor||m.iconAnchor||C&&C.divideBy(2,!0));i.className="leaflet-marker-"+c+" "+(m.className||""),T&&(i.style.marginLeft=-T.x+"px",i.style.marginTop=-T.y+"px"),C&&(i.style.width=C.x+"px",i.style.height=C.y+"px")},_createImg:function(i,c){return c=c||document.createElement("img"),c.src=i,c},_getIconUrl:function(i){return at.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function sh(i){return new Ir(i)}var gr=Ir.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof gr.imagePath!="string"&&(gr.imagePath=this._detectIconPath()),(this.options.imagePath||gr.imagePath)+Ir.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var c=function(m,v,C){var T=v.exec(m);return T&&T[C]};return i=c(i,/^url\((['"])?(.+)\1\)$/,2),i&&c(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Ft("div","leaflet-default-icon-path",document.body),c=qi(i,"background-image")||qi(i,"backgroundImage");if(document.body.removeChild(i),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),el=xi.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Wi(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),vt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&on(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var c=this._marker,m=c._map,v=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,T=cr(c._icon),W=m.getPixelBounds(),he=m.getPixelOrigin(),ge=jt(W.min._subtract(he).add(C),W.max._subtract(he).subtract(C));if(!ge.contains(T)){var Ee=st((Math.max(ge.max.x,T.x)-ge.max.x)/(W.max.x-ge.max.x)-(Math.min(ge.min.x,T.x)-ge.min.x)/(W.min.x-ge.min.x),(Math.max(ge.max.y,T.y)-ge.max.y)/(W.max.y-ge.max.y)-(Math.min(ge.min.y,T.y)-ge.min.y)/(W.min.y-ge.min.y)).multiplyBy(v);m.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),ln(c._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Ve(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Pe(this._panRequest),this._panRequest=Ve(this._adjustPan.bind(this,i)))},_onDrag:function(i){var c=this._marker,m=c._shadow,v=cr(c._icon),C=c._map.layerPointToLatLng(v);m&&ln(m,v),c._latlng=C,i.latlng=C,i.oldLatLng=this._oldLatLng,c.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),ts=fi.extend({options:{icon:new gr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,c){j(this,c),this._latlng=mt(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var c=this._latlng;return this._latlng=mt(i),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=i.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,i.title&&(m.title=i.title),m.tagName==="IMG"&&(m.alt=i.alt||"")),vt(m,c),i.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(m,"focus",this._panOnFocus,this);var C=i.icon.createShadow(this._shadow),T=!1;C!==this._shadow&&(this._removeShadow(),T=!0),C&&(vt(C,c),C.alt=""),this._shadow=C,i.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&T&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qt(this._icon,"focus",this._panOnFocus,this),Yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Yt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&ln(this._icon,i),this._shadow&&ln(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var c=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(vt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),el)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new el(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&ei(this._icon,i),this._shadow&&ei(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var c=this.options.icon.options,m=c.iconSize?st(c.iconSize):st(0,0),v=c.iconAnchor?st(c.iconAnchor):st(0,0);i.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tl(i,c){return new ts(i,c)}var Gn=fi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return j(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yo=Gn.extend({options:{fill:!0,radius:10},initialize:function(i,c){j(this,c),this._latlng=mt(i),this._radius=this.options.radius},setLatLng:function(i){var c=this._latlng;return this._latlng=mt(i),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var c=i&&i.radius||this._radius;return Gn.prototype.setStyle.call(this,i),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,c=this._radiusY||i,m=this._clickTolerance(),v=[i+m,c+m];this._pxBounds=new St(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ah(i,c){return new yo(i,c)}var Fi=yo.extend({initialize:function(i,c,m){if(typeof c=="number"&&(c=a({},m,{radius:c})),j(this,c),this._latlng=mt(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new rn(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Gn.prototype.setStyle,_project:function(){var i=this._latlng.lng,c=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===qe.distance){var C=Math.PI/180,T=this._mRadius/qe.R/C,W=m.project([c+T,i]),he=m.project([c-T,i]),ge=W.add(he).divideBy(2),Ee=m.unproject(ge).lat,Ye=Math.acos((Math.cos(T*C)-Math.sin(c*C)*Math.sin(Ee*C))/(Math.cos(c*C)*Math.cos(Ee*C)))/C;(isNaN(Ye)||Ye===0)&&(Ye=T/Math.cos(Math.PI/180*c)),this._point=ge.subtract(m.getPixelOrigin()),this._radius=isNaN(Ye)?0:ge.x-m.project([Ee,i-Ye]).x,this._radiusY=ge.y-W.y}else{var pt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(pt).x}this._updateBounds()}});function uh(i,c,m){return new Fi(i,c,m)}var Ii=Gn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,c){j(this,c),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var c=1/0,m=null,v=_r,C,T,W=0,he=this._parts.length;W<he;W++)for(var ge=this._parts[W],Ee=1,Ye=ge.length;Ee<Ye;Ee++){C=ge[Ee-1],T=ge[Ee];var pt=v(i,C,T,!0);pt<c&&(c=pt,m=v(i,C,T))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _o(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,c){return c=c||this._defaultShape(),i=mt(i),c.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new rn,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var c=[],m=nn(i),v=0,C=i.length;v<C;v++)m?(c[v]=mt(i[v]),this._bounds.extend(c[v])):c[v]=this._convertLatLngs(i[v]);return c},_project:function(){var i=new St;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),c=new Me(i,i);this._rawPxBounds&&(this._pxBounds=new St([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(i,c,m){var v=i[0]instanceof Pt,C=i.length,T,W;if(v){for(W=[],T=0;T<C;T++)W[T]=this._map.latLngToLayerPoint(i[T]),m.extend(W[T]);c.push(W)}else for(T=0;T<C;T++)this._projectLatlngs(i[T],c,m)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,v,C,T,W,he,ge;for(m=0,C=0,T=this._rings.length;m<T;m++)for(ge=this._rings[m],v=0,W=ge.length;v<W-1;v++)he=Or(ge[v],ge[v+1],i,v,!0),he&&(c[C]=c[C]||[],c[C].push(he[0]),(he[1]!==ge[v+1]||v===W-2)&&(c[C].push(he[1]),C++))}},_simplifyPoints:function(){for(var i=this._parts,c=this.options.smoothFactor,m=0,v=i.length;m<v;m++)i[m]=ha(i[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,c){var m,v,C,T,W,he,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,T=this._parts.length;m<T;m++)for(he=this._parts[m],v=0,W=he.length,C=W-1;v<W;C=v++)if(!(!c&&v===0)&&Xu(i,he[C],he[v])<=ge)return!0;return!1}});function pa(i,c){return new Ii(i,c)}Ii._flat=da;var ki=Ii.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var c=Ii.prototype._convertLatLngs.call(this,i),m=c.length;return m>=2&&c[0]instanceof Pt&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(i){Ii.prototype._setLatLngs.call(this,i),nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,c=this.options.weight,m=new Me(c,c);if(i=new St(i.min.subtract(m),i.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,C=this._rings.length,T;v<C;v++)T=Ju(this._rings[v],i,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var c=!1,m,v,C,T,W,he,ge,Ee;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(T=0,ge=this._parts.length;T<ge;T++)for(m=this._parts[T],W=0,Ee=m.length,he=Ee-1;W<Ee;he=W++)v=m[W],C=m[he],v.y>i.y!=C.y>i.y&&i.x<(C.x-v.x)*(i.y-v.y)/(C.y-v.y)+v.x&&(c=!c);return c||Ii.prototype._containsPoint.call(this,i,!0)}});function lh(i,c){return new ki(i,c)}var Ni=Oi.extend({initialize:function(i,c){j(this,c),this._layers={},i&&this.addData(i)},addData:function(i){var c=z(i)?i:i.features,m,v,C;if(c){for(m=0,v=c.length;m<v;m++)C=c[m],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var T=this.options;if(T.filter&&!T.filter(i))return this;var W=ns(i,T);return W?(W.feature=vo(i),W.defaultOptions=W.options,this.resetStyle(W),T.onEachFeature&&T.onEachFeature(i,W),this.addLayer(W)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=a({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(c){this._setLayerStyle(c,i)},this)},_setLayerStyle:function(i,c){i.setStyle&&(typeof c=="function"&&(c=c(i.feature)),i.setStyle(c))}});function ns(i,c){var m=i.type==="Feature"?i.geometry:i,v=m?m.coordinates:null,C=[],T=c&&c.pointToLayer,W=c&&c.coordsToLatLng||_a,he,ge,Ee,Ye;if(!v&&!m)return null;switch(m.type){case"Point":return he=W(v),ma(T,i,he,c);case"MultiPoint":for(Ee=0,Ye=v.length;Ee<Ye;Ee++)he=W(v[Ee]),C.push(ma(T,i,he,c));return new Oi(C);case"LineString":case"MultiLineString":return ge=bo(v,m.type==="LineString"?0:1,W),new Ii(ge,c);case"Polygon":case"MultiPolygon":return ge=bo(v,m.type==="Polygon"?1:2,W),new ki(ge,c);case"GeometryCollection":for(Ee=0,Ye=m.geometries.length;Ee<Ye;Ee++){var pt=ns({geometry:m.geometries[Ee],type:"Feature",properties:i.properties},c);pt&&C.push(pt)}return new Oi(C);case"FeatureCollection":for(Ee=0,Ye=m.features.length;Ee<Ye;Ee++){var Lt=ns(m.features[Ee],c);Lt&&C.push(Lt)}return new Oi(C);default:throw new Error("Invalid GeoJSON object.")}}function ma(i,c,m,v){return i?i(c,m):new ts(m,v&&v.markersInheritOptions&&v)}function _a(i){return new Pt(i[1],i[0],i[2])}function bo(i,c,m){for(var v=[],C=0,T=i.length,W;C<T;C++)W=c?bo(i[C],c-1,m):(m||_a)(i[C]),v.push(W);return v}function ga(i,c){return i=mt(i),i.alt!==void 0?[E(i.lng,c),E(i.lat,c),E(i.alt,c)]:[E(i.lng,c),E(i.lat,c)]}function is(i,c,m,v){for(var C=[],T=0,W=i.length;T<W;T++)C.push(c?is(i[T],nn(i[T])?0:c-1,m,v):ga(i[T],v));return!c&&m&&C.length>0&&C.push(C[0].slice()),C}function Nr(i,c){return i.feature?a({},i.feature,{geometry:c}):vo(c)}function vo(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var xo={toGeoJSON:function(i){return Nr(this,{type:"Point",coordinates:ga(this.getLatLng(),i)})}};ts.include(xo),Fi.include(xo),yo.include(xo),Ii.include({toGeoJSON:function(i){var c=!nn(this._latlngs),m=is(this._latlngs,c?1:0,!1,i);return Nr(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),ki.include({toGeoJSON:function(i){var c=!nn(this._latlngs),m=c&&!nn(this._latlngs[0]),v=is(this._latlngs,m?2:c?1:0,!0,i);return c||(v=[v]),Nr(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),Fr.include({toMultiPoint:function(i){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(i).geometry.coordinates)}),Nr(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(i){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(i);var m=c==="GeometryCollection",v=[];return this.eachLayer(function(C){if(C.toGeoJSON){var T=C.toGeoJSON(i);if(m)v.push(T.geometry);else{var W=vo(T);W.type==="FeatureCollection"?v.push.apply(v,W.features):v.push(W)}}}),m?Nr(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function ya(i,c){return new Ni(i,c)}var ba=ya,rs=fi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,c,m){this._url=i,this._bounds=Ut(c),j(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(vt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Pr(this._image),this},bringToBack:function(){return this._map&&ur(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=Ut(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",c=this._image=i?this._url:Ft("img");if(vt(c,"leaflet-image-layer"),this._zoomAnimated&&vt(c,"leaflet-zoom-animated"),this.options.className&&vt(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onload=u(this.fire,this,"load"),c.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(i){var c=this._map.getZoomScale(i.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;lr(this._image,m,c)},_reset:function(){var i=this._image,c=new St(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();ln(i,c.min),i.style.width=m.x+"px",i.style.height=m.y+"px"},_updateOpacity:function(){ei(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),os=function(i,c,m){return new rs(i,c,m)},va=rs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",c=this._image=i?this._url:Ft("video");if(vt(c,"leaflet-image-layer"),this._zoomAnimated&&vt(c,"leaflet-zoom-animated"),this.options.className&&vt(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onloadeddata=u(this.fire,this,"load"),i){for(var m=c.getElementsByTagName("source"),v=[],C=0;C<m.length;C++)v.push(m[C].src);this._url=m.length>0?v:[c.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var W=Ft("source");W.src=this._url[T],c.appendChild(W)}}});function ch(i,c,m){return new va(i,c,m)}var nl=rs.extend({_initImage:function(){var i=this._image=this._url;vt(i,"leaflet-image-layer"),this._zoomAnimated&&vt(i,"leaflet-zoom-animated"),this.options.className&&vt(i,this.options.className),i.onselectstart=x,i.onmousemove=x}});function hh(i,c,m){return new nl(i,c,m)}var Vn=fi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,c){i&&(i instanceof Pt||z(i))?(this._latlng=mt(i),j(this,c)):(j(this,i),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&ei(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&ei(this._container,1),this.bringToFront(),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(ei(this._container,0),this._removeTimeout=setTimeout(u(Yt,void 0,this._container),200)):Yt(this._container),this.options.interactive&&(on(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=mt(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pr(this._container),this},bringToBack:function(){return this._map&&ur(this._container),this},_prepareOpen:function(i){var c=this._source;if(!c._map)return!1;if(c instanceof Oi){c=null;var m=this._source._layers;for(var v in m)if(m[v]._map){c=m[v];break}if(!c)return!1;this._source=c}if(!i)if(c.getCenter)i=c.getCenter();else if(c.getLatLng)i=c.getLatLng();else if(c.getBounds)i=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")i.innerHTML=c;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),c=st(this.options.offset),m=this._getAnchor();this._zoomAnimated?ln(this._container,i.add(m)):c=c.add(i).add(m);var v=this._containerBottom=-c.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=v+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Mt.include({_initOverlay:function(i,c,m,v){var C=c;return C instanceof i||(C=new i(v).setContent(c)),m&&C.setLatLng(m),C}}),fi.include({_initOverlay:function(i,c,m,v){var C=m;return C instanceof i?(j(C,v),C._source=this):(C=c&&!v?c:new i(v,this),C.setContent(m)),C}});var ss=Vn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Vn.prototype.openOn.call(this,i)},onAdd:function(i){Vn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gn||this._source.on("preclick",dr))},onRemove:function(i){Vn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gn||this._source.off("preclick",dr))},getEvents:function(){var i=Vn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",c=this._container=Ft("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Ft("div",i+"-content-wrapper",c);if(this._contentNode=Ft("div",i+"-content",m),po(c),aa(this._contentNode),yt(c,"contextmenu",dr),this._tipContainer=Ft("div",i+"-tip-container",c),this._tip=Ft("div",i+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Ft("a",i+"-close-button",c);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',yt(v,"click",function(C){En(C),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,c=i.style;c.width="",c.whiteSpace="nowrap";var m=i.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var v=i.offsetHeight,C=this.options.maxHeight,T="leaflet-popup-scrolled";C&&v>C?(c.height=C+"px",vt(i,T)):on(i,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var c=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),m=this._getAnchor();ln(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,c=parseInt(qi(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,v=this._containerWidth,C=new Me(this._containerLeft,-m-this._containerBottom);C._add(cr(this._container));var T=i.layerPointToContainerPoint(C),W=st(this.options.autoPanPadding),he=st(this.options.autoPanPaddingTopLeft||W),ge=st(this.options.autoPanPaddingBottomRight||W),Ee=i.getSize(),Ye=0,pt=0;T.x+v+ge.x>Ee.x&&(Ye=T.x+v-Ee.x+ge.x),T.x-Ye-he.x<0&&(Ye=T.x-he.x),T.y+m+ge.y>Ee.y&&(pt=T.y+m-Ee.y+ge.y),T.y-pt-he.y<0&&(pt=T.y-he.y),(Ye||pt)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Ye,pt]))}},_getAnchor:function(){return st(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),dh=function(i,c){return new ss(i,c)};Mt.mergeOptions({closePopupOnClick:!0}),Mt.include({openPopup:function(i,c,m){return this._initOverlay(ss,i,c,m).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),fi.include({bindPopup:function(i,c){return this._popup=this._initOverlay(ss,this._popup,i,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Oi||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){fr(i);var c=i.layer||i.target;if(this._popup._source===c&&!(c instanceof Gn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=c,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var as=Vn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Vn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Vn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Vn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",c=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ft("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var c,m,v=this._map,C=this._container,T=v.latLngToContainerPoint(v.getCenter()),W=v.layerPointToContainerPoint(i),he=this.options.direction,ge=C.offsetWidth,Ee=C.offsetHeight,Ye=st(this.options.offset),pt=this._getAnchor();he==="top"?(c=ge/2,m=Ee):he==="bottom"?(c=ge/2,m=0):he==="center"?(c=ge/2,m=Ee/2):he==="right"?(c=0,m=Ee/2):he==="left"?(c=ge,m=Ee/2):W.x<T.x?(he="right",c=0,m=Ee/2):(he="left",c=ge+(Ye.x+pt.x)*2,m=Ee/2),i=i.subtract(st(c,m,!0)).add(Ye).add(pt),on(C,"leaflet-tooltip-right"),on(C,"leaflet-tooltip-left"),on(C,"leaflet-tooltip-top"),on(C,"leaflet-tooltip-bottom"),vt(C,"leaflet-tooltip-"+he),ln(C,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&ei(this._container,i)},_animateZoom:function(i){var c=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(c)},_getAnchor:function(){return st(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fh=function(i,c){return new as(i,c)};Mt.include({openTooltip:function(i,c,m){return this._initOverlay(as,i,c,m).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),fi.include({bindTooltip:function(i,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(as,this._tooltip,i,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var c=i?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Oi||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var c=typeof i.getElement=="function"&&i.getElement();c&&(yt(c,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),yt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var c=typeof i.getElement=="function"&&i.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var c=i.latlng,m,v;this._tooltip.options.sticky&&i.originalEvent&&(m=this._map.mouseEventToContainerPoint(i.originalEvent),v=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(c)}});var il=Ir.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var c=i&&i.tagName==="DIV"?i:document.createElement("div"),m=this.options;if(m.html instanceof Element?(lo(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=st(m.bgPos);c.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function ph(i){return new il(i)}Ir.Default=gr;var ko=fi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:at.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){j(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Yt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ur(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof Me?i:new Me(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var c=this.getPane().children,m=-i(-1/0,1/0),v=0,C=c.length,T;v<C;v++)T=c[v].style.zIndex,c[v]!==this._container&&T&&(m=i(m,+T));isFinite(m)&&(this.options.zIndex=m+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!at.ielt9){ei(this._container,this.options.opacity);var i=+new Date,c=!1,m=!1;for(var v in this._tiles){var C=this._tiles[v];if(!(!C.current||!C.loaded)){var T=Math.min(1,(i-C.loaded)/200);ei(C.el,T),T<1?c=!0:(C.active?m=!0:this._onOpaqueTile(C),C.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(Pe(this._fadeFrame),this._fadeFrame=Ve(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,c=this.options.maxZoom;if(i!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===i?(this._levels[m].el.style.zIndex=c-Math.abs(i-m),this._onUpdateLevel(m)):(Yt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[i],C=this._map;return v||(v=this._levels[i]={},v.el=Ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=c,v.origin=C.project(C.unproject(C.getPixelOrigin()),i).round(),v.zoom=i,this._setZoomTransform(v,C.getCenter(),C.getZoom()),x(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var i,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)c=this._tiles[i],c.retain=c.current;for(i in this._tiles)if(c=this._tiles[i],c.current&&!c.active){var v=c.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var c in this._tiles)this._tiles[c].coords.z===i&&this._removeTile(c)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Yt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,c,m,v){var C=Math.floor(i/2),T=Math.floor(c/2),W=m-1,he=new Me(+C,+T);he.z=+W;var ge=this._tileCoordsToKey(he),Ee=this._tiles[ge];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),W>v?this._retainParent(C,T,W,v):!1)},_retainChildren:function(i,c,m,v){for(var C=2*i;C<2*i+2;C++)for(var T=2*c;T<2*c+2;T++){var W=new Me(C,T);W.z=m+1;var he=this._tileCoordsToKey(W),ge=this._tiles[he];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);m+1<v&&this._retainChildren(C,T,m+1,v)}},_resetView:function(i){var c=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var c=this.options;return c.minNativeZoom!==void 0&&i<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<i?c.maxNativeZoom:i},_setView:function(i,c,m,v){var C=Math.round(c);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var T=this.options.updateWhenZooming&&C!==this._tileZoom;(!v||T)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(i),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(i,c)},_setZoomTransforms:function(i,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],i,c)},_setZoomTransform:function(i,c,m){var v=this._map.getZoomScale(m,i.zoom),C=i.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(c,m)).round();at.any3d?lr(i.el,C,v):ln(i.el,C)},_resetGrid:function(){var i=this._map,c=i.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,c.wrapLng[0]],v).x/m.x),Math.ceil(i.project([0,c.wrapLng[1]],v).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([c.wrapLat[0],0],v).y/m.x),Math.ceil(i.project([c.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),v=c.getZoomScale(m,this._tileZoom),C=c.project(i,this._tileZoom).floor(),T=c.getSize().divideBy(v*2);return new St(C.subtract(T),C.add(T))},_update:function(i){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(i===void 0&&(i=c.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(i),C=this._pxBoundsToTileRange(v),T=C.getCenter(),W=[],he=this.options.keepBuffer,ge=new St(C.getBottomLeft().subtract([he,-he]),C.getTopRight().add([he,-he]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var Ye=this._tiles[Ee].coords;(Ye.z!==this._tileZoom||!ge.contains(new Me(Ye.x,Ye.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(i,m);return}for(var pt=C.min.y;pt<=C.max.y;pt++)for(var Lt=C.min.x;Lt<=C.max.x;Lt++){var Nn=new Me(Lt,pt);if(Nn.z=this._tileZoom,!!this._isValidTile(Nn)){var cn=this._tiles[this._tileCoordsToKey(Nn)];cn?cn.current=!0:W.push(Nn)}}if(W.sort(function(Cn,Yi){return Cn.distanceTo(T)-Yi.distanceTo(T)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var hn=document.createDocumentFragment();for(Lt=0;Lt<W.length;Lt++)this._addTile(W[Lt],hn);this._level.el.appendChild(hn)}}}},_isValidTile:function(i){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(i.x<m.min.x||i.x>m.max.x)||!c.wrapLat&&(i.y<m.min.y||i.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(i);return Ut(this.options.bounds).overlaps(v)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var c=this._map,m=this.getTileSize(),v=i.scaleBy(m),C=v.add(m),T=c.unproject(v,i.z),W=c.unproject(C,i.z);return[T,W]},_tileCoordsToBounds:function(i){var c=this._tileCoordsToNwSe(i),m=new rn(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var c=i.split(":"),m=new Me(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(i){var c=this._tiles[i];c&&(Yt(c.el),delete this._tiles[i],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){vt(i,"leaflet-tile");var c=this.getTileSize();i.style.width=c.x+"px",i.style.height=c.y+"px",i.onselectstart=x,i.onmousemove=x,at.ielt9&&this.options.opacity<1&&ei(i,this.options.opacity)},_addTile:function(i,c){var m=this._getTilePos(i),v=this._tileCoordsToKey(i),C=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(C),this.createTile.length<2&&Ve(u(this._tileReady,this,i,null,C)),ln(C,m),this._tiles[v]={el:C,coords:i,current:!0},c.appendChild(C),this.fire("tileloadstart",{tile:C,coords:i})},_tileReady:function(i,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:i});var v=this._tileCoordsToKey(i);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(ei(m.el,0),Pe(this._fadeFrame),this._fadeFrame=Ve(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(vt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),at.ielt9||!this._map._fadeAnimated?Ve(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var c=new Me(this._wrapX?y(i.x,this._wrapX):i.x,this._wrapY?y(i.y,this._wrapY):i.y);return c.z=i.z,c},_pxBoundsToTileRange:function(i){var c=this.getTileSize();return new St(i.min.unscaleBy(c).floor(),i.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function mh(i){return new ko(i)}var yr=ko.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,c){this._url=i,c=j(this,c),c.detectRetina&&at.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,c){return this._url===i&&c===void 0&&(c=!0),this._url=i,c||this.redraw(),this},createTile:function(i,c){var m=document.createElement("img");return yt(m,"load",u(this._tileOnLoad,this,c,m)),yt(m,"error",u(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(i),m},getTileUrl:function(i){var c={r:at.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-i.y;this.options.tms&&(c.y=m),c["-y"]=m}return te(this._url,a(c,this.options))},_tileOnLoad:function(i,c){at.ielt9?setTimeout(u(i,this,null,c),0):i(null,c)},_tileOnError:function(i,c,m){var v=this.options.errorTileUrl;v&&c.getAttribute("src")!==v&&(c.src=v),i(m,c)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(i=c-i),i+v},_getSubdomain:function(i){var c=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var i,c;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(c=this._tiles[i].el,c.onload=x,c.onerror=x,!c.complete)){c.src=re;var m=this._tiles[i].coords;Yt(c),delete this._tiles[i],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(i){var c=this._tiles[i];if(c)return c.el.setAttribute("src",re),ko.prototype._removeTile.call(this,i)},_tileReady:function(i,c,m){if(!(!this._map||m&&m.getAttribute("src")===re))return ko.prototype._tileReady.call(this,i,c,m)}});function us(i,c){return new yr(i,c)}var rl=yr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,c){this._url=i;var m=a({},this.defaultWmsParams);for(var v in c)v in this.options||(m[v]=c[v]);c=j(this,c);var C=c.detectRetina&&at.retina?2:1,T=this.getTileSize();m.width=T.x*C,m.height=T.y*C,this.wmsParams=m},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,yr.prototype.onAdd.call(this,i)},getTileUrl:function(i){var c=this._tileCoordsToNwSe(i),m=this._crs,v=jt(m.project(c[0]),m.project(c[1])),C=v.min,T=v.max,W=(this._wmsVersion>=1.3&&this._crs===es?[C.y,C.x,T.y,T.x]:[C.x,C.y,T.x,T.y]).join(","),he=yr.prototype.getTileUrl.call(this,i);return he+Q(this.wmsParams,he,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(i,c){return a(this.wmsParams,i),c||this.redraw(),this}});function _h(i,c){return new rl(i,c)}yr.WMS=rl,us.wms=_h;var Ci=fi.extend({options:{padding:.1},initialize:function(i){j(this,i),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),vt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,c){var m=this._map.getZoomScale(c,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,c),T=v.multiplyBy(-m).add(C).subtract(this._map._getNewPixelOrigin(i,c));at.any3d?lr(this._container,T,m):ln(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-i)).round();this._bounds=new St(m,m.add(c.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ls=Ci.extend({options:{tolerance:0},getEvents:function(){var i=Ci.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ci.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");yt(i,"mousemove",this._onMouseMove,this),yt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),yt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Pe(this._redrawRequest),delete this._ctx,Yt(this._container),qt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var c in this._layers)i=this._layers[c],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ci.prototype._update.call(this);var i=this._bounds,c=this._container,m=i.getSize(),v=at.retina?2:1;ln(c,i.min),c.width=v*m.x,c.height=v*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",at.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Ci.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[p(i)]=i;var c=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var c=i._order,m=c.next,v=c.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete i._order,delete this._layers[p(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var c=i.options.dashArray.split(/[, ]+/),m=[],v,C;for(C=0;C<c.length;C++){if(v=Number(c[C]),isNaN(v))return;m.push(v)}i.options._dashArray=m}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Ve(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var c=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new St,this._redrawBounds.extend(i._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(i._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var c=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)i=v.layer,(!c||i._pxBounds&&i._pxBounds.intersects(c))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,c){if(this._drawing){var m,v,C,T,W=i._parts,he=W.length,ge=this._ctx;if(he){for(ge.beginPath(),m=0;m<he;m++){for(v=0,C=W[m].length;v<C;v++)T=W[m][v],ge[v?"lineTo":"moveTo"](T.x,T.y);c&&ge.closePath()}this._fillStroke(ge,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var c=i._point,m=this._ctx,v=Math.max(Math.round(i._radius),1),C=(Math.max(Math.round(i._radiusY),1)||v)/v;C!==1&&(m.save(),m.scale(1,C)),m.beginPath(),m.arc(c.x,c.y/C,v,0,Math.PI*2,!1),C!==1&&m.restore(),this._fillStroke(m,i)}},_fillStroke:function(i,c){var m=c.options;m.fill&&(i.globalAlpha=m.fillOpacity,i.fillStyle=m.fillColor||m.color,i.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(i.setLineDash&&i.setLineDash(c.options&&c.options._dashArray||[]),i.globalAlpha=m.opacity,i.lineWidth=m.weight,i.strokeStyle=m.color,i.lineCap=m.lineCap,i.lineJoin=m.lineJoin,i.stroke())},_onClick:function(i){for(var c=this._map.mouseEventToLayerPoint(i),m,v,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(c)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,c)}},_handleMouseOut:function(i){var c=this._hoveredLayer;c&&(on(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,c){if(!this._mouseHoverThrottled){for(var m,v,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(c)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(i),v&&(vt(this._container,"leaflet-interactive"),this._fireEvent([v],i,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,c,m){this._map._fireDOMEvent(c,m||c.type,i)},_bringToFront:function(i){var c=i._order;if(c){var m=c.next,v=c.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(i)}},_bringToBack:function(i){var c=i._order;if(c){var m=c.next,v=c.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(i)}}});function ol(i){return at.canvas?new ls(i):null}var Co=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xa={_initContainer:function(){this._container=Ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ci.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var c=i._container=Co("shape");vt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",i._path=Co("path"),c.appendChild(i._path),this._updateStyle(i),this._layers[p(i)]=i},_addPath:function(i){var c=i._container;this._container.appendChild(c),i.options.interactive&&i.addInteractiveTarget(c)},_removePath:function(i){var c=i._container;Yt(c),i.removeInteractiveTarget(c),delete this._layers[p(i)]},_updateStyle:function(i){var c=i._stroke,m=i._fill,v=i.options,C=i._container;C.stroked=!!v.stroke,C.filled=!!v.fill,v.stroke?(c||(c=i._stroke=Co("stroke")),C.appendChild(c),c.weight=v.weight+"px",c.color=v.color,c.opacity=v.opacity,v.dashArray?c.dashStyle=z(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=v.lineCap.replace("butt","flat"),c.joinstyle=v.lineJoin):c&&(C.removeChild(c),i._stroke=null),v.fill?(m||(m=i._fill=Co("fill")),C.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(C.removeChild(m),i._fill=null)},_updateCircle:function(i){var c=i._point.round(),m=Math.round(i._radius),v=Math.round(i._radiusY||m);this._setPath(i,i._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(i,c){i._path.v=c},_bringToFront:function(i){Pr(i._container)},_bringToBack:function(i){ur(i._container)}},In=at.vml?Co:pe,kn=Ci.extend({_initContainer:function(){this._container=In("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=In("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Yt(this._container),qt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ci.prototype._update.call(this);var i=this._bounds,c=i.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),ln(m,i.min),m.setAttribute("viewBox",[i.min.x,i.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(i){var c=i._path=In("path");i.options.className&&vt(c,i.options.className),i.options.interactive&&vt(c,"leaflet-interactive"),this._updateStyle(i),this._layers[p(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Yt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[p(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var c=i._path,m=i.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(i,c){this._setPath(i,Ae(i._parts,c))},_updateCircle:function(i){var c=i._point,m=Math.max(Math.round(i._radius),1),v=Math.max(Math.round(i._radiusY),1)||m,C="a"+m+","+v+" 0 1,0 ",T=i._empty()?"M0 0":"M"+(c.x-m)+","+c.y+C+m*2+",0 "+C+-m*2+",0 ";this._setPath(i,T)},_setPath:function(i,c){i._path.setAttribute("d",c)},_bringToFront:function(i){Pr(i._path)},_bringToBack:function(i){ur(i._path)}});at.vml&&kn.include(xa);function ka(i){return at.svg||at.vml?new kn(i):null}Mt.include({getRenderer:function(i){var c=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var c=this._paneRenderers[i];return c===void 0&&(c=this._createRenderer({pane:i}),this._paneRenderers[i]=c),c},_createRenderer:function(i){return this.options.preferCanvas&&ol(i)||ka(i)}});var ii=ki.extend({initialize:function(i,c){ki.prototype.initialize.call(this,this._boundsToLatLngs(i),c)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=Ut(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function _t(i,c){return new ii(i,c)}kn.create=In,kn.pointsToPath=Ae,Ni.geometryToLayer=ns,Ni.coordsToLatLng=_a,Ni.coordsToLatLngs=bo,Ni.latLngToCoords=ga,Ni.latLngsToCoords=is,Ni.getFeature=Nr,Ni.asFeature=vo,Mt.mergeOptions({boxZoom:!0});var cs=xi.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),co(),ea(),this._startPoint=this._map.mouseEventToContainerPoint(i),yt(document,{contextmenu:fr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Ft("div","leaflet-zoom-box",this._container),vt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var c=new St(this._point,this._startPoint),m=c.getSize();ln(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Yt(this._box),on(this._container,"leaflet-crosshair")),ho(),ta(),qt(document,{contextmenu:fr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var c=new rn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mt.addInitHook("addHandler","boxZoom",cs),Mt.mergeOptions({doubleClickZoom:!0});var hs=xi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var c=this._map,m=c.getZoom(),v=c.options.zoomDelta,C=i.originalEvent.shiftKey?m-v:m+v;c.options.doubleClickZoom==="center"?c.setZoom(C):c.setZoomAround(i.containerPoint,C)}});Mt.addInitHook("addHandler","doubleClickZoom",hs),Mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zi=xi.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Wi(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}vt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){on(this._map._container,"leaflet-grab"),on(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Ut(this._map.options.maxBounds);this._offsetLimit=jt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,c){return i-(i-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;i.x<c.min.x&&(i.x=this._viscousLimit(i.x,c.min.x)),i.y<c.min.y&&(i.y=this._viscousLimit(i.y,c.min.y)),i.x>c.max.x&&(i.x=this._viscousLimit(i.x,c.max.x)),i.y>c.max.y&&(i.y=this._viscousLimit(i.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,c=Math.round(i/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,C=(v-c+m)%i+c-m,T=(v+c+m)%i-c-m,W=Math.abs(C+m)<Math.abs(T+m)?C:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(i){var c=this._map,m=c.options,v=!m.inertia||i.noInertia||this._times.length<2;if(c.fire("dragend",i),v)c.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,W=m.easeLinearity,he=C.multiplyBy(W/T),ge=he.distanceTo([0,0]),Ee=Math.min(m.inertiaMaxSpeed,ge),Ye=he.multiplyBy(Ee/ge),pt=Ee/(m.inertiaDeceleration*W),Lt=Ye.multiplyBy(-pt/2).round();!Lt.x&&!Lt.y?c.fire("moveend"):(Lt=c._limitOffset(Lt,c.options.maxBounds),Ve(function(){c.panBy(Lt,{duration:pt,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});Mt.addInitHook("addHandler","dragging",zi),Mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var mn=xi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),yt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,c=document.documentElement,m=i.scrollTop||c.scrollTop,v=i.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var c=this._panKeys={},m=this.keyCodes,v,C;for(v=0,C=m.left.length;v<C;v++)c[m.left[v]]=[-1*i,0];for(v=0,C=m.right.length;v<C;v++)c[m.right[v]]=[i,0];for(v=0,C=m.down.length;v<C;v++)c[m.down[v]]=[0,i];for(v=0,C=m.up.length;v<C;v++)c[m.up[v]]=[0,-1*i]},_setZoomDelta:function(i){var c=this._zoomKeys={},m=this.keyCodes,v,C;for(v=0,C=m.zoomIn.length;v<C;v++)c[m.zoomIn[v]]=i;for(v=0,C=m.zoomOut.length;v<C;v++)c[m.zoomOut[v]]=-i},_addHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var c=i.keyCode,m=this._map,v;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[c],i.shiftKey&&(v=st(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(st(v),m.options.maxBounds)),m.options.worldCopyJump){var C=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(C)}else m.panBy(v)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;fr(i)}}});Mt.addInitHook("addHandler","keyboard",mn),Mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ca=xi.extend({addHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var c=$u(i),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),v),fr(i)},_performZoom:function(){var i=this._map,c=i.getZoom(),m=this._map.options.zoomSnap||0;i._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,T=m?Math.ceil(C/m)*m:C,W=i._limitZoom(c+(this._delta>0?T:-T))-c;this._delta=0,this._startTime=null,W&&(i.options.scrollWheelZoom==="center"?i.setZoom(c+W):i.setZoomAround(this._lastMousePos,c+W))}});Mt.addInitHook("addHandler","scrollWheelZoom",Ca);var ri=600;Mt.mergeOptions({tapHold:at.touchNative&&at.safari&&at.mobile,tapTolerance:15});var Kn=xi.extend({addHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var c=i.touches[0];this._startPos=this._newPos=new Me(c.clientX,c.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(yt(document,"touchend",En),yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),ri),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){qt(document,"touchend",En),qt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),qt(document,"touchend touchcancel contextmenu",this._cancel,this),qt(document,"touchmove",this._onMove,this)},_onMove:function(i){var c=i.touches[0];this._newPos=new Me(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,c){var m=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Mt.addInitHook("addHandler","tapHold",Kn),Mt.mergeOptions({touchZoom:at.touch,bounceAtZoomLimits:!0});var Ji=xi.extend({addHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){on(this._map._container,"leaflet-touch-zoom"),qt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var c=this._map;if(!(!i.touches||i.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(i.touches[0]),v=c.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),En(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(i.touches[0]),v=c.mouseEventToContainerPoint(i.touches[1]),C=m.distanceTo(v)/this._startDist;if(this._zoom=c.getScaleZoom(C,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&C<1||this._zoom>c.getMaxZoom()&&C>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var T=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(C===1&&T.x===0&&T.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Pe(this._animRequest);var W=u(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ve(W,this,!0),En(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Pe(this._animRequest),qt(document,"touchmove",this._onTouchMove,this),qt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mt.addInitHook("addHandler","touchZoom",Ji),Mt.BoxZoom=cs,Mt.DoubleClickZoom=hs,Mt.Drag=zi,Mt.Keyboard=mn,Mt.ScrollWheelZoom=Ca,Mt.TapHold=Kn,Mt.TouchZoom=Ji,n.Bounds=St,n.Browser=at,n.CRS=xe,n.Canvas=ls,n.Circle=Fi,n.CircleMarker=yo,n.Class=gt,n.Control=Zn,n.DivIcon=il,n.DivOverlay=Vn,n.DomEvent=Qc,n.DomUtil=Yc,n.Draggable=Wi,n.Evented=it,n.FeatureGroup=Oi,n.GeoJSON=Ni,n.GridLayer=ko,n.Handler=xi,n.Icon=Ir,n.ImageOverlay=rs,n.LatLng=Pt,n.LatLngBounds=rn,n.Layer=fi,n.LayerGroup=Fr,n.LineUtil=rh,n.Map=Mt,n.Marker=ts,n.Mixin=th,n.Path=Gn,n.Point=Me,n.PolyUtil=nh,n.Polygon=ki,n.Polyline=Ii,n.Popup=ss,n.PosAnimation=qu,n.Projection=Qo,n.Rectangle=ii,n.Renderer=Ci,n.SVG=kn,n.SVGOverlay=nl,n.TileLayer=yr,n.Tooltip=as,n.Transformation=Bt,n.Util=ot,n.VideoOverlay=va,n.bind=u,n.bounds=jt,n.canvas=ol,n.circle=uh,n.circleMarker=ah,n.control=Zi,n.divIcon=ph,n.extend=a,n.featureGroup=oh,n.geoJSON=ya,n.geoJson=ba,n.gridLayer=mh,n.icon=sh,n.imageOverlay=os,n.latLng=mt,n.latLngBounds=Ut,n.layerGroup=fa,n.map=Dt,n.marker=tl,n.point=st,n.polygon=lh,n.polyline=pa,n.popup=dh,n.rectangle=_t,n.setOptions=j,n.stamp=p,n.svg=ka,n.svgOverlay=hh,n.tileLayer=us,n.tooltip=fh,n.transformation=zt,n.version=r,n.videoOverlay=ch;var tn=window.L;n.noConflict=function(){return window.L=tn,this},window.L=n})})(Fd,Fd.exports);var z8=Fd.exports;const oi=N8(z8),j8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",G8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",V8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",H8={className:"bg-map-asserted rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},U8={className:"bg-map-collection-object rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},L1={className:"bg-map-georeference rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},$8={className:"bg-map-type-material map-point-marker rounded-full",iconSize:[8,8],iconAnchor:[4,4]},q8=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:H8,CollectionObject:U8,Georeference:L1,TypeMaterial:$8},Symbol.toStringTag,{value:"Module"})),Z8={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},K8={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},W8={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},J8={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},J0=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:Z8,AssertedDistribution:K8,CollectionObject:W8,TypeMaterial:J8},Symbol.toStringTag,{value:"Module"})),Y0=[$4,q_,q4,Z4,K4];function X0(e){const t=e.map(n=>n.type);return t.sort((n,r)=>Y0.indexOf(n)-Y0.indexOf(r)),t[0]}const Y8=({L:e})=>({onEachFeature:(t,n)=>{n.pm.setOptions(Od),n.pm.disable()},pointToLayer:(t,n)=>{const r=X0(t.properties.base),a=q8[r]||L1,o=e.marker(n,{icon:e.divIcon(a)});return o.pm.setOptions(Od),o},style:t=>{var r;const n=X0((r=t.properties)==null?void 0:r.base);if(J0[n])return J0[n]}});(()=>{var zf,jf;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(s,l)=>()=>(l||s((l={exports:{}}).exports,l),l.exports),d=(s,l,h,f)=>{if(l&&typeof l=="object"||typeof l=="function")for(let _ of r(l))!o.call(s,_)&&_!==h&&t(s,_,{get:()=>l[_],enumerable:!(f=n(l,_))||f.enumerable});return s},p=(s,l,h)=>(h=s!=null?e(a(s)):{},d(l||!s||!s.__esModule?t(h,"default",{value:s,enumerable:!0}):h,s)),g=u((s,l)=>{function h(){this.__data__=[],this.size=0}l.exports=h}),y=u((s,l)=>{function h(f,_){return f===_||f!==f&&_!==_}l.exports=h}),x=u((s,l)=>{var h=y();function f(_,b){for(var k=_.length;k--;)if(h(_[k][0],b))return k;return-1}l.exports=f}),E=u((s,l)=>{var h=x(),f=Array.prototype,_=f.splice;function b(k){var w=this.__data__,M=h(w,k);if(M<0)return!1;var P=w.length-1;return M==P?w.pop():_.call(w,M,1),--this.size,!0}l.exports=b}),A=u((s,l)=>{var h=x();function f(_){var b=this.__data__,k=h(b,_);return k<0?void 0:b[k][1]}l.exports=f}),B=u((s,l)=>{var h=x();function f(_){return h(this.__data__,_)>-1}l.exports=f}),j=u((s,l)=>{var h=x();function f(_,b){var k=this.__data__,w=h(k,_);return w<0?(++this.size,k.push([_,b])):k[w][1]=b,this}l.exports=f}),Q=u((s,l)=>{var h=g(),f=E(),_=A(),b=B(),k=j();function w(M){var P=-1,U=M==null?0:M.length;for(this.clear();++P<U;){var G=M[P];this.set(G[0],G[1])}}w.prototype.clear=h,w.prototype.delete=f,w.prototype.get=_,w.prototype.has=b,w.prototype.set=k,l.exports=w}),se=u((s,l)=>{var h=Q();function f(){this.__data__=new h,this.size=0}l.exports=f}),te=u((s,l)=>{function h(f){var _=this.__data__,b=_.delete(f);return this.size=_.size,b}l.exports=h}),z=u((s,l)=>{function h(f){return this.__data__.get(f)}l.exports=h}),Z=u((s,l)=>{function h(f){return this.__data__.has(f)}l.exports=h}),re=u((s,l)=>{var h=typeof Ls=="object"&&Ls&&Ls.Object===Object&&Ls;l.exports=h}),ye=u((s,l)=>{var h=re(),f=typeof self=="object"&&self&&self.Object===Object&&self,_=h||f||Function("return this")();l.exports=_}),De=u((s,l)=>{var h=ye(),f=h.Symbol;l.exports=f}),Re=u((s,l)=>{var h=De(),f=Object.prototype,_=f.hasOwnProperty,b=f.toString,k=h?h.toStringTag:void 0;function w(M){var P=_.call(M,k),U=M[k];try{M[k]=void 0;var G=!0}catch{}var ce=b.call(M);return G&&(P?M[k]=U:delete M[k]),ce}l.exports=w}),we=u((s,l)=>{var h=Object.prototype,f=h.toString;function _(b){return f.call(b)}l.exports=_}),Te=u((s,l)=>{var h=De(),f=Re(),_=we(),b="[object Null]",k="[object Undefined]",w=h?h.toStringTag:void 0;function M(P){return P==null?P===void 0?k:b:w&&w in Object(P)?f(P):_(P)}l.exports=M}),Ve=u((s,l)=>{function h(f){var _=typeof f;return f!=null&&(_=="object"||_=="function")}l.exports=h}),Pe=u((s,l)=>{var h=Te(),f=Ve(),_="[object AsyncFunction]",b="[object Function]",k="[object GeneratorFunction]",w="[object Proxy]";function M(P){if(!f(P))return!1;var U=h(P);return U==b||U==k||U==_||U==w}l.exports=M}),ot=u((s,l)=>{var h=ye(),f=h["__core-js_shared__"];l.exports=f}),gt=u((s,l)=>{var h=ot(),f=function(){var b=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}();function _(b){return!!f&&f in b}l.exports=_}),At=u((s,l)=>{var h=Function.prototype,f=h.toString;function _(b){if(b!=null){try{return f.call(b)}catch{}try{return b+""}catch{}}return""}l.exports=_}),Ue=u((s,l)=>{var h=Pe(),f=gt(),_=Ve(),b=At(),k=/[\\^$.*+?()[\]{}|]/g,w=/^\[object .+?Constructor\]$/,M=Function.prototype,P=Object.prototype,U=M.toString,G=P.hasOwnProperty,ce=RegExp("^"+U.call(G).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _e(Be){if(!_(Be)||f(Be))return!1;var Ke=h(Be)?ce:w;return Ke.test(b(Be))}l.exports=_e}),it=u((s,l)=>{function h(f,_){return f==null?void 0:f[_]}l.exports=h}),Me=u((s,l)=>{var h=Ue(),f=it();function _(b,k){var w=f(b,k);return h(w)?w:void 0}l.exports=_}),en=u((s,l)=>{var h=Me(),f=ye(),_=h(f,"Map");l.exports=_}),st=u((s,l)=>{var h=Me(),f=h(Object,"create");l.exports=f}),St=u((s,l)=>{var h=st();function f(){this.__data__=h?h(null):{},this.size=0}l.exports=f}),jt=u((s,l)=>{function h(f){var _=this.has(f)&&delete this.__data__[f];return this.size-=_?1:0,_}l.exports=h}),rn=u((s,l)=>{var h=st(),f="__lodash_hash_undefined__",_=Object.prototype,b=_.hasOwnProperty;function k(w){var M=this.__data__;if(h){var P=M[w];return P===f?void 0:P}return b.call(M,w)?M[w]:void 0}l.exports=k}),Ut=u((s,l)=>{var h=st(),f=Object.prototype,_=f.hasOwnProperty;function b(k){var w=this.__data__;return h?w[k]!==void 0:_.call(w,k)}l.exports=b}),Pt=u((s,l)=>{var h=st(),f="__lodash_hash_undefined__";function _(b,k){var w=this.__data__;return this.size+=this.has(b)?0:1,w[b]=h&&k===void 0?f:k,this}l.exports=_}),mt=u((s,l)=>{var h=St(),f=jt(),_=rn(),b=Ut(),k=Pt();function w(M){var P=-1,U=M==null?0:M.length;for(this.clear();++P<U;){var G=M[P];this.set(G[0],G[1])}}w.prototype.clear=h,w.prototype.delete=f,w.prototype.get=_,w.prototype.has=b,w.prototype.set=k,l.exports=w}),xe=u((s,l)=>{var h=mt(),f=Q(),_=en();function b(){this.size=0,this.__data__={hash:new h,map:new(_||f),string:new h}}l.exports=b}),qe=u((s,l)=>{function h(f){var _=typeof f;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?f!=="__proto__":f===null}l.exports=h}),He=u((s,l)=>{var h=qe();function f(_,b){var k=_.__data__;return h(b)?k[typeof b=="string"?"string":"hash"]:k.map}l.exports=f}),tt=u((s,l)=>{var h=He();function f(_){var b=h(this,_).delete(_);return this.size-=b?1:0,b}l.exports=f}),Bt=u((s,l)=>{var h=He();function f(_){return h(this,_).get(_)}l.exports=f}),zt=u((s,l)=>{var h=He();function f(_){return h(this,_).has(_)}l.exports=f}),V=u((s,l)=>{var h=He();function f(_,b){var k=h(this,_),w=k.size;return k.set(_,b),this.size+=k.size==w?0:1,this}l.exports=f}),K=u((s,l)=>{var h=xe(),f=tt(),_=Bt(),b=zt(),k=V();function w(M){var P=-1,U=M==null?0:M.length;for(this.clear();++P<U;){var G=M[P];this.set(G[0],G[1])}}w.prototype.clear=h,w.prototype.delete=f,w.prototype.get=_,w.prototype.has=b,w.prototype.set=k,l.exports=w}),pe=u((s,l)=>{var h=Q(),f=en(),_=K(),b=200;function k(w,M){var P=this.__data__;if(P instanceof h){var U=P.__data__;if(!f||U.length<b-1)return U.push([w,M]),this.size=++P.size,this;P=this.__data__=new _(U)}return P.set(w,M),this.size=P.size,this}l.exports=k}),Ae=u((s,l)=>{var h=Q(),f=se(),_=te(),b=z(),k=Z(),w=pe();function M(P){var U=this.__data__=new h(P);this.size=U.size}M.prototype.clear=f,M.prototype.delete=_,M.prototype.get=b,M.prototype.has=k,M.prototype.set=w,l.exports=M}),ke=u((s,l)=>{var h=Me(),f=function(){try{var _=h(Object,"defineProperty");return _({},"",{}),_}catch{}}();l.exports=f}),Se=u((s,l)=>{var h=ke();function f(_,b,k){b=="__proto__"&&h?h(_,b,{configurable:!0,enumerable:!0,value:k,writable:!0}):_[b]=k}l.exports=f}),$e=u((s,l)=>{var h=Se(),f=y();function _(b,k,w){(w!==void 0&&!f(b[k],w)||w===void 0&&!(k in b))&&h(b,k,w)}l.exports=_}),je=u((s,l)=>{function h(f){return function(_,b,k){for(var w=-1,M=Object(_),P=k(_),U=P.length;U--;){var G=P[f?U:++w];if(b(M[G],G,M)===!1)break}return _}}l.exports=h}),Ne=u((s,l)=>{var h=je(),f=h();l.exports=f}),Oe=u((s,l)=>{var h=ye(),f=typeof s=="object"&&s&&!s.nodeType&&s,_=f&&typeof l=="object"&&l&&!l.nodeType&&l,b=_&&_.exports===f,k=b?h.Buffer:void 0,w=k?k.allocUnsafe:void 0;function M(P,U){if(U)return P.slice();var G=P.length,ce=w?w(G):new P.constructor(G);return P.copy(ce),ce}l.exports=M}),ct=u((s,l)=>{var h=ye(),f=h.Uint8Array;l.exports=f}),Je=u((s,l)=>{var h=ct();function f(_){var b=new _.constructor(_.byteLength);return new h(b).set(new h(_)),b}l.exports=f}),rt=u((s,l)=>{var h=Je();function f(_,b){var k=b?h(_.buffer):_.buffer;return new _.constructor(k,_.byteOffset,_.length)}l.exports=f}),ft=u((s,l)=>{function h(f,_){var b=-1,k=f.length;for(_||(_=Array(k));++b<k;)_[b]=f[b];return _}l.exports=h}),Et=u((s,l)=>{var h=Ve(),f=Object.create,_=function(){function b(){}return function(k){if(!h(k))return{};if(f)return f(k);b.prototype=k;var w=new b;return b.prototype=void 0,w}}();l.exports=_}),Gt=u((s,l)=>{function h(f,_){return function(b){return f(_(b))}}l.exports=h}),Ot=u((s,l)=>{var h=Gt(),f=h(Object.getPrototypeOf,Object);l.exports=f}),Ln=u((s,l)=>{var h=Object.prototype;function f(_){var b=_&&_.constructor,k=typeof b=="function"&&b.prototype||h;return _===k}l.exports=f}),pn=u((s,l)=>{var h=Et(),f=Ot(),_=Ln();function b(k){return typeof k.constructor=="function"&&!_(k)?h(f(k)):{}}l.exports=b}),vn=u((s,l)=>{function h(f){return f!=null&&typeof f=="object"}l.exports=h}),Bn=u((s,l)=>{var h=Te(),f=vn(),_="[object Arguments]";function b(k){return f(k)&&h(k)==_}l.exports=b}),bi=u((s,l)=>{var h=Bn(),f=vn(),_=Object.prototype,b=_.hasOwnProperty,k=_.propertyIsEnumerable,w=h(function(){return arguments}())?h:function(M){return f(M)&&b.call(M,"callee")&&!k.call(M,"callee")};l.exports=w}),Ri=u((s,l)=>{var h=Array.isArray;l.exports=h}),Pn=u((s,l)=>{var h=9007199254740991;function f(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=h}l.exports=f}),xn=u((s,l)=>{var h=Pe(),f=Pn();function _(b){return b!=null&&f(b.length)&&!h(b)}l.exports=_}),Uo=u((s,l)=>{var h=xn(),f=vn();function _(b){return f(b)&&h(b)}l.exports=_}),Tc=u((s,l)=>{function h(){return!1}l.exports=h}),$s=u((s,l)=>{var h=ye(),f=Tc(),_=typeof s=="object"&&s&&!s.nodeType&&s,b=_&&typeof l=="object"&&l&&!l.nodeType&&l,k=b&&b.exports===_,w=k?h.Buffer:void 0,M=w?w.isBuffer:void 0,P=M||f;l.exports=P}),Su=u((s,l)=>{var h=Te(),f=Ot(),_=vn(),b="[object Object]",k=Function.prototype,w=Object.prototype,M=k.toString,P=w.hasOwnProperty,U=M.call(Object);function G(ce){if(!_(ce)||h(ce)!=b)return!1;var _e=f(ce);if(_e===null)return!0;var Be=P.call(_e,"constructor")&&_e.constructor;return typeof Be=="function"&&Be instanceof Be&&M.call(Be)==U}l.exports=G}),Bu=u((s,l)=>{var h=Te(),f=Pn(),_=vn(),b="[object Arguments]",k="[object Array]",w="[object Boolean]",M="[object Date]",P="[object Error]",U="[object Function]",G="[object Map]",ce="[object Number]",_e="[object Object]",Be="[object RegExp]",Ke="[object Set]",et="[object String]",Tt="[object WeakMap]",H="[object ArrayBuffer]",J="[object DataView]",oe="[object Float32Array]",me="[object Float64Array]",ae="[object Int8Array]",de="[object Int16Array]",S="[object Int32Array]",R="[object Uint8Array]",F="[object Uint8ClampedArray]",O="[object Uint16Array]",I="[object Uint32Array]",N={};N[oe]=N[me]=N[ae]=N[de]=N[S]=N[R]=N[F]=N[O]=N[I]=!0,N[b]=N[k]=N[H]=N[w]=N[J]=N[M]=N[P]=N[U]=N[G]=N[ce]=N[_e]=N[Be]=N[Ke]=N[et]=N[Tt]=!1;function X(Y){return _(Y)&&f(Y.length)&&!!N[h(Y)]}l.exports=X}),Rc=u((s,l)=>{function h(f){return function(_){return f(_)}}l.exports=h}),Oc=u((s,l)=>{var h=re(),f=typeof s=="object"&&s&&!s.nodeType&&s,_=f&&typeof l=="object"&&l&&!l.nodeType&&l,b=_&&_.exports===f,k=b&&h.process,w=function(){try{var M=_&&_.require&&_.require("util").types;return M||k&&k.binding&&k.binding("util")}catch{}}();l.exports=w}),Pu=u((s,l)=>{var h=Bu(),f=Rc(),_=Oc(),b=_&&_.isTypedArray,k=b?f(b):h;l.exports=k}),Du=u((s,l)=>{function h(f,_){if(!(_==="constructor"&&typeof f[_]=="function")&&_!="__proto__")return f[_]}l.exports=h}),Fc=u((s,l)=>{var h=Se(),f=y(),_=Object.prototype,b=_.hasOwnProperty;function k(w,M,P){var U=w[M];(!(b.call(w,M)&&f(U,P))||P===void 0&&!(M in w))&&h(w,M,P)}l.exports=k}),Ic=u((s,l)=>{var h=Fc(),f=Se();function _(b,k,w,M){var P=!w;w||(w={});for(var U=-1,G=k.length;++U<G;){var ce=k[U],_e=M?M(w[ce],b[ce],ce,w,b):void 0;_e===void 0&&(_e=b[ce]),P?f(w,ce,_e):h(w,ce,_e)}return w}l.exports=_}),qs=u((s,l)=>{function h(f,_){for(var b=-1,k=Array(f);++b<f;)k[b]=_(b);return k}l.exports=h}),Tu=u((s,l)=>{var h=9007199254740991,f=/^(?:0|[1-9]\d*)$/;function _(b,k){var w=typeof b;return k=k??h,!!k&&(w=="number"||w!="symbol"&&f.test(b))&&b>-1&&b%1==0&&b<k}l.exports=_}),Nc=u((s,l)=>{var h=qs(),f=bi(),_=Ri(),b=$s(),k=Tu(),w=Pu(),M=Object.prototype,P=M.hasOwnProperty;function U(G,ce){var _e=_(G),Be=!_e&&f(G),Ke=!_e&&!Be&&b(G),et=!_e&&!Be&&!Ke&&w(G),Tt=_e||Be||Ke||et,H=Tt?h(G.length,String):[],J=H.length;for(var oe in G)(ce||P.call(G,oe))&&!(Tt&&(oe=="length"||Ke&&(oe=="offset"||oe=="parent")||et&&(oe=="buffer"||oe=="byteLength"||oe=="byteOffset")||k(oe,J)))&&H.push(oe);return H}l.exports=U}),zc=u((s,l)=>{function h(f){var _=[];if(f!=null)for(var b in Object(f))_.push(b);return _}l.exports=h}),jc=u((s,l)=>{var h=Ve(),f=Ln(),_=zc(),b=Object.prototype,k=b.hasOwnProperty;function w(M){if(!h(M))return _(M);var P=f(M),U=[];for(var G in M)G=="constructor"&&(P||!k.call(M,G))||U.push(G);return U}l.exports=w}),hi=u((s,l)=>{var h=Nc(),f=jc(),_=xn();function b(k){return _(k)?h(k,!0):f(k)}l.exports=b}),at=u((s,l)=>{var h=Ic(),f=hi();function _(b){return h(b,f(b))}l.exports=_}),Ru=u((s,l)=>{var h=$e(),f=Oe(),_=rt(),b=ft(),k=pn(),w=bi(),M=Ri(),P=Uo(),U=$s(),G=Pe(),ce=Ve(),_e=Su(),Be=Pu(),Ke=Du(),et=at();function Tt(H,J,oe,me,ae,de,S){var R=Ke(H,oe),F=Ke(J,oe),O=S.get(F);if(O){h(H,oe,O);return}var I=de?de(R,F,oe+"",H,J,S):void 0,N=I===void 0;if(N){var X=M(F),Y=!X&&U(F),ne=!X&&!Y&&Be(F);I=F,X||Y||ne?M(R)?I=R:P(R)?I=b(R):Y?(N=!1,I=f(F,!0)):ne?(N=!1,I=_(F,!0)):I=[]:_e(F)||w(F)?(I=R,w(R)?I=et(R):(!ce(R)||G(R))&&(I=k(F))):N=!1}N&&(S.set(F,I),ae(I,F,me,de,S),S.delete(F)),h(H,oe,I)}l.exports=Tt}),Ou=u((s,l)=>{var h=Ae(),f=$e(),_=Ne(),b=Ru(),k=Ve(),w=hi(),M=Du();function P(U,G,ce,_e,Be){U!==G&&_(G,function(Ke,et){if(Be||(Be=new h),k(Ke))b(U,G,et,ce,P,_e,Be);else{var Tt=_e?_e(M(U,et),Ke,et+"",U,G,Be):void 0;Tt===void 0&&(Tt=Ke),f(U,et,Tt)}},w)}l.exports=P}),Zs=u((s,l)=>{function h(f){return f}l.exports=h}),Fu=u((s,l)=>{function h(f,_,b){switch(b.length){case 0:return f.call(_);case 1:return f.call(_,b[0]);case 2:return f.call(_,b[0],b[1]);case 3:return f.call(_,b[0],b[1],b[2])}return f.apply(_,b)}l.exports=h}),Ks=u((s,l)=>{var h=Fu(),f=Math.max;function _(b,k,w){return k=f(k===void 0?b.length-1:k,0),function(){for(var M=arguments,P=-1,U=f(M.length-k,0),G=Array(U);++P<U;)G[P]=M[k+P];P=-1;for(var ce=Array(k+1);++P<k;)ce[P]=M[P];return ce[k]=w(G),h(b,this,ce)}}l.exports=_}),Iu=u((s,l)=>{function h(f){return function(){return f}}l.exports=h}),Br=u((s,l)=>{var h=Iu(),f=ke(),_=Zs(),b=f?function(k,w){return f(k,"toString",{configurable:!0,enumerable:!1,value:h(w),writable:!0})}:_;l.exports=b}),Nu=u((s,l)=>{var h=800,f=16,_=Date.now;function b(k){var w=0,M=0;return function(){var P=_(),U=f-(P-M);if(M=P,U>0){if(++w>=h)return arguments[0]}else w=0;return k.apply(void 0,arguments)}}l.exports=b}),Gc=u((s,l)=>{var h=Br(),f=Nu(),_=f(h);l.exports=_}),Vc=u((s,l)=>{var h=Zs(),f=Ks(),_=Gc();function b(k,w){return _(f(k,w,h),k+"")}l.exports=b}),Hc=u((s,l)=>{var h=y(),f=xn(),_=Tu(),b=Ve();function k(w,M,P){if(!b(P))return!1;var U=typeof M;return(U=="number"?f(P)&&_(M,P.length):U=="string"&&M in P)?h(P[M],w):!1}l.exports=k}),Uc=u((s,l)=>{var h=Vc(),f=Hc();function _(b){return h(function(k,w){var M=-1,P=w.length,U=P>1?w[P-1]:void 0,G=P>2?w[2]:void 0;for(U=b.length>3&&typeof U=="function"?(P--,U):void 0,G&&f(w[0],w[1],G)&&(U=P<3?void 0:U,P=1),k=Object(k);++M<P;){var ce=w[M];ce&&b(k,ce,M,U)}return k})}l.exports=_}),$o=u((s,l)=>{var h=Ou(),f=Uc(),_=f(function(b,k,w){h(b,k,w)});l.exports=_}),Ws=u((s,l)=>{var h=Te(),f=vn(),_="[object Symbol]";function b(k){return typeof k=="symbol"||f(k)&&h(k)==_}l.exports=b}),qo=u((s,l)=>{var h=Ri(),f=Ws(),_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;function k(w,M){if(h(w))return!1;var P=typeof w;return P=="number"||P=="symbol"||P=="boolean"||w==null||f(w)?!0:b.test(w)||!_.test(w)||M!=null&&w in Object(M)}l.exports=k}),$c=u((s,l)=>{var h=K(),f="Expected a function";function _(b,k){if(typeof b!="function"||k!=null&&typeof k!="function")throw new TypeError(f);var w=function(){var M=arguments,P=k?k.apply(this,M):M[0],U=w.cache;if(U.has(P))return U.get(P);var G=b.apply(this,M);return w.cache=U.set(P,G)||U,G};return w.cache=new(_.Cache||h),w}_.Cache=h,l.exports=_}),qc=u((s,l)=>{var h=$c(),f=500;function _(b){var k=h(b,function(M){return w.size===f&&w.clear(),M}),w=k.cache;return k}l.exports=_}),Zc=u((s,l)=>{var h=qc(),f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_=/\\(\\)?/g,b=h(function(k){var w=[];return k.charCodeAt(0)===46&&w.push(""),k.replace(f,function(M,P,U,G){w.push(U?G.replace(_,"$1"):P||M)}),w});l.exports=b}),Kc=u((s,l)=>{function h(f,_){for(var b=-1,k=f==null?0:f.length,w=Array(k);++b<k;)w[b]=_(f[b],b,f);return w}l.exports=h}),Wc=u((s,l)=>{var h=De(),f=Kc(),_=Ri(),b=Ws(),k=1/0,w=h?h.prototype:void 0,M=w?w.toString:void 0;function P(U){if(typeof U=="string")return U;if(_(U))return f(U,P)+"";if(b(U))return M?M.call(U):"";var G=U+"";return G=="0"&&1/U==-k?"-0":G}l.exports=P}),Js=u((s,l)=>{var h=Wc();function f(_){return _==null?"":h(_)}l.exports=f}),uo=u((s,l)=>{var h=Ri(),f=qo(),_=Zc(),b=Js();function k(w,M){return h(w)?w:f(w,M)?[w]:_(b(w))}l.exports=k}),zu=u((s,l)=>{var h=Ws(),f=1/0;function _(b){if(typeof b=="string"||h(b))return b;var k=b+"";return k=="0"&&1/b==-f?"-0":k}l.exports=_}),ju=u((s,l)=>{var h=uo(),f=zu();function _(b,k){k=h(k,b);for(var w=0,M=k.length;b!=null&&w<M;)b=b[f(k[w++])];return w&&w==M?b:void 0}l.exports=_}),qi=u((s,l)=>{var h=ju();function f(_,b,k){var w=_==null?void 0:h(_,b);return w===void 0?k:w}l.exports=f}),Ft=u((s,l)=>{(function(h,f){typeof s=="object"&&typeof l<"u"?l.exports=f():(h=h||self).RBush=f()})(s,function(){function h(H,J,oe,me,ae){(function de(S,R,F,O,I){for(;O>F;){if(O-F>600){var N=O-F+1,X=R-F+1,Y=Math.log(N),ne=.5*Math.exp(2*Y/3),le=.5*Math.sqrt(Y*ne*(N-ne)/N)*(X-N/2<0?-1:1),ue=Math.max(F,Math.floor(R-X*ne/N+le)),Le=Math.min(O,Math.floor(R+(N-X)*ne/N+le));de(S,R,ue,Le,I)}var Qe=S[R],nt=F,lt=O;for(f(S,F,R),I(S[O],Qe)>0&&f(S,F,O);nt<lt;){for(f(S,nt,lt),nt++,lt--;I(S[nt],Qe)<0;)nt++;for(;I(S[lt],Qe)>0;)lt--}I(S[F],Qe)===0?f(S,F,lt):f(S,++lt,O),lt<=R&&(F=lt+1),R<=lt&&(O=lt-1)}})(H,J,oe||0,me||H.length-1,ae||_)}function f(H,J,oe){var me=H[J];H[J]=H[oe],H[oe]=me}function _(H,J){return H<J?-1:H>J?1:0}var b=function(H){H===void 0&&(H=9),this._maxEntries=Math.max(4,H),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function k(H,J,oe){if(!oe)return J.indexOf(H);for(var me=0;me<J.length;me++)if(oe(H,J[me]))return me;return-1}function w(H,J){M(H,0,H.children.length,J,H)}function M(H,J,oe,me,ae){ae||(ae=et(null)),ae.minX=1/0,ae.minY=1/0,ae.maxX=-1/0,ae.maxY=-1/0;for(var de=J;de<oe;de++){var S=H.children[de];P(ae,H.leaf?me(S):S)}return ae}function P(H,J){return H.minX=Math.min(H.minX,J.minX),H.minY=Math.min(H.minY,J.minY),H.maxX=Math.max(H.maxX,J.maxX),H.maxY=Math.max(H.maxY,J.maxY),H}function U(H,J){return H.minX-J.minX}function G(H,J){return H.minY-J.minY}function ce(H){return(H.maxX-H.minX)*(H.maxY-H.minY)}function _e(H){return H.maxX-H.minX+(H.maxY-H.minY)}function Be(H,J){return H.minX<=J.minX&&H.minY<=J.minY&&J.maxX<=H.maxX&&J.maxY<=H.maxY}function Ke(H,J){return J.minX<=H.maxX&&J.minY<=H.maxY&&J.maxX>=H.minX&&J.maxY>=H.minY}function et(H){return{children:H,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Tt(H,J,oe,me,ae){for(var de=[J,oe];de.length;)if(!((oe=de.pop())-(J=de.pop())<=me)){var S=J+Math.ceil((oe-J)/me/2)*me;h(H,S,J,oe,ae),de.push(J,S,S,oe)}}return b.prototype.all=function(){return this._all(this.data,[])},b.prototype.search=function(H){var J=this.data,oe=[];if(!Ke(H,J))return oe;for(var me=this.toBBox,ae=[];J;){for(var de=0;de<J.children.length;de++){var S=J.children[de],R=J.leaf?me(S):S;Ke(H,R)&&(J.leaf?oe.push(S):Be(H,R)?this._all(S,oe):ae.push(S))}J=ae.pop()}return oe},b.prototype.collides=function(H){var J=this.data;if(!Ke(H,J))return!1;for(var oe=[];J;){for(var me=0;me<J.children.length;me++){var ae=J.children[me],de=J.leaf?this.toBBox(ae):ae;if(Ke(H,de)){if(J.leaf||Be(H,de))return!0;oe.push(ae)}}J=oe.pop()}return!1},b.prototype.load=function(H){if(!H||!H.length)return this;if(H.length<this._minEntries){for(var J=0;J<H.length;J++)this.insert(H[J]);return this}var oe=this._build(H.slice(),0,H.length-1,0);if(this.data.children.length)if(this.data.height===oe.height)this._splitRoot(this.data,oe);else{if(this.data.height<oe.height){var me=this.data;this.data=oe,oe=me}this._insert(oe,this.data.height-oe.height-1,!0)}else this.data=oe;return this},b.prototype.insert=function(H){return H&&this._insert(H,this.data.height-1),this},b.prototype.clear=function(){return this.data=et([]),this},b.prototype.remove=function(H,J){if(!H)return this;for(var oe,me,ae,de=this.data,S=this.toBBox(H),R=[],F=[];de||R.length;){if(de||(de=R.pop(),me=R[R.length-1],oe=F.pop(),ae=!0),de.leaf){var O=k(H,de.children,J);if(O!==-1)return de.children.splice(O,1),R.push(de),this._condense(R),this}ae||de.leaf||!Be(de,S)?me?(oe++,de=me.children[oe],ae=!1):de=null:(R.push(de),F.push(oe),oe=0,me=de,de=de.children[0])}return this},b.prototype.toBBox=function(H){return H},b.prototype.compareMinX=function(H,J){return H.minX-J.minX},b.prototype.compareMinY=function(H,J){return H.minY-J.minY},b.prototype.toJSON=function(){return this.data},b.prototype.fromJSON=function(H){return this.data=H,this},b.prototype._all=function(H,J){for(var oe=[];H;)H.leaf?J.push.apply(J,H.children):oe.push.apply(oe,H.children),H=oe.pop();return J},b.prototype._build=function(H,J,oe,me){var ae,de=oe-J+1,S=this._maxEntries;if(de<=S)return w(ae=et(H.slice(J,oe+1)),this.toBBox),ae;me||(me=Math.ceil(Math.log(de)/Math.log(S)),S=Math.ceil(de/Math.pow(S,me-1))),(ae=et([])).leaf=!1,ae.height=me;var R=Math.ceil(de/S),F=R*Math.ceil(Math.sqrt(S));Tt(H,J,oe,F,this.compareMinX);for(var O=J;O<=oe;O+=F){var I=Math.min(O+F-1,oe);Tt(H,O,I,R,this.compareMinY);for(var N=O;N<=I;N+=R){var X=Math.min(N+R-1,I);ae.children.push(this._build(H,N,X,me-1))}}return w(ae,this.toBBox),ae},b.prototype._chooseSubtree=function(H,J,oe,me){for(;me.push(J),!J.leaf&&me.length-1!==oe;){for(var ae=1/0,de=1/0,S=void 0,R=0;R<J.children.length;R++){var F=J.children[R],O=ce(F),I=(N=H,X=F,(Math.max(X.maxX,N.maxX)-Math.min(X.minX,N.minX))*(Math.max(X.maxY,N.maxY)-Math.min(X.minY,N.minY))-O);I<de?(de=I,ae=O<ae?O:ae,S=F):I===de&&O<ae&&(ae=O,S=F)}J=S||J.children[0]}var N,X;return J},b.prototype._insert=function(H,J,oe){var me=oe?H:this.toBBox(H),ae=[],de=this._chooseSubtree(me,this.data,J,ae);for(de.children.push(H),P(de,me);J>=0&&ae[J].children.length>this._maxEntries;)this._split(ae,J),J--;this._adjustParentBBoxes(me,ae,J)},b.prototype._split=function(H,J){var oe=H[J],me=oe.children.length,ae=this._minEntries;this._chooseSplitAxis(oe,ae,me);var de=this._chooseSplitIndex(oe,ae,me),S=et(oe.children.splice(de,oe.children.length-de));S.height=oe.height,S.leaf=oe.leaf,w(oe,this.toBBox),w(S,this.toBBox),J?H[J-1].children.push(S):this._splitRoot(oe,S)},b.prototype._splitRoot=function(H,J){this.data=et([H,J]),this.data.height=H.height+1,this.data.leaf=!1,w(this.data,this.toBBox)},b.prototype._chooseSplitIndex=function(H,J,oe){for(var me,ae,de,S,R,F,O,I=1/0,N=1/0,X=J;X<=oe-J;X++){var Y=M(H,0,X,this.toBBox),ne=M(H,X,oe,this.toBBox),le=(ae=Y,de=ne,S=void 0,R=void 0,F=void 0,O=void 0,S=Math.max(ae.minX,de.minX),R=Math.max(ae.minY,de.minY),F=Math.min(ae.maxX,de.maxX),O=Math.min(ae.maxY,de.maxY),Math.max(0,F-S)*Math.max(0,O-R)),ue=ce(Y)+ce(ne);le<I?(I=le,me=X,N=ue<N?ue:N):le===I&&ue<N&&(N=ue,me=X)}return me||oe-J},b.prototype._chooseSplitAxis=function(H,J,oe){var me=H.leaf?this.compareMinX:U,ae=H.leaf?this.compareMinY:G;this._allDistMargin(H,J,oe,me)<this._allDistMargin(H,J,oe,ae)&&H.children.sort(me)},b.prototype._allDistMargin=function(H,J,oe,me){H.children.sort(me);for(var ae=this.toBBox,de=M(H,0,J,ae),S=M(H,oe-J,oe,ae),R=_e(de)+_e(S),F=J;F<oe-J;F++){var O=H.children[F];P(de,H.leaf?ae(O):O),R+=_e(de)}for(var I=oe-J-1;I>=J;I--){var N=H.children[I];P(S,H.leaf?ae(N):N),R+=_e(S)}return R},b.prototype._adjustParentBBoxes=function(H,J,oe){for(var me=oe;me>=0;me--)P(J[me],H)},b.prototype._condense=function(H){for(var J=H.length-1,oe=void 0;J>=0;J--)H[J].children.length===0?J>0?(oe=H[J-1].children).splice(oe.indexOf(H[J]),1):this.clear():w(H[J],this.toBBox)},b})}),Yt=u(s=>{Object.defineProperty(s,"__esModule",{value:!0}),s.earthRadius=63710088e-1,s.factors={centimeters:s.earthRadius*100,centimetres:s.earthRadius*100,degrees:s.earthRadius/111325,feet:s.earthRadius*3.28084,inches:s.earthRadius*39.37,kilometers:s.earthRadius/1e3,kilometres:s.earthRadius/1e3,meters:s.earthRadius,metres:s.earthRadius,miles:s.earthRadius/1609.344,millimeters:s.earthRadius*1e3,millimetres:s.earthRadius*1e3,nauticalmiles:s.earthRadius/1852,radians:1,yards:s.earthRadius*1.0936},s.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/s.earthRadius,yards:1.0936133},s.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function l(O,I,N){N===void 0&&(N={});var X={type:"Feature"};return(N.id===0||N.id)&&(X.id=N.id),N.bbox&&(X.bbox=N.bbox),X.properties=I||{},X.geometry=O,X}s.feature=l;function h(O,I,N){switch(O){case"Point":return f(I).geometry;case"LineString":return w(I).geometry;case"Polygon":return b(I).geometry;case"MultiPoint":return G(I).geometry;case"MultiLineString":return U(I).geometry;case"MultiPolygon":return ce(I).geometry;default:throw new Error(O+" is invalid")}}s.geometry=h;function f(O,I,N){if(N===void 0&&(N={}),!O)throw new Error("coordinates is required");if(!Array.isArray(O))throw new Error("coordinates must be an Array");if(O.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!de(O[0])||!de(O[1]))throw new Error("coordinates must contain numbers");var X={type:"Point",coordinates:O};return l(X,I,N)}s.point=f;function _(O,I,N){return N===void 0&&(N={}),P(O.map(function(X){return f(X,I)}),N)}s.points=_;function b(O,I,N){N===void 0&&(N={});for(var X=0,Y=O;X<Y.length;X++){var ne=Y[X];if(ne.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var le=0;le<ne[ne.length-1].length;le++)if(ne[ne.length-1][le]!==ne[0][le])throw new Error("First and last Position are not equivalent.")}var ue={type:"Polygon",coordinates:O};return l(ue,I,N)}s.polygon=b;function k(O,I,N){return N===void 0&&(N={}),P(O.map(function(X){return b(X,I)}),N)}s.polygons=k;function w(O,I,N){if(N===void 0&&(N={}),O.length<2)throw new Error("coordinates must be an array of two or more positions");var X={type:"LineString",coordinates:O};return l(X,I,N)}s.lineString=w;function M(O,I,N){return N===void 0&&(N={}),P(O.map(function(X){return w(X,I)}),N)}s.lineStrings=M;function P(O,I){I===void 0&&(I={});var N={type:"FeatureCollection"};return I.id&&(N.id=I.id),I.bbox&&(N.bbox=I.bbox),N.features=O,N}s.featureCollection=P;function U(O,I,N){N===void 0&&(N={});var X={type:"MultiLineString",coordinates:O};return l(X,I,N)}s.multiLineString=U;function G(O,I,N){N===void 0&&(N={});var X={type:"MultiPoint",coordinates:O};return l(X,I,N)}s.multiPoint=G;function ce(O,I,N){N===void 0&&(N={});var X={type:"MultiPolygon",coordinates:O};return l(X,I,N)}s.multiPolygon=ce;function _e(O,I,N){N===void 0&&(N={});var X={type:"GeometryCollection",geometries:O};return l(X,I,N)}s.geometryCollection=_e;function Be(O,I){if(I===void 0&&(I=0),I&&!(I>=0))throw new Error("precision must be a positive number");var N=Math.pow(10,I||0);return Math.round(O*N)/N}s.round=Be;function Ke(O,I){I===void 0&&(I="kilometers");var N=s.factors[I];if(!N)throw new Error(I+" units is invalid");return O*N}s.radiansToLength=Ke;function et(O,I){I===void 0&&(I="kilometers");var N=s.factors[I];if(!N)throw new Error(I+" units is invalid");return O/N}s.lengthToRadians=et;function Tt(O,I){return J(et(O,I))}s.lengthToDegrees=Tt;function H(O){var I=O%360;return I<0&&(I+=360),I}s.bearingToAzimuth=H;function J(O){var I=O%(2*Math.PI);return I*180/Math.PI}s.radiansToDegrees=J;function oe(O){var I=O%360;return I*Math.PI/180}s.degreesToRadians=oe;function me(O,I,N){if(I===void 0&&(I="kilometers"),N===void 0&&(N="kilometers"),!(O>=0))throw new Error("length must be a positive number");return Ke(et(O,I),N)}s.convertLength=me;function ae(O,I,N){if(I===void 0&&(I="meters"),N===void 0&&(N="kilometers"),!(O>=0))throw new Error("area must be a positive number");var X=s.areaFactors[I];if(!X)throw new Error("invalid original units");var Y=s.areaFactors[N];if(!Y)throw new Error("invalid final units");return O/X*Y}s.convertArea=ae;function de(O){return!isNaN(O)&&O!==null&&!Array.isArray(O)}s.isNumber=de;function S(O){return!!O&&O.constructor===Object}s.isObject=S;function R(O){if(!O)throw new Error("bbox is required");if(!Array.isArray(O))throw new Error("bbox must be an Array");if(O.length!==4&&O.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");O.forEach(function(I){if(!de(I))throw new Error("bbox must only contain numbers")})}s.validateBBox=R;function F(O){if(!O)throw new Error("id is required");if(["string","number"].indexOf(typeof O)===-1)throw new Error("id must be a number or a string")}s.validateId=F}),lo=u(s=>{Object.defineProperty(s,"__esModule",{value:!0});var l=Yt();function h(J,oe,me){if(J!==null)for(var ae,de,S,R,F,O,I,N=0,X=0,Y,ne=J.type,le=ne==="FeatureCollection",ue=ne==="Feature",Le=le?J.features.length:1,Qe=0;Qe<Le;Qe++){I=le?J.features[Qe].geometry:ue?J.geometry:J,Y=I?I.type==="GeometryCollection":!1,F=Y?I.geometries.length:1;for(var nt=0;nt<F;nt++){var lt=0,Vt=0;if(R=Y?I.geometries[nt]:I,R!==null){O=R.coordinates;var Zt=R.type;switch(N=me&&(Zt==="Polygon"||Zt==="MultiPolygon")?1:0,Zt){case null:break;case"Point":if(oe(O,X,Qe,lt,Vt)===!1)return!1;X++,lt++;break;case"LineString":case"MultiPoint":for(ae=0;ae<O.length;ae++){if(oe(O[ae],X,Qe,lt,Vt)===!1)return!1;X++,Zt==="MultiPoint"&&lt++}Zt==="LineString"&&lt++;break;case"Polygon":case"MultiLineString":for(ae=0;ae<O.length;ae++){for(de=0;de<O[ae].length-N;de++){if(oe(O[ae][de],X,Qe,lt,Vt)===!1)return!1;X++}Zt==="MultiLineString"&&lt++,Zt==="Polygon"&&Vt++}Zt==="Polygon"&&lt++;break;case"MultiPolygon":for(ae=0;ae<O.length;ae++){for(Vt=0,de=0;de<O[ae].length;de++){for(S=0;S<O[ae][de].length-N;S++){if(oe(O[ae][de][S],X,Qe,lt,Vt)===!1)return!1;X++}Vt++}lt++}break;case"GeometryCollection":for(ae=0;ae<R.geometries.length;ae++)if(h(R.geometries[ae],oe,me)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(J,oe,me,ae){var de=me;return h(J,function(S,R,F,O,I){R===0&&me===void 0?de=S:de=oe(de,S,R,F,O,I)},ae),de}function _(J,oe){var me;switch(J.type){case"FeatureCollection":for(me=0;me<J.features.length&&oe(J.features[me].properties,me)!==!1;me++);break;case"Feature":oe(J.properties,0);break}}function b(J,oe,me){var ae=me;return _(J,function(de,S){S===0&&me===void 0?ae=de:ae=oe(ae,de,S)}),ae}function k(J,oe){if(J.type==="Feature")oe(J,0);else if(J.type==="FeatureCollection")for(var me=0;me<J.features.length&&oe(J.features[me],me)!==!1;me++);}function w(J,oe,me){var ae=me;return k(J,function(de,S){S===0&&me===void 0?ae=de:ae=oe(ae,de,S)}),ae}function M(J){var oe=[];return h(J,function(me){oe.push(me)}),oe}function P(J,oe){var me,ae,de,S,R,F,O,I,N,X,Y=0,ne=J.type==="FeatureCollection",le=J.type==="Feature",ue=ne?J.features.length:1;for(me=0;me<ue;me++){for(F=ne?J.features[me].geometry:le?J.geometry:J,I=ne?J.features[me].properties:le?J.properties:{},N=ne?J.features[me].bbox:le?J.bbox:void 0,X=ne?J.features[me].id:le?J.id:void 0,O=F?F.type==="GeometryCollection":!1,R=O?F.geometries.length:1,de=0;de<R;de++){if(S=O?F.geometries[de]:F,S===null){if(oe(null,Y,I,N,X)===!1)return!1;continue}switch(S.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(oe(S,Y,I,N,X)===!1)return!1;break}case"GeometryCollection":{for(ae=0;ae<S.geometries.length;ae++)if(oe(S.geometries[ae],Y,I,N,X)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}Y++}}function U(J,oe,me){var ae=me;return P(J,function(de,S,R,F,O){S===0&&me===void 0?ae=de:ae=oe(ae,de,S,R,F,O)}),ae}function G(J,oe){P(J,function(me,ae,de,S,R){var F=me===null?null:me.type;switch(F){case null:case"Point":case"LineString":case"Polygon":return oe(l.feature(me,de,{bbox:S,id:R}),ae,0)===!1?!1:void 0}var O;switch(F){case"MultiPoint":O="Point";break;case"MultiLineString":O="LineString";break;case"MultiPolygon":O="Polygon";break}for(var I=0;I<me.coordinates.length;I++){var N=me.coordinates[I],X={type:O,coordinates:N};if(oe(l.feature(X,de),ae,I)===!1)return!1}})}function ce(J,oe,me){var ae=me;return G(J,function(de,S,R){S===0&&R===0&&me===void 0?ae=de:ae=oe(ae,de,S,R)}),ae}function _e(J,oe){G(J,function(me,ae,de){var S=0;if(me.geometry){var R=me.geometry.type;if(!(R==="Point"||R==="MultiPoint")){var F,O=0,I=0,N=0;if(h(me,function(X,Y,ne,le,ue){if(F===void 0||ae>O||le>I||ue>N){F=X,O=ae,I=le,N=ue,S=0;return}var Le=l.lineString([F,X],me.properties);if(oe(Le,ae,de,ue,S)===!1)return!1;S++,F=X})===!1)return!1}}})}function Be(J,oe,me){var ae=me,de=!1;return _e(J,function(S,R,F,O,I){de===!1&&me===void 0?ae=S:ae=oe(ae,S,R,F,O,I),de=!0}),ae}function Ke(J,oe){if(!J)throw new Error("geojson is required");G(J,function(me,ae,de){if(me.geometry!==null){var S=me.geometry.type,R=me.geometry.coordinates;switch(S){case"LineString":if(oe(me,ae,de,0,0)===!1)return!1;break;case"Polygon":for(var F=0;F<R.length;F++)if(oe(l.lineString(R[F],me.properties),ae,de,F)===!1)return!1;break}}})}function et(J,oe,me){var ae=me;return Ke(J,function(de,S,R,F){S===0&&me===void 0?ae=de:ae=oe(ae,de,S,R,F)}),ae}function Tt(J,oe){if(oe=oe||{},!l.isObject(oe))throw new Error("options is invalid");var me=oe.featureIndex||0,ae=oe.multiFeatureIndex||0,de=oe.geometryIndex||0,S=oe.segmentIndex||0,R=oe.properties,F;switch(J.type){case"FeatureCollection":me<0&&(me=J.features.length+me),R=R||J.features[me].properties,F=J.features[me].geometry;break;case"Feature":R=R||J.properties,F=J.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":F=J;break;default:throw new Error("geojson is invalid")}if(F===null)return null;var O=F.coordinates;switch(F.type){case"Point":case"MultiPoint":return null;case"LineString":return S<0&&(S=O.length+S-1),l.lineString([O[S],O[S+1]],R,oe);case"Polygon":return de<0&&(de=O.length+de),S<0&&(S=O[de].length+S-1),l.lineString([O[de][S],O[de][S+1]],R,oe);case"MultiLineString":return ae<0&&(ae=O.length+ae),S<0&&(S=O[ae].length+S-1),l.lineString([O[ae][S],O[ae][S+1]],R,oe);case"MultiPolygon":return ae<0&&(ae=O.length+ae),de<0&&(de=O[ae].length+de),S<0&&(S=O[ae][de].length-S-1),l.lineString([O[ae][de][S],O[ae][de][S+1]],R,oe)}throw new Error("geojson is invalid")}function H(J,oe){if(oe=oe||{},!l.isObject(oe))throw new Error("options is invalid");var me=oe.featureIndex||0,ae=oe.multiFeatureIndex||0,de=oe.geometryIndex||0,S=oe.coordIndex||0,R=oe.properties,F;switch(J.type){case"FeatureCollection":me<0&&(me=J.features.length+me),R=R||J.features[me].properties,F=J.features[me].geometry;break;case"Feature":R=R||J.properties,F=J.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":F=J;break;default:throw new Error("geojson is invalid")}if(F===null)return null;var O=F.coordinates;switch(F.type){case"Point":return l.point(O,R,oe);case"MultiPoint":return ae<0&&(ae=O.length+ae),l.point(O[ae],R,oe);case"LineString":return S<0&&(S=O.length+S),l.point(O[S],R,oe);case"Polygon":return de<0&&(de=O.length+de),S<0&&(S=O[de].length+S),l.point(O[de][S],R,oe);case"MultiLineString":return ae<0&&(ae=O.length+ae),S<0&&(S=O[ae].length+S),l.point(O[ae][S],R,oe);case"MultiPolygon":return ae<0&&(ae=O.length+ae),de<0&&(de=O[ae].length+de),S<0&&(S=O[ae][de].length-S),l.point(O[ae][de][S],R,oe)}throw new Error("geojson is invalid")}s.coordAll=M,s.coordEach=h,s.coordReduce=f,s.featureEach=k,s.featureReduce=w,s.findPoint=H,s.findSegment=Tt,s.flattenEach=G,s.flattenReduce=ce,s.geomEach=P,s.geomReduce=U,s.lineEach=Ke,s.lineReduce=et,s.propEach=_,s.propReduce=b,s.segmentEach=_e,s.segmentReduce=Be}),Pr=u(s=>{Object.defineProperty(s,"__esModule",{value:!0});var l=lo();function h(f){var _=[1/0,1/0,-1/0,-1/0];return l.coordEach(f,function(b){_[0]>b[0]&&(_[0]=b[0]),_[1]>b[1]&&(_[1]=b[1]),_[2]<b[0]&&(_[2]=b[0]),_[3]<b[1]&&(_[3]=b[1])}),_}h.default=h,s.default=h}),ur=u((s,l)=>{var h=Ft(),f=Yt(),_=lo(),b=Pr().default,k=_.featureEach;_.coordEach,f.polygon;var w=f.featureCollection;function M(P){var U=new h(P);return U.insert=function(G){if(G.type!=="Feature")throw new Error("invalid feature");return G.bbox=G.bbox?G.bbox:b(G),h.prototype.insert.call(this,G)},U.load=function(G){var ce=[];return Array.isArray(G)?G.forEach(function(_e){if(_e.type!=="Feature")throw new Error("invalid features");_e.bbox=_e.bbox?_e.bbox:b(_e),ce.push(_e)}):k(G,function(_e){if(_e.type!=="Feature")throw new Error("invalid features");_e.bbox=_e.bbox?_e.bbox:b(_e),ce.push(_e)}),h.prototype.load.call(this,ce)},U.remove=function(G,ce){if(G.type!=="Feature")throw new Error("invalid feature");return G.bbox=G.bbox?G.bbox:b(G),h.prototype.remove.call(this,G,ce)},U.clear=function(){return h.prototype.clear.call(this)},U.search=function(G){var ce=h.prototype.search.call(this,this.toBBox(G));return w(ce)},U.collides=function(G){return h.prototype.collides.call(this,this.toBBox(G))},U.all=function(){var G=h.prototype.all.call(this);return w(G)},U.toJSON=function(){return h.prototype.toJSON.call(this)},U.fromJSON=function(G){return h.prototype.fromJSON.call(this,G)},U.toBBox=function(G){var ce;if(G.bbox)ce=G.bbox;else if(Array.isArray(G)&&G.length===4)ce=G;else if(Array.isArray(G)&&G.length===6)ce=[G[0],G[1],G[3],G[4]];else if(G.type==="Feature")ce=b(G);else if(G.type==="FeatureCollection")ce=b(G);else throw new Error("invalid geojson");return{minX:ce[0],minY:ce[1],maxX:ce[2],maxY:ce[3]}},U}l.exports=M,l.exports.default=M});Array.prototype.findIndex=Array.prototype.findIndex||function(s){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var l=Object(this),h=l.length>>>0,f=arguments[1],_=0;_<h;_++)if(s.call(f,l[_],_,l))return _;return-1},Array.prototype.find=Array.prototype.find||function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var l=Object(this),h=l.length>>>0,f=arguments[1],_=0;_<h;_++){var b=l[_];if(s.call(f,b,_,l))return b}},typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");s=Object(s);for(var l=1;l<arguments.length;l++){var h=arguments[l];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(s[f]=h[f])}return s}),function(s){s.forEach(function(l){l.hasOwnProperty("remove")||Object.defineProperty(l,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,l){if(this==null)throw new TypeError('"this" is null or not defined');var h=Object(this),f=h.length>>>0;if(f===0)return!1;var _=l|0,b=Math.max(_>=0?_:f-Math.abs(_),0);function k(w,M){return w===M||typeof w=="number"&&typeof M=="number"&&isNaN(w)&&isNaN(M)}for(;b<f;){if(k(h[b],s))return!0;b++}return!1}});var Ys={name:"@geoman-io/leaflet-geoman-free",version:"2.17.0",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.7.9","cross-env":"^7.0.3",cypress:"6.9.1","cypress-wait-until":"1.7.1",esbuild:"^0.20.0",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.7",leaflet:"1.9.3","lint-staged":"^15.2.1",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,cypress,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,cypress,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,cypress,demo}/**/*.{js,css}"'}},vt=p($o()),on={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Xs={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},Zo={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},ei={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Jc={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},Ko={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},lr={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},ln={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},cr={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},co={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},ho={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Qs={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},fo={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},ea={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},ta={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},Wo={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},na={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},ia={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},Jo={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Gu={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},ra={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},Yc={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},yt={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},vi={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},qt={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},Vu={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},oa={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},hr={en:on,de:Xs,it:Zo,id:ei,ro:Jc,ru:Ko,es:lr,nl:ln,fr:cr,pt_br:Qs,pt_pt:fo,zh:co,zh_tw:ho,pl:ea,sv:ta,el:Wo,hu:na,da:ia,no:Jo,fa:Gu,ua:ra,tr:Yc,cz:yt,ja:vi,fi:qt,ko:Vu,ky:oa},sa={_globalEditModeEnabled:!1,enableGlobalEditMode(s){let l={...s};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(h=>{this._isRelevantForEdit(h)&&h.pm.enable(l)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(s=>{s.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(s=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(s)},handleLayerAdditionInGlobalEditMode(){let s=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let l in s){let h=s[l];this._isRelevantForEdit(h)&&h.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:s}){this._addedLayersEdit[L.stamp(s)]=s},_isRelevantForEdit(s){return s.pm&&!(s instanceof L.LayerGroup)&&(!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1)&&!s._pmTempLayer&&s.pm.options.allowEditing}},dr=sa,aa={_globalDragModeEnabled:!1,enableGlobalDragMode(){let s=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},s.forEach(l=>{this._isRelevantForDrag(l)&&l.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let s=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,s.forEach(l=>{l.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let s=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let l in s){let h=s[l];this._isRelevantForDrag(h)&&h.pm.enableLayerDrag()}},_layerAddedDrag({layer:s}){this._addedLayersDrag[L.stamp(s)]=s},_isRelevantForDrag(s){return s.pm&&!(s instanceof L.LayerGroup)&&(!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1)&&!s._pmTempLayer&&s.pm.options.draggable}},po=aa,En={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(s=>{this._isRelevantForRemoval(s)&&(s.pm.enabled()&&s.pm.disable(),s.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(s=>{s.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(s){let l=s.target;this._isRelevantForRemoval(l)&&!l.pm.dragging()&&(l.removeFrom(this.map.pm._getContainingLayer()),l.remove(),l instanceof L.LayerGroup?(this._fireRemoveLayerGroup(l),this._fireRemoveLayerGroup(this.map,l)):(l.pm._fireRemove(l),l.pm._fireRemove(this.map,l)))},_isRelevantForRemoval(s){return s.pm&&!(s instanceof L.LayerGroup)&&(!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1)&&!s._pmTempLayer&&s.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let s=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let l in s){let h=s[l];this._isRelevantForRemoval(h)&&(h.pm.enabled()&&h.pm.disable(),h.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:s}){this._addedLayersRemoval[L.stamp(s)]=s}},fr=En,Hu={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(s=>s instanceof L.Polyline).forEach(s=>{this._isRelevantForRotate(s)&&s.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(s=>s instanceof L.Polyline).forEach(s=>{s.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(s){return s.pm&&s instanceof L.Polyline&&!(s instanceof L.LayerGroup)&&(!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1)&&!s._pmTempLayer&&s.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let s=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let l in s){let h=s[l];this._isRelevantForRemoval(h)&&h.pm.enableRotate()}},_layerAddedRotate({layer:s}){this._addedLayersRotate[L.stamp(s)]=s}},Uu=Hu,Xc=p($o()),$u={_fireDrawStart(s="Draw",l={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},s,l)},_fireDrawEnd(s="Draw",l={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},s,l)},_fireCreate(s,l="Draw",h={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:s,layer:s},l,h)},_fireCenterPlaced(s="Draw",l={}){let h=s==="Draw"?this._layer:void 0,f=s!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:h,layer:f,latlng:this._layer.getLatLng()},s,l)},_fireCut(s,l,h,f="Draw",_={}){this.__fire(s,"pm:cut",{shape:this._shape,layer:l,originalLayer:h},f,_)},_fireEdit(s=this._layer,l="Edit",h={}){this.__fire(s,"pm:edit",{layer:this._layer,shape:this.getShape()},l,h)},_fireEnable(s="Edit",l={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},s,l)},_fireDisable(s="Edit",l={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},s,l)},_fireUpdate(s="Edit",l={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},s,l)},_fireMarkerDragStart(s,l=void 0,h="Edit",f={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:s,shape:this.getShape(),indexPath:l},h,f)},_fireMarkerDrag(s,l=void 0,h="Edit",f={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:s,shape:this.getShape(),indexPath:l},h,f)},_fireMarkerDragEnd(s,l=void 0,h=void 0,f="Edit",_={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:s,shape:this.getShape(),indexPath:l,intersectionReset:h},f,_)},_fireDragStart(s="Edit",l={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},s,l)},_fireDrag(s,l="Edit",h={}){this.__fire(this._layer,"pm:drag",{...s,shape:this.getShape()},l,h)},_fireDragEnd(s="Edit",l={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},s,l)},_fireDragEnable(s="Edit",l={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},s,l)},_fireDragDisable(s="Edit",l={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},s,l)},_fireRemove(s,l=s,h="Edit",f={}){this.__fire(s,"pm:remove",{layer:l,shape:this.getShape()},h,f)},_fireVertexAdded(s,l,h,f="Edit",_={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:s,indexPath:l,latlng:h,shape:this.getShape()},f,_)},_fireVertexRemoved(s,l,h="Edit",f={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:s,indexPath:l,shape:this.getShape()},h,f)},_fireVertexClick(s,l,h="Edit",f={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:s,indexPath:l,shape:this.getShape()},h,f)},_fireIntersect(s,l=this._layer,h="Edit",f={}){this.__fire(l,"pm:intersect",{layer:this._layer,intersection:s,shape:this.getShape()},h,f)},_fireLayerReset(s,l,h="Edit",f={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:s,indexPath:l,shape:this.getShape()},h,f)},_fireChange(s,l="Edit",h={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:s,shape:this.getShape()},l,h)},_fireTextChange(s,l="Edit",h={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:s,shape:this.getShape()},l,h)},_fireTextFocus(s="Edit",l={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},s,l)},_fireTextBlur(s="Edit",l={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},s,l)},_fireSnapDrag(s,l,h="Snapping",f={}){this.__fire(s,"pm:snapdrag",l,h,f)},_fireSnap(s,l,h="Snapping",f={}){this.__fire(s,"pm:snap",l,h,f)},_fireUnsnap(s,l,h="Snapping",f={}){this.__fire(s,"pm:unsnap",l,h,f)},_fireRotationEnable(s,l,h="Rotation",f={}){this.__fire(s,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},h,f)},_fireRotationDisable(s,l="Rotation",h={}){this.__fire(s,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},l,h)},_fireRotationStart(s,l,h="Rotation",f={}){this.__fire(s,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:l},h,f)},_fireRotation(s,l,h,f=this._rotationLayer,_="Rotation",b={}){this.__fire(s,"pm:rotate",{layer:f,helpLayer:this._layer,startAngle:this._startAngle,angle:f.pm.getAngle(),angleDiff:l,oldLatLngs:h,newLatLngs:f.getLatLngs()},_,b)},_fireRotationEnd(s,l,h,f="Rotation",_={}){this.__fire(s,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:l,angle:this._rotationLayer.pm.getAngle(),originLatLngs:h,newLatLngs:this._rotationLayer.getLatLngs()},f,_)},_fireActionClick(s,l,h,f="Toolbar",_={}){this.__fire(this._map,"pm:actionclick",{text:s.text,action:s,btnName:l,button:h},f,_)},_fireButtonClick(s,l,h="Toolbar",f={}){this.__fire(this._map,"pm:buttonclick",{btnName:s,button:l},h,f)},_fireLangChange(s,l,h,f,_="Global",b={}){this.__fire(this.map,"pm:langchange",{oldLang:s,activeLang:l,fallback:h,translations:f},_,b)},_fireGlobalDragModeToggled(s,l="Global",h={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:s,map:this.map},l,h)},_fireGlobalEditModeToggled(s,l="Global",h={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:s,map:this.map},l,h)},_fireGlobalRemovalModeToggled(s,l="Global",h={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:s,map:this.map},l,h)},_fireGlobalCutModeToggled(s="Global",l={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},s,l)},_fireGlobalDrawModeToggled(s="Global",l={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},s,l)},_fireGlobalRotateModeToggled(s="Global",l={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},s,l)},_fireRemoveLayerGroup(s,l=s,h="Edit",f={}){this.__fire(s,"pm:remove",{layer:l,shape:void 0},h,f)},_fireKeyeventEvent(s,l,h,f="Global",_={}){this.__fire(this.map,"pm:keyevent",{event:s,eventType:l,focusOn:h},f,_)},__fire(s,l,h,f,_={}){h=(0,Xc.default)(h,_,{source:f}),L.PM.Utils._fireEvent(s,l,h)}},Dr=$u,Qc=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(s){this.map=s,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),s.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(s){let l="document";this.map.getContainer().contains(s.target)&&(l="map");let h={event:s,eventType:s.type,focusOn:l};this._lastEvents[s.type]=h,this._lastEvents.current=h,this.map.pm._fireKeyeventEvent(s,s.type,l)},_onBlur(s){s.altKey=!1;let l={event:s,eventType:s.type,focusOn:"document"};this._lastEvents[s.type]=l,this._lastEvents.current=l},getLastKeyEvent(s="current"){return this._lastEvents[s]},isShiftKeyPressed(){var s;return(s=this._lastEvents.current)==null?void 0:s.event.shiftKey},isAltKeyPressed(){var s;return(s=this._lastEvents.current)==null?void 0:s.event.altKey},isCtrlKeyPressed(){var s;return(s=this._lastEvents.current)==null?void 0:s.event.ctrlKey},isMetaKeyPressed(){var s;return(s=this._lastEvents.current)==null?void 0:s.event.metaKey},getPressedKey(){var s;return(s=this._lastEvents.current)==null?void 0:s.event.key}}),qu=Qc,Mt=p(qi());function Dt(s){let l=L.PM.activeLang;return(0,Mt.default)(hr[l],s)||(0,Mt.default)(hr.en,s)||s}function Zn(s){for(let l=0;l<s.length;l+=1){let h=s[l];if(Array.isArray(h)){if(Zn(h))return!0}else if(h!=null&&h!=="")return!0}return!1}function Zi(s){return s.reduce((l,h)=>{if(h.length!==0){let f=Array.isArray(h)?Zi(h):h;Array.isArray(f)?f.length!==0&&l.push(f):l.push(f)}return l},[])}function Zu(s,l,h){let f={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:_,b,f:k}=f,w=s.lng,M=s.lat,P=h,U=Math.PI,G=l*U/180,ce=Math.sin(G),_e=Math.cos(G),Be=(1-k)*Math.tan(M*U/180),Ke=1/Math.sqrt(1+Be*Be),et=Be*Ke,Tt=Math.atan2(Be,_e),H=Ke*ce,J=1-H*H,oe=J*(_*_-b*b)/(b*b),me=1+oe/16384*(4096+oe*(-768+oe*(320-175*oe))),ae=oe/1024*(256+oe*(-128+oe*(74-47*oe))),de=P/(b*me),S=2*Math.PI,R,F,O;for(;Math.abs(de-S)>1e-12;){R=Math.cos(2*Tt+de),F=Math.sin(de),O=Math.cos(de);let Le=ae*F*(R+ae/4*(O*(-1+2*R*R)-ae/6*R*(-3+4*F*F)*(-3+4*R*R)));S=de,de=P/(b*me)+Le}let I=et*F-Ke*O*_e,N=Math.atan2(et*O+Ke*F*_e,(1-k)*Math.sqrt(H*H+I*I)),X=Math.atan2(F*ce,Ke*O-et*F*_e),Y=k/16*J*(4+k*(4-3*J)),ne=X-(1-Y)*k*H*(de+Y*F*(R+Y*O*(-1+2*R*R))),le=w+ne*180/U,ue=N*180/U;return L.latLng(le,ue)}function Ku(s,l,h,f,_=!0){let b,k,w,M=[];for(let P=0;P<h;P+=1){if(_)b=P*360/h+f,k=Zu(s,b,l),w=L.latLng(k.lng,k.lat);else{let U=s.lat+Math.cos(2*P*Math.PI/h)*l,G=s.lng+Math.sin(2*P*Math.PI/h)*l;w=L.latLng(U,G)}M.push(w)}return M}function ua(s,l,h){l=(l+360)%360;let f=Math.PI/180,_=180/Math.PI,{R:b}=L.CRS.Earth,k=s.lng*f,w=s.lat*f,M=l*f,P=Math.sin(w),U=Math.cos(w),G=Math.cos(h/b),ce=Math.sin(h/b),_e=Math.asin(P*G+U*ce*Math.cos(M)),Be=k+Math.atan2(Math.sin(M)*ce*U,G-P*Math.sin(_e));Be*=_;let Ke=Be-360,et=Be<-180?Be+360:Be;return Be=Be>180?Ke:et,L.latLng([_e*_,Be])}function la(s,l,h){let f=s.latLngToContainerPoint(l),_=s.latLngToContainerPoint(h),b=Math.atan2(_.y-f.y,_.x-f.x)*180/Math.PI+90;return b+=b<0?360:0,b}function mo(s,l,h,f){let _=la(s,l,h);return ua(l,_,f)}function eh(s,l,h="asc"){if(!l||Object.keys(l).length===0)return(M,P)=>M-P;let f=Object.keys(l),_,b=f.length-1,k={};for(;b>=0;)_=f[b],k[_.toLowerCase()]=l[_],b-=1;function w(M){if(M instanceof L.Marker)return"Marker";if(M instanceof L.Circle)return"Circle";if(M instanceof L.CircleMarker)return"CircleMarker";if(M instanceof L.Rectangle)return"Rectangle";if(M instanceof L.Polygon)return"Polygon";if(M instanceof L.Polyline)return"Line"}return(M,P)=>{let U,G;if(U=w(M.layer).toLowerCase(),G=w(P.layer).toLowerCase(),!U||!G)return 0;let ce=U in k?k[U]:Number.MAX_SAFE_INTEGER,_e=G in k?k[G]:Number.MAX_SAFE_INTEGER,Be=0;return ce<_e?Be=-1:ce>_e&&(Be=1),h==="desc"?Be*-1:Be}}function Ki(s,l=s.getLatLngs()){return s instanceof L.Polygon?L.polygon(l).getLatLngs():L.polyline(l).getLatLngs()}function Yo(s,l){var h,f,_,b;if((f=(h=l.options.crs)==null?void 0:h.projection)!=null&&f.MAX_LATITUDE){let k=(b=(_=l.options.crs)==null?void 0:_.projection)==null?void 0:b.MAX_LATITUDE;s.lat=Math.max(Math.min(k,s.lat),-k)}return s}function Tr(s){return s.options.renderer||s._map&&(s._map._getPaneRenderer(s.options.pane)||s._map.options.renderer||s._map._renderer)||s._renderer}var xi=L.Class.extend({includes:[dr,po,fr,Uu,Dr],initialize(s){this.map=s,this.Draw=new L.PM.Draw(s),this.Toolbar=new L.PM.Toolbar(s),this.Keyboard=qu(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(s)},setLang(s="en",l,h="en"){let f=L.PM.activeLang;l&&(hr[s]=(0,vt.default)(hr[h],l)),L.PM.activeLang=s,this.map.pm.Toolbar.reinit(),this._fireLangChange(f,s,h,hr[s])},addControls(s){this.Toolbar.addControls(s)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(s="Polygon",l){s==="Poly"&&(s="Polygon"),this.Draw.enable(s,l)},disableDraw(s="Polygon"){s==="Poly"&&(s="Polygon"),this.Draw.disable(s)},setPathOptions(s,l={}){let h=l.ignoreShapes||[],f=l.merge||!1;this.map.pm.Draw.shapes.forEach(_=>{h.indexOf(_)===-1&&this.map.pm.Draw[_].setPathOptions(s,f)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(s){let l=(0,vt.default)(this.globalOptions,s);l.editable&&(l.resizeableCircleMarker=l.editable,delete l.editable);let h=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!l.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),h=!0);let f=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!l.resizableCircle&&(this.map.pm.Draw.Circle.disable(),f=!0),this.map.pm.Draw.shapes.forEach(_=>{this.map.pm.Draw[_].setOptions(l)}),h&&this.map.pm.Draw.CircleMarker.enable(),f&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(_=>{_.pm.setOptions(l)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=l,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(s=>{s.pm.enabled()&&s.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(s){return this.Draw.Cut.enable(s)},toggleGlobalCutMode(s){return this.Draw.Cut.toggle(s)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(s=!1){let l=L.PM.Utils.findLayers(this.map);if(!s)return l;let h=L.featureGroup();return h._pmTempLayer=!0,l.forEach(f=>{h.addLayer(f)}),h},getGeomanDrawLayers(s=!1){let l=L.PM.Utils.findLayers(this.map).filter(f=>f._drawnByGeoman===!0);if(!s)return l;let h=L.featureGroup();return h._pmTempLayer=!0,l.forEach(f=>{h.addLayer(f)}),h},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(s){this._touchEventCounter===0&&(L.DomEvent.on(s,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(s,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(s){this._touchEventCounter===1&&(L.DomEvent.off(s,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(s,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(s){Tr(this.map)._onMouseMove(this._createMouseEvent("mousemove",s))},_canvasTouchClick(s){let l="";s.type==="touchstart"||s.type==="pointerdown"?l="mousedown":(s.type==="touchend"||s.type==="pointerup"||s.type==="touchcancel"||s.type==="pointercancel")&&(l="mouseup"),l&&Tr(this.map)._onClick(this._createMouseEvent(l,s))},_createMouseEvent(s,l){let h,f=l.touches[0]||l.changedTouches[0];try{h=new MouseEvent(s,{bubbles:l.bubbles,cancelable:l.cancelable,view:l.view,detail:f.detail,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY,ctrlKey:l.ctrlKey,altKey:l.altKey,shiftKey:l.shiftKey,metaKey:l.metaKey,button:l.button,relatedTarget:l.relatedTarget})}catch{h=document.createEvent("MouseEvents"),h.initMouseEvent(s,l.bubbles,l.cancelable,l.view,f.detail,f.screenX,f.screenY,f.clientX,f.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget)}return h}}),th=xi,Wu=L.Control.extend({includes:[Dr],options:{position:"topleft",disableByOtherButtons:!0},initialize(s){this._button=L.Util.extend({},this.options,s)},onAdd(s){return this._map=s,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let s=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),s?s.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(s){return typeof s=="boolean"?this._button.toggleStatus=s:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled()},_triggerClick(s){s&&s.preventDefault(),!this._button.disabled&&(this._button.onClick(s,{button:this,event:s}),this._clicked(s),this._button.afterClick(s,{button:this,event:s}))},_makeButton(s){let l=this.options.position.indexOf("right")>-1?"pos-right":"",h=L.DomUtil.create("div",`button-container  ${l}`,this._container);s.title&&h.setAttribute("title",s.title);let f=L.DomUtil.create("a","leaflet-buttons-control-button",h);f.setAttribute("role","button"),f.setAttribute("tabindex","0"),f.href="#";let _=L.DomUtil.create("div",`leaflet-pm-actions-container ${l}`,h),b=s.actions,k={cancel:{text:Dt("actions.cancel"),title:Dt("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Dt("actions.finish"),title:Dt("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Dt("actions.removeLastVertex"),title:Dt("actions.removeLastVertex"),onClick(){this._map.pm.Draw[s.jsClass]._removeLastVertex()}},finish:{text:Dt("actions.finish"),title:Dt("actions.finish"),onClick(M){this._map.pm.Draw[s.jsClass]._finishShape(M)}}};b.forEach(M=>{let P=typeof M=="string"?M:M.name,U;if(k[P])U=k[P];else if(M.text)U=M;else return;let G=L.DomUtil.create("a",`leaflet-pm-action ${l} action-${P}`,_);if(G.setAttribute("role","button"),G.setAttribute("tabindex","0"),G.href="#",U.title&&(G.title=U.title),G.innerHTML=U.text,L.DomEvent.disableClickPropagation(G),L.DomEvent.on(G,"click",L.DomEvent.stop),!s.disabled&&U.onClick){let ce=_e=>{_e.preventDefault();let Be="",{buttons:Ke}=this._map.pm.Toolbar;for(let et in Ke)if(Ke[et]._button===s){Be=et;break}this._fireActionClick(U,Be,s)};L.DomEvent.addListener(G,"click",ce,this),L.DomEvent.addListener(G,"click",U.onClick,this)}}),s.toggleStatus&&L.DomUtil.addClass(h,"active");let w=L.DomUtil.create("div","control-icon",f);return s.iconUrl&&w.setAttribute("src",s.iconUrl),s.className&&L.DomUtil.addClass(w,s.className),L.DomEvent.disableClickPropagation(f),L.DomEvent.on(f,"click",L.DomEvent.stop),s.disabled||(L.DomEvent.addListener(f,"click",this._onBtnClick,this),L.DomEvent.addListener(f,"click",this._triggerClick,this)),s.disabled&&(L.DomUtil.addClass(f,"pm-disabled"),f.setAttribute("aria-disabled","true")),h},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let s="",{buttons:l}=this._map.pm.Toolbar;for(let h in l)if(l[h]._button===this._button){s=h;break}this._fireButtonClick(s,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let s="pm-disabled",l=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(l,s),l.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(l,s),l.setAttribute("aria-disabled","false"))}}),Wi=Wu;L.Control.PMButton=Wi;var Ju=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(s){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(s)},reinit(){let s=this.isVisible;this.removeControls(),this._defineButtons(),s&&this.addControls()},init(s){this.map=s,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(s){let l=`${s}Container`;return this[l]||(this[l]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${s} leaflet-bar leaflet-control`)),this[l]},getButtons(){return this.buttons},addControls(s=this.options){typeof s.editPolygon<"u"&&(s.editMode=s.editPolygon),typeof s.deleteLayer<"u"&&(s.removalMode=s.deleteLayer),L.Util.setOptions(this,s),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let s=this.getButtons(),l={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let h in s){let f=s[h];L.Util.setOptions(f,{className:l.geomanIcons[h]})}},removeControls(){let s=this.getButtons();for(let l in s)s[l].remove();this.isVisible=!1},toggleControls(s=this.options){this.isVisible?this.removeControls():this.addControls(s)},_addButton(s,l){return this.buttons[s]=l,this.options[s]=!!this.options[s]||!1,this.buttons[s]},triggerClickOnToggledButtons(s){for(let l in this.buttons){let h=this.buttons[l];h._button.disableByOtherButtons&&h!==s&&h.toggled()&&h._triggerClick()}},toggleButton(s,l,h=!0){return s==="editPolygon"&&(s="editMode"),s==="deleteLayer"&&(s="removalMode"),h&&this.triggerClickOnToggledButtons(this.buttons[s]),this.buttons[s]?this.buttons[s].toggle(l):!1},_defineButtons(){let s={className:"control-icon leaflet-pm-icon-marker",title:Dt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},l={title:Dt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},h={className:"control-icon leaflet-pm-icon-polyline",title:Dt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},f={title:Dt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},_={title:Dt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},b={title:Dt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},k={title:Dt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},w={title:Dt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},M={title:Dt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},P={title:Dt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},U={title:Dt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},G={className:"control-icon leaflet-pm-icon-text",title:Dt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(s)),this._addButton("drawPolyline",new L.Control.PMButton(h)),this._addButton("drawRectangle",new L.Control.PMButton(b)),this._addButton("drawPolygon",new L.Control.PMButton(l)),this._addButton("drawCircle",new L.Control.PMButton(f)),this._addButton("drawCircleMarker",new L.Control.PMButton(_)),this._addButton("drawText",new L.Control.PMButton(G)),this._addButton("editMode",new L.Control.PMButton(k)),this._addButton("dragMode",new L.Control.PMButton(w)),this._addButton("cutPolygon",new L.Control.PMButton(M)),this._addButton("removalMode",new L.Control.PMButton(P)),this._addButton("rotateMode",new L.Control.PMButton(U))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let s=this.getButtons(),l=[];this.options.drawControls===!1&&(l=l.concat(Object.keys(s).filter(h=>!s[h]._button.tool))),this.options.editControls===!1&&(l=l.concat(Object.keys(s).filter(h=>s[h]._button.tool==="edit"))),this.options.optionsControls===!1&&(l=l.concat(Object.keys(s).filter(h=>s[h]._button.tool==="options"))),this.options.customControls===!1&&(l=l.concat(Object.keys(s).filter(h=>s[h]._button.tool==="custom")));for(let h in s)if(this.options[h]&&l.indexOf(h)===-1){let f=s[h]._button.tool;f||(f="draw"),s[h].setPosition(this._getBtnPosition(f)),s[h].addTo(this.map)}},_getBtnPosition(s){return this.options.positions&&this.options.positions[s]?this.options.positions[s]:this.options.position},setBlockPosition(s,l){this.options.positions[s]=l,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(s,l){if(l)typeof l!="object"&&(l={name:l});else throw new TypeError("Button has no name");let h=this._btnNameMapping(s);if(!l.name)throw new TypeError("Button has no name");if(this.buttons[l.name])throw new TypeError("Button with this name already exists");let f=this.map.pm.Draw.createNewDrawInstance(l.name,h);l={...this.buttons[h]._button,...l};let _=this.createCustomControl(l);return{drawInstance:f,control:_}},createCustomControl(s){if(!s.name)throw new TypeError("Button has no name");if(this.buttons[s.name])throw new TypeError("Button with this name already exists");s.onClick||(s.onClick=()=>{}),s.afterClick||(s.afterClick=()=>{}),s.toggle!==!1&&(s.toggle=!0),s.block&&(s.block=s.block.toLowerCase()),(!s.block||s.block==="draw")&&(s.block=""),s.className?s.className.indexOf("control-icon")===-1&&(s.className=`control-icon ${s.className}`):s.className="control-icon";let l={tool:s.block,className:s.className,title:s.title||"",jsClass:s.name,onClick:s.onClick,afterClick:s.afterClick,doToggle:s.toggle,toggleStatus:!1,disableOtherButtons:s.disableOtherButtons??!0,disableByOtherButtons:s.disableByOtherButtons??!0,cssToggle:s.toggle,position:this.options.position,actions:s.actions||[],disabled:!!s.disabled};this.options[s.name]!==!1&&(this.options[s.name]=!0);let h=this._addButton(s.name,new L.Control.PMButton(l));return this.changeControlOrder(),h},controlExists(s){return!!this.getButton(s)},getButton(s){return this.getButtons()[s]},getButtonsInBlock(s){let l={};if(s)for(let h in this.getButtons()){let f=this.getButtons()[h];(f._button.tool===s||s==="draw"&&!f._button.tool)&&(l[h]=f)}return l},changeControlOrder(s=[]){let l=this._shapeMapping(),h=[];s.forEach(b=>{l[b]?h.push(l[b]):h.push(b)});let f=this.getButtons(),_={};h.forEach(b=>{f[b]&&(_[b]=f[b])}),Object.keys(f).filter(b=>!f[b]._button.tool).forEach(b=>{h.indexOf(b)===-1&&(_[b]=f[b])}),Object.keys(f).filter(b=>f[b]._button.tool==="edit").forEach(b=>{h.indexOf(b)===-1&&(_[b]=f[b])}),Object.keys(f).filter(b=>f[b]._button.tool==="options").forEach(b=>{h.indexOf(b)===-1&&(_[b]=f[b])}),Object.keys(f).filter(b=>f[b]._button.tool==="custom").forEach(b=>{h.indexOf(b)===-1&&(_[b]=f[b])}),Object.keys(f).forEach(b=>{h.indexOf(b)===-1&&(_[b]=f[b])}),this.map.pm.Toolbar.buttons=_,this._showHideButtons()},getControlOrder(){let s=this.getButtons(),l=[];for(let h in s)l.push(h);return l},changeActionsOfControl(s,l){let h=this._btnNameMapping(s);if(!h)throw new TypeError("No name passed");if(!l)throw new TypeError("No actions passed");if(!this.buttons[h])throw new TypeError("Button with this name not exists");this.buttons[h]._button.actions=l,this.changeControlOrder()},setButtonDisabled(s,l){let h=this._btnNameMapping(s);l?this.buttons[h].disable():this.buttons[h].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(s){let l=this._shapeMapping();return l[s]?l[s]:s}}),Yu=Ju,ca=p($o()),nh={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(s){s.forEach(l=>{if(Array.isArray(l)){this._assignEvents(l);return}l.off("drag",this._handleSnapping,this),l.on("drag",this._handleSnapping,this),l.off("dragend",this._cleanupSnapping,this),l.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(s){if(s){let l=s.target;l._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(l=>{l.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(s){var w,M,P;let l=s.target;if(l._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),((w=s==null?void 0:s.originalEvent)==null?void 0:w.altKey)||((P=(M=this._map)==null?void 0:M.pm)==null?void 0:P.Keyboard.isAltKeyPressed())||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let h=this._calcClosestLayer(l.getLatLng(),this._snapList);if(Object.keys(h).length===0)return!1;let f=h.layer instanceof L.Marker||h.layer instanceof L.CircleMarker||!this.options.snapSegment,_;f?_=h.latlng:_=this._checkPrioritiySnapping(h);let b=this.options.snapDistance,k={marker:l,shape:this._shape,snapLatLng:_,segment:h.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:h.layer,distance:h.distance};if(this._fireSnapDrag(k.marker,k),this._fireSnapDrag(this._layer,k),h.distance<b){l._orgLatLng=l.getLatLng(),l.setLatLng(_),l._snapped=!0,l._snapInfo=k;let U=()=>{this._snapLatLng=_,this._fireSnap(l,k),this._fireSnap(this._layer,k)},G=this._snapLatLng||{},ce=_||{};(G.lat!==ce.lat||G.lng!==ce.lng)&&U()}else this._snapLatLng&&(this._unsnap(k),l._snapped=!1,l._snapInfo=void 0,this._fireUnsnap(k.marker,k),this._fireUnsnap(this._layer,k));return!0},_createSnapList(){let s=[],l=[],h=this._map;h.off("layerremove",this._handleSnapLayerRemoval,this),h.on("layerremove",this._handleSnapLayerRemoval,this),h.eachLayer(f=>{if((f instanceof L.Polyline||f instanceof L.Marker||f instanceof L.CircleMarker||f instanceof L.ImageOverlay)&&f.options.snapIgnore!==!0){if(f.options.snapIgnore===void 0&&(!L.PM.optIn&&f.options.pmIgnore===!0||L.PM.optIn&&f.options.pmIgnore!==!1))return;(f instanceof L.Circle||f instanceof L.CircleMarker)&&f.pm&&f.pm._hiddenPolyCircle?s.push(f.pm._hiddenPolyCircle):f instanceof L.ImageOverlay&&(f=L.rectangle(f.getBounds())),s.push(f);let _=L.polyline([],{color:"red",pmIgnore:!0});_._pmTempLayer=!0,l.push(_),(f instanceof L.Circle||f instanceof L.CircleMarker)&&l.push(_)}}),s=s.filter(f=>this._layer!==f),s=s.filter(f=>f._latlng||f._latlngs&&Zn(f._latlngs)),s=s.filter(f=>!f._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let f=L.polyline([],{color:"red",pmIgnore:!0});f._pmTempLayer=!0,l.push(f)}),this._snapList=s.concat(this._otherSnapLayers)):this._snapList=s,this.debugIndicatorLines=l},_handleSnapLayerRemoval({layer:s}){if(!s._leaflet_id)return;let l=this._snapList.findIndex(h=>h._leaflet_id===s._leaflet_id);l>-1&&this._snapList.splice(l,1)},_calcClosestLayer(s,l){return this._calcClosestLayers(s,l,1)[0]},_calcClosestLayers(s,l,h=1){let f=[],_={};l.forEach((k,w)=>{if(k._parentCopy&&k._parentCopy===this._layer)return;let M=this._calcLayerDistances(s,k);if(M.distance=Math.floor(M.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[w]){let P=L.polyline([],{color:"red",pmIgnore:!0});P._pmTempLayer=!0,this.debugIndicatorLines[w]=P}this.debugIndicatorLines[w].setLatLngs([s,M.latlng])}h===1&&(_.distance===void 0||M.distance-5<=_.distance)?(M.distance+5<_.distance&&(f=[]),_=M,_.layer=k,f.push(_)):h!==1&&(_={},_=M,_.layer=k,f.push(_))}),h!==1&&(f=f.sort((k,w)=>k.distance-w.distance)),h===-1&&(h=f.length);let b=this._getClosestLayerByPriority(f,h);return L.Util.isArray(b)?b:[b]},_calcLayerDistances(s,l){let h=this._map,f=l instanceof L.Marker||l instanceof L.CircleMarker,_=l instanceof L.Polygon,b=s;if(f){let k=l.getLatLng();return{latlng:{...k},distance:this._getDistance(h,k,b)}}return this._calcLatLngDistances(b,l.getLatLngs(),h,_)},_calcLatLngDistances(s,l,h,f=!1){let _,b,k,w=M=>{M.forEach((P,U)=>{if(Array.isArray(P)){w(P);return}if(this.options.snapSegment){let G=P,ce;f?ce=U+1===M.length?0:U+1:ce=U+1===M.length?void 0:U+1;let _e=M[ce];if(_e){let Be=this._getDistanceToSegment(h,s,G,_e);(b===void 0||Be<b)&&(b=Be,k=[G,_e])}}else{let G=this._getDistance(h,s,P);(b===void 0||G<b)&&(b=G,_=P)}})};return w(l),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(h,s,k[0],k[1])},segment:k,distance:b}:{latlng:_,distance:b}},_getClosestLayerByPriority(s,l=1){s=s.sort((k,w)=>k._leaflet_id-w._leaflet_id);let h=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],f=this._map.pm.globalOptions.snappingOrder||[],_=0,b={};return f.concat(h).forEach(k=>{b[k]||(_+=1,b[k]=_)}),s.sort(eh("instanceofShape",b)),l===1?s[0]||{}:s.slice(0,l)},_checkPrioritiySnapping(s){let l=this._map,h=s.segment[0],f=s.segment[1],_=s.latlng,b=this._getDistance(l,h,_),k=this._getDistance(l,f,_),w=b<k?h:f,M=b<k?b:k;if(this.options.snapMiddle){let G=L.PM.Utils.calcMiddleLatLng(l,h,f),ce=this._getDistance(l,G,_);ce<b&&ce<k&&(w=G,M=ce)}let P=this.options.snapDistance,U;return M<P?U=w:U=_,{...U}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(s,l,h,f){let _=s.getMaxZoom();_===1/0&&(_=s.getZoom());let b=s.project(l,_),k=s.project(h,_),w=s.project(f,_),M=L.LineUtil.closestPointOnSegment(b,k,w);return s.unproject(M,_)},_getDistanceToSegment(s,l,h,f){let _=s.latLngToLayerPoint(l),b=s.latLngToLayerPoint(h),k=s.latLngToLayerPoint(f);return L.LineUtil.pointToSegmentDistance(_,b,k)},_getDistance(s,l,h){return s.latLngToLayerPoint(l).distanceTo(s.latLngToLayerPoint(h))}},ha=nh,Xu=L.Class.extend({includes:[ha,Dr],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions(s){L.Util.setOptions(this,s),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(s){let l=new L.Icon.Default;l.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=l,this._map=s,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(h=>{this[h]=new L.PM.Draw[h](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(s,l=!1){l?this.options.pathOptions=(0,ca.default)(this.options.pathOptions,s):this.options.pathOptions=s},getShapes(){return this.shapes},getShape(){return this._shape},enable(s,l){if(!s)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[s].enable(l)},disable(){this.shapes.forEach(s=>{this[s].disable()})},addControls(){this.shapes.forEach(s=>{this[s].addButton()})},getActiveShape(){let s;return this.shapes.forEach(l=>{this[l]._enabled&&(s=l)}),s},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let s=[];this._map.eachLayer(l=>{(l instanceof L.Polyline||l instanceof L.Marker||l instanceof L.Circle||l instanceof L.CircleMarker||l instanceof L.ImageOverlay)&&(l._pmTempLayer||s.push(l))}),this._enabled?s.forEach(l=>{L.PM.Utils.disablePopup(l)}):s.forEach(l=>{L.PM.Utils.enablePopup(l)})},createNewDrawInstance(s,l){let h=this._getShapeFromBtnName(l);if(this[s])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[h])throw new TypeError(`There is no class L.PM.Draw.${h}`);return this[s]=new L.PM.Draw[h](this._map),this[s].toolbarButtonName=s,this[s]._shape=s,this.shapes.push(s),this[l]&&this[s].setOptions(this[l].options),this[s].setOptions(this[s].options),this[s]},_getShapeFromBtnName(s){let l={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return l[s]?l[s]:this[s]?this[s]._shape:s},_finishLayer(s){s.pm&&(s.pm.setOptions(this.options),s.pm._shape=this._shape,s.pm._map=this._map),this._addDrawnLayerProp(s)},_addDrawnLayerProp(s){s._drawnByGeoman=!0},_setPane(s,l){l==="layerPane"?s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Mn=Xu;Mn.Marker=Mn.extend({initialize(s){this._map=s,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(s){L.Util.setOptions(this,s),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Dt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(l=>{this.isRelevantMarker(l)&&l.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(s=>{this.isRelevantMarker(s)&&s.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},isRelevantMarker(s){return s instanceof L.Marker&&s.pm&&!s._pmTempLayer&&!s.pm._initTextMarker},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this.options.snappable){let l=s;l.target=this._hintMarker,this._handleSnapping(l)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(s){if(!s.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let l=this._hintMarker.getLatLng(),h=new L.Marker(l,this.options.markerStyle);this._setPane(h,"markerPane"),this._finishLayer(h),h.pm||(h.options.draggable=!1),h.addTo(this._map.pm._getContainingLayer()),h.pm&&this.options.markerEditable?h.pm.enable():h.dragging&&h.dragging.disable(),this._fireCreate(h),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){var s,l;(s=this.options.markerStyle)!=null&&s.icon&&((l=this._hintMarker)==null||l.setIcon(this.options.markerStyle.icon))}});var jn=63710088e-1,Xo={centimeters:jn*100,centimetres:jn*100,degrees:jn/111325,feet:jn*3.28084,inches:jn*39.37,kilometers:jn/1e3,kilometres:jn/1e3,meters:jn,metres:jn,miles:jn/1609.344,millimeters:jn*1e3,millimetres:jn*1e3,nauticalmiles:jn/1852,radians:1,yards:jn*1.0936};function Rr(s,l,h){h===void 0&&(h={});var f={type:"Feature"};return(h.id===0||h.id)&&(f.id=h.id),h.bbox&&(f.bbox=h.bbox),f.properties=l||{},f.geometry=s,f}function pr(s,l,h){if(h===void 0&&(h={}),!s)throw new Error("coordinates is required");if(!Array.isArray(s))throw new Error("coordinates must be an Array");if(s.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!da(s[0])||!da(s[1]))throw new Error("coordinates must contain numbers");var f={type:"Point",coordinates:s};return Rr(f,l,h)}function Or(s,l,h){if(h===void 0&&(h={}),s.length<2)throw new Error("coordinates must be an array of two or more positions");var f={type:"LineString",coordinates:s};return Rr(f,l,h)}function di(s,l){l===void 0&&(l={});var h={type:"FeatureCollection"};return l.id&&(h.id=l.id),l.bbox&&(h.bbox=l.bbox),h.features=s,h}function mr(s,l){l===void 0&&(l="kilometers");var h=Xo[l];if(!h)throw new Error(l+" units is invalid");return s*h}function ih(s,l){l===void 0&&(l="kilometers");var h=Xo[l];if(!h)throw new Error(l+" units is invalid");return s/h}function _r(s){var l=s%(2*Math.PI);return l*180/Math.PI}function nn(s){var l=s%360;return l*Math.PI/180}function da(s){return!isNaN(s)&&s!==null&&!Array.isArray(s)}function _o(s){var l,h,f={type:"FeatureCollection",features:[]};if(s.type==="Feature"?h=s.geometry:h=s,h.type==="LineString")l=[h.coordinates];else if(h.type==="MultiLineString")l=h.coordinates;else if(h.type==="MultiPolygon")l=[].concat.apply([],h.coordinates);else if(h.type==="Polygon")l=h.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return l.forEach(function(_){l.forEach(function(b){for(var k=0;k<_.length-1;k++)for(var w=k;w<b.length-1;w++)if(!(_===b&&(Math.abs(k-w)===1||k===0&&w===_.length-2&&_[k][0]===_[_.length-1][0]&&_[k][1]===_[_.length-1][1]))){var M=rh(_[k][0],_[k][1],_[k+1][0],_[k+1][1],b[w][0],b[w][1],b[w+1][0],b[w+1][1]);M&&f.features.push(pr([M[0],M[1]]))}})}),f}function rh(s,l,h,f,_,b,k,w){var M,P,U,G,ce,_e={x:null,y:null,onLine1:!1,onLine2:!1};return M=(w-b)*(h-s)-(k-_)*(f-l),M===0?_e.x!==null&&_e.y!==null?_e:!1:(P=l-b,U=s-_,G=(k-_)*P-(w-b)*U,ce=(h-s)*P-(f-l)*U,P=G/M,U=ce/M,_e.x=s+P*(h-s),_e.y=l+P*(f-l),P>=0&&P<=1&&(_e.onLine1=!0),U>=0&&U<=1&&(_e.onLine2=!0),_e.onLine1&&_e.onLine2?[_e.x,_e.y]:!1)}Mn.Line=Mn.extend({initialize(s){this._map=s,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(s){L.Util.setOptions(this,s),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Dt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},_syncHintLine(){let s=this._layer.getLatLngs();if(s.length>0){let l=s[s.length-1];this._hintline.setLatLngs([l,this._hintMarker.getLatLng()])}},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this.options.snappable){let h=s;h.target=this._hintMarker,this._handleSnapping(h)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let l=this._layer._defaultShape().slice();l.push(this._hintMarker.getLatLng()),this._change(l)},hasSelfIntersection(){return _o(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(s,l){let h=L.polyline(this._layer.getLatLngs());s&&(l||(l=this._hintMarker.getLatLng()),h.addLatLng(l));let f=_o(h.toGeoJSON(15));this._doesSelfIntersect=f.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(f,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(s){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,s.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let l=this._hintMarker.getLatLng(),h=this._layer.getLatLngs(),f=h[h.length-1];if(l.equals(h[0])||h.length>0&&l.equals(f)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:l,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(l);let _=this._createMarker(l);this._setTooltipText(),this._setHintLineAfterNewVertex(l),this._fireVertexAdded(_,void 0,l,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(s)},_setHintLineAfterNewVertex(s){this._hintline.setLatLngs([s,s])},_removeLastVertex(){let s=this._markers;if(s.length<=1){this.disable();return}let l=this._layer.getLatLngs(),h=s[s.length-1],{indexPath:f}=L.PM.Utils.findDeepMarkerIndex(s,h);s.pop(),this._layerGroup.removeLayer(h);let _=s[s.length-1],b=l.indexOf(_.getLatLng());l=l.slice(0,b+1),this._layer.setLatLngs(l),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(h,f,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let s=this._layer.getLatLngs();if(s.length<=1)return;let l=L.polyline(s,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createMarker(s){let l=new L.Marker(s,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),l.on("click",this._finishShape,this),l},_setTooltipText(){let{length:s}=this._layer.getLatLngs().flat(),l="";s<=1?l=Dt("tooltips.continueLine"):l=Dt("tooltips.finishLine"),this._hintMarker.setTooltipContent(l)},_change(s){this._fireChange(s,"Draw")},setStyle(){var s,l;(s=this._layer)==null||s.setStyle(this.options.templineStyle),(l=this._hintline)==null||l.setStyle(this.options.hintlineStyle)}}),Mn.Polygon=Mn.Line.extend({initialize(s){this._map=s,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(s){L.PM.Draw.Line.prototype.enable.call(this,s),this._layer.pm._shape="Polygon"},_createMarker(s){let l=new L.Marker(s,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),this._layer.getLatLngs().flat().length===1?(l.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(l)-1,this.options.snappable&&this._cleanupSnapping()):l.on("click",()=>1),l},_setTooltipText(){let{length:s}=this._layer.getLatLngs().flat(),l="";s<=2?l=Dt("tooltips.continueLine"):l=Dt("tooltips.finishPoly"),this._hintMarker.setTooltipContent(l)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let s=this._layer.getLatLngs();if(s.length<=2)return;let l=L.polygon(s,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}),Mn.Rectangle=Mn.extend({initialize(s){this._map=s,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(s){if(L.Util.setOptions(this,s),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Dt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let l=0;l<2;l+=1){let h=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this._layerGroup.addLayer(h),this._styleMarkers.push(h)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},_placeStartingMarkers(s){this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let l=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(l),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(h=>{L.DomUtil.addClass(h._icon,"visible"),h.setLatLng(l)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Dt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let s=this._startMarker.getLatLng();s&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([s,s]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this.options.snappable){let h=s;h.target=this._hintMarker,this._handleSnapping(h)}let l=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(l,"Draw")},_syncRectangleSize(){let s=Yo(this._startMarker.getLatLng(),this._map),l=Yo(this._hintMarker.getLatLng(),this._map),h=L.PM.Utils._getRotatedRectangle(s,l,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(h),this.options.cursorMarker&&this._styleMarkers){let f=[];h.forEach(_=>{!_.equals(s,1e-8)&&!_.equals(l,1e-8)&&f.push(_)}),f.forEach((_,b)=>{try{this._styleMarkers[b].setLatLng(_)}catch{}})}},_findCorners(){let s=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(s[0],s[2],this.options.rectangleAngle||0,this._map)},_finishShape(s){this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let l=this._hintMarker.getLatLng(),h=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||h.equals(l))return;let f=L.rectangle([h,l],this.options.pathOptions);if(this.options.rectangleAngle){let _=L.PM.Utils._getRotatedRectangle(h,l,this.options.rectangleAngle||0,this._map);f.setLatLngs(_),f.pm&&f.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(f,"layerPane"),this._finishLayer(f),f.addTo(this._map.pm._getContainingLayer()),this._fireCreate(f),this.disable(),this.options.continueDrawing&&this.enable()},setStyle(){var s;(s=this._layer)==null||s.setStyle(this.options.pathOptions)}}),Mn.CircleMarker=Mn.extend({initialize(s){this._map=s,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(s){if(L.Util.setOptions(this,s),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let l={};L.extend(l,this.options.templineStyle),l.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),l),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Dt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Dt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(s=>{this.isRelevantMarker(s)&&s.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(s=>{this.isRelevantMarker(s)&&s.pm.disable()})},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},_placeCenterMarker(s){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let l=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(l),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let s=this._centerMarker.getLatLng();s&&(this._layer.setLatLng(s),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Dt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let s=this._centerMarker.getLatLng(),l=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([s,l])},_syncCircleRadius(){let s=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),h=this._distanceCalculation(s,l);this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(h)},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let h=s;h.target=this._hintMarker,this._handleSnapping(h)}this._handleHintMarkerSnapping();let l=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(l,"Draw")},isRelevantMarker(s){return s instanceof L.CircleMarker&&!(s instanceof L.Circle)&&s.pm&&!s._pmTempLayer},_createMarker(s){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!s.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let l=this._hintMarker.getLatLng(),h=new this._BaseCircleClass(l,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(h),this._fireCreate(h),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(s){s.pm&&this.options.markerEditable&&s.pm.enable()},_finishShape(s){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let l=this._centerMarker.getLatLng(),h=this._defaultRadius;if(this.options[this._editableOption]){let b=this._hintMarker.getLatLng();h=this._distanceCalculation(l,b),this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?h=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&(h=this.options[this._maxRadiusOption])}let f={...this.options.pathOptions,radius:h},_=new this._BaseCircleClass(l,f);this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),_.pm&&_.pm._updateHiddenPolyCircle(),this._fireCreate(_),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker(){let s=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return s;let l=this._centerMarker.getLatLng(),h=this._distanceCalculation(l,s);this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?s=mo(this._map,l,s,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&(s=mo(this._map,l,s,this._getMaxDistanceInMeter()))}return s},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let s=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),h=this._distanceCalculation(s,l);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){var l,h;let s={};L.extend(s,this.options.templineStyle),this.options[this._editableOption]&&(s.radius=0),(l=this._layer)==null||l.setStyle(s),(h=this._hintline)==null||h.setStyle(this.options.hintlineStyle)},_distanceCalculation(s,l){return this._map.project(s).distanceTo(this._map.project(l))}}),Mn.Circle=Mn.CircleMarker.extend({initialize(s){this._map=s,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(s,l){return this._map.distance(s,l)}});function ti(s){if(!s)throw new Error("coord is required");if(!Array.isArray(s)){if(s.type==="Feature"&&s.geometry!==null&&s.geometry.type==="Point")return s.geometry.coordinates;if(s.type==="Point")return s.coordinates}if(Array.isArray(s)&&s.length>=2&&!Array.isArray(s[0])&&!Array.isArray(s[1]))return s;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ni(s){if(Array.isArray(s))return s;if(s.type==="Feature"){if(s.geometry!==null)return s.geometry.coordinates}else if(s.coordinates)return s.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Qo(s){return s.type==="Feature"?s.geometry:s}function Qu(s,l){return s.type==="FeatureCollection"?"FeatureCollection":s.type==="GeometryCollection"?"GeometryCollection":s.type==="Feature"&&s.geometry!==null?s.geometry.type:s.type}function es(s,l,h){if(s!==null)for(var f,_,b,k,w,M,P,U=0,G=0,ce,_e=s.type,Be=_e==="FeatureCollection",Ke=_e==="Feature",et=Be?s.features.length:1,Tt=0;Tt<et;Tt++){P=Be?s.features[Tt].geometry:Ke?s.geometry:s,ce=P?P.type==="GeometryCollection":!1,w=ce?P.geometries.length:1;for(var H=0;H<w;H++){var J=0,oe=0;if(k=ce?P.geometries[H]:P,k!==null){M=k.coordinates;var me=k.type;switch(U=0,me){case null:break;case"Point":if(l(M,G,Tt,J,oe)===!1)return!1;G++,J++;break;case"LineString":case"MultiPoint":for(f=0;f<M.length;f++){if(l(M[f],G,Tt,J,oe)===!1)return!1;G++,me==="MultiPoint"&&J++}me==="LineString"&&J++;break;case"Polygon":case"MultiLineString":for(f=0;f<M.length;f++){for(_=0;_<M[f].length-U;_++){if(l(M[f][_],G,Tt,J,oe)===!1)return!1;G++}me==="MultiLineString"&&J++,me==="Polygon"&&oe++}me==="Polygon"&&J++;break;case"MultiPolygon":for(f=0;f<M.length;f++){for(oe=0,_=0;_<M[f].length;_++){for(b=0;b<M[f][_].length-U;b++){if(l(M[f][_][b],G,Tt,J,oe)===!1)return!1;G++}oe++}J++}break;case"GeometryCollection":for(f=0;f<k.geometries.length;f++)if(es(k.geometries[f],l)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function go(s,l){if(s.type==="Feature")l(s,0);else if(s.type==="FeatureCollection")for(var h=0;h<s.features.length&&l(s.features[h],h)!==!1;h++);}function fi(s,l,h){var f=h;return go(s,function(_,b){b===0&&h===void 0?f=_:f=l(f,_,b)}),f}function Fr(s,l){var h,f,_,b,k,w,M,P,U,G,ce=0,_e=s.type==="FeatureCollection",Be=s.type==="Feature",Ke=_e?s.features.length:1;for(h=0;h<Ke;h++){for(w=_e?s.features[h].geometry:Be?s.geometry:s,P=_e?s.features[h].properties:Be?s.properties:{},U=_e?s.features[h].bbox:Be?s.bbox:void 0,G=_e?s.features[h].id:Be?s.id:void 0,M=w?w.type==="GeometryCollection":!1,k=M?w.geometries.length:1,_=0;_<k;_++){if(b=M?w.geometries[_]:w,b===null){if(l(null,ce,P,U,G)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(l(b,ce,P,U,G)===!1)return!1;break}case"GeometryCollection":{for(f=0;f<b.geometries.length;f++)if(l(b.geometries[f],ce,P,U,G)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}ce++}}function fa(s,l){Fr(s,function(h,f,_,b,k){var w=h===null?null:h.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return l(Rr(h,_,{bbox:b,id:k}),f,0)===!1?!1:void 0}var M;switch(w){case"MultiPoint":M="Point";break;case"MultiLineString":M="LineString";break;case"MultiPolygon":M="Polygon";break}for(var P=0;P<h.coordinates.length;P++){var U=h.coordinates[P],G={type:M,coordinates:U};if(l(Rr(G,_),f,P)===!1)return!1}})}function Oi(s){if(!s)throw new Error("geojson is required");var l=[];return fa(s,function(h){oh(h,l)}),di(l)}function oh(s,l){var h=[],f=s.geometry;if(f!==null){switch(f.type){case"Polygon":h=ni(f);break;case"LineString":h=[ni(f)]}h.forEach(function(_){var b=Ir(_,s.properties);b.forEach(function(k){k.id=l.length,l.push(k)})})}}function Ir(s,l){var h=[];return s.reduce(function(f,_){var b=Or([f,_],l);return b.bbox=sh(f,_),h.push(b),_}),h}function sh(s,l){var h=s[0],f=s[1],_=l[0],b=l[1],k=h<_?h:_,w=f<b?f:b,M=h>_?h:_,P=f>b?f:b;return[k,w,M,P]}var gr=Oi,el=p(ur(),1);function ts(s,l){var h={},f=[];if(s.type==="LineString"&&(s=Rr(s)),l.type==="LineString"&&(l=Rr(l)),s.type==="Feature"&&l.type==="Feature"&&s.geometry!==null&&l.geometry!==null&&s.geometry.type==="LineString"&&l.geometry.type==="LineString"&&s.geometry.coordinates.length===2&&l.geometry.coordinates.length===2){var _=tl(s,l);return _&&f.push(_),di(f)}var b=(0,el.default)();return b.load(gr(l)),go(gr(s),function(k){go(b.search(k),function(w){var M=tl(k,w);if(M){var P=ni(M).join(",");h[P]||(h[P]=!0,f.push(M))}})}),di(f)}function tl(s,l){var h=ni(s),f=ni(l);if(h.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(f.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var _=h[0][0],b=h[0][1],k=h[1][0],w=h[1][1],M=f[0][0],P=f[0][1],U=f[1][0],G=f[1][1],ce=(G-P)*(k-_)-(U-M)*(w-b),_e=(U-M)*(b-P)-(G-P)*(_-M),Be=(k-_)*(b-P)-(w-b)*(_-M);if(ce===0)return null;var Ke=_e/ce,et=Be/ce;if(Ke>=0&&Ke<=1&&et>=0&&et<=1){var Tt=_+Ke*(k-_),H=b+Ke*(w-b);return pr([Tt,H])}return null}var Gn=ts,yo=p(ur(),1);function ah(s,l,h){h===void 0&&(h={});var f=ti(s),_=ti(l),b=nn(_[1]-f[1]),k=nn(_[0]-f[0]),w=nn(f[1]),M=nn(_[1]),P=Math.pow(Math.sin(b/2),2)+Math.pow(Math.sin(k/2),2)*Math.cos(w)*Math.cos(M);return mr(2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P)),h.units)}var Fi=ah;function uh(s){var l=s[0],h=s[1],f=s[2],_=s[3],b=Fi(s.slice(0,2),[f,h]),k=Fi(s.slice(0,2),[l,_]);if(b>=k){var w=(h+_)/2;return[l,w-(f-l)/2,f,w+(f-l)/2]}else{var M=(l+f)/2;return[M-(_-h)/2,h,M+(_-h)/2,_]}}var Ii=uh;function pa(s){var l=[1/0,1/0,-1/0,-1/0];return es(s,function(h){l[0]>h[0]&&(l[0]=h[0]),l[1]>h[1]&&(l[1]=h[1]),l[2]<h[0]&&(l[2]=h[0]),l[3]<h[1]&&(l[3]=h[1])}),l}pa.default=pa;var ki=pa;function lh(s,l){l===void 0&&(l={});var h=l.precision,f=l.coordinates,_=l.mutate;if(h=h==null||isNaN(h)?6:h,f=f==null||isNaN(f)?3:f,!s)throw new Error("<geojson> is required");if(typeof h!="number")throw new Error("<precision> must be a number");if(typeof f!="number")throw new Error("<coordinates> must be a number");(_===!1||_===void 0)&&(s=JSON.parse(JSON.stringify(s)));var b=Math.pow(10,h);return es(s,function(k){Ni(k,b,f)}),s}function Ni(s,l,h){s.length>h&&s.splice(h,s.length);for(var f=0;f<s.length;f++)s[f]=Math.round(s[f]*l)/l;return s}var ns=lh;function ma(s,l,h){if(h===void 0&&(h={}),h.final===!0)return _a(s,l);var f=ti(s),_=ti(l),b=nn(f[0]),k=nn(_[0]),w=nn(f[1]),M=nn(_[1]),P=Math.sin(k-b)*Math.cos(M),U=Math.cos(w)*Math.sin(M)-Math.sin(w)*Math.cos(M)*Math.cos(k-b);return _r(Math.atan2(P,U))}function _a(s,l){var h=ma(l,s);return h=(h+180)%360,h}function bo(s,l,h,f){f===void 0&&(f={});var _=ti(s),b=nn(_[0]),k=nn(_[1]),w=nn(h),M=ih(l,f.units),P=Math.asin(Math.sin(k)*Math.cos(M)+Math.cos(k)*Math.sin(M)*Math.cos(w)),U=b+Math.atan2(Math.sin(w)*Math.sin(M)*Math.cos(k),Math.cos(M)-Math.sin(k)*Math.sin(P)),G=_r(U),ce=_r(P);return pr([G,ce],f.properties)}function ga(s,l,h){h===void 0&&(h={});var f=pr([1/0,1/0],{dist:1/0}),_=0;return fa(s,function(b){for(var k=ni(b),w=0;w<k.length-1;w++){var M=pr(k[w]);M.properties.dist=Fi(l,M,h);var P=pr(k[w+1]);P.properties.dist=Fi(l,P,h);var U=Fi(M,P,h),G=Math.max(M.properties.dist,P.properties.dist),ce=ma(M,P),_e=bo(l,G,ce+90,h),Be=bo(l,G,ce-90,h),Ke=Gn(Or([_e.geometry.coordinates,Be.geometry.coordinates]),Or([M.geometry.coordinates,P.geometry.coordinates])),et=null;Ke.features.length>0&&(et=Ke.features[0],et.properties.dist=Fi(l,et,h),et.properties.location=_+Fi(M,et,h)),M.properties.dist<f.properties.dist&&(f=M,f.properties.index=w,f.properties.location=_),P.properties.dist<f.properties.dist&&(f=P,f.properties.index=w+1,f.properties.location=_+U),et&&et.properties.dist<f.properties.dist&&(f=et,f.properties.index=w),_+=U}}),f}var is=ga;function Nr(s,l){if(!s)throw new Error("line is required");if(!l)throw new Error("splitter is required");var h=Qu(s),f=Qu(l);if(h!=="LineString")throw new Error("line must be LineString");if(f==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(f==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var _=ns(l,{precision:7});switch(f){case"Point":return xo(s,_);case"MultiPoint":return vo(s,_);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return vo(s,Gn(s,_))}}function vo(s,l){var h=[],f=(0,yo.default)();return fa(l,function(_){if(h.forEach(function(w,M){w.id=M}),!h.length)h=xo(s,_).features,h.forEach(function(w){w.bbox||(w.bbox=Ii(ki(w)))}),f.load(di(h));else{var b=f.search(_);if(b.features.length){var k=ya(_,b);h=h.filter(function(w){return w.id!==k.id}),f.remove(k),go(xo(k,_),function(w){h.push(w),f.insert(w)})}}}),di(h)}function xo(s,l){var h=[],f=ni(s)[0],_=ni(s)[s.geometry.coordinates.length-1];if(ba(f,ti(l))||ba(_,ti(l)))return di([s]);var b=(0,yo.default)(),k=gr(s);b.load(k);var w=b.search(l);if(!w.features.length)return di([s]);var M=ya(l,w),P=[f],U=fi(k,function(G,ce,_e){var Be=ni(ce)[1],Ke=ti(l);return _e===M.id?(G.push(Ke),h.push(Or(G)),ba(Ke,Be)?[Ke]:[Ke,Be]):(G.push(Be),G)},P);return U.length>1&&h.push(Or(U)),di(h)}function ya(s,l){if(!l.features.length)throw new Error("lines must contain features");if(l.features.length===1)return l.features[0];var h,f=1/0;return go(l,function(_){var b=is(_,s),k=b.properties.dist;k<f&&(h=_,f=k)}),h}function ba(s,l){return s[0]===l[0]&&s[1]===l[1]}var rs=Nr;function os(s,l,h){if(h===void 0&&(h={}),!s)throw new Error("point is required");if(!l)throw new Error("polygon is required");var f=ti(s),_=Qo(l),b=_.type,k=l.bbox,w=_.coordinates;if(k&&ch(f,k)===!1)return!1;b==="Polygon"&&(w=[w]);for(var M=!1,P=0;P<w.length&&!M;P++)if(va(f,w[P][0],h.ignoreBoundary)){for(var U=!1,G=1;G<w[P].length&&!U;)va(f,w[P][G],!h.ignoreBoundary)&&(U=!0),G++;U||(M=!0)}return M}function va(s,l,h){var f=!1;l[0][0]===l[l.length-1][0]&&l[0][1]===l[l.length-1][1]&&(l=l.slice(0,l.length-1));for(var _=0,b=l.length-1;_<l.length;b=_++){var k=l[_][0],w=l[_][1],M=l[b][0],P=l[b][1],U=s[1]*(k-M)+w*(M-s[0])+P*(s[0]-k)===0&&(k-s[0])*(M-s[0])<=0&&(w-s[1])*(P-s[1])<=0;if(U)return!h;var G=w>s[1]!=P>s[1]&&s[0]<(M-k)*(s[1]-w)/(P-w)+k;G&&(f=!f)}return f}function ch(s,l){return l[0]<=s[0]&&l[1]<=s[1]&&l[2]>=s[0]&&l[3]>=s[1]}function nl(s,l,h){h===void 0&&(h={});for(var f=ti(s),_=ni(l),b=0;b<_.length-1;b++){var k=!1;if(h.ignoreEndVertices&&(b===0&&(k="start"),b===_.length-2&&(k="end"),b===0&&b+1===_.length-1&&(k="both")),hh(_[b],_[b+1],f,k,typeof h.epsilon>"u"?null:h.epsilon))return!0}return!1}function hh(s,l,h,f,_){var b=h[0],k=h[1],w=s[0],M=s[1],P=l[0],U=l[1],G=h[0]-w,ce=h[1]-M,_e=P-w,Be=U-M,Ke=G*Be-ce*_e;if(_!==null){if(Math.abs(Ke)>_)return!1}else if(Ke!==0)return!1;if(f){if(f==="start")return Math.abs(_e)>=Math.abs(Be)?_e>0?w<b&&b<=P:P<=b&&b<w:Be>0?M<k&&k<=U:U<=k&&k<M;if(f==="end")return Math.abs(_e)>=Math.abs(Be)?_e>0?w<=b&&b<P:P<b&&b<=w:Be>0?M<=k&&k<U:U<k&&k<=M;if(f==="both")return Math.abs(_e)>=Math.abs(Be)?_e>0?w<b&&b<P:P<b&&b<w:Be>0?M<k&&k<U:U<k&&k<M}else return Math.abs(_e)>=Math.abs(Be)?_e>0?w<=b&&b<=P:P<=b&&b<=w:Be>0?M<=k&&k<=U:U<=k&&k<=M;return!1}var Vn=nl;function ss(s,l){var h=Qo(s),f=Qo(l),_=h.type,b=f.type,k=h.coordinates,w=f.coordinates;switch(_){case"Point":switch(b){case"Point":return us(k,w);default:throw new Error("feature2 "+b+" geometry not supported")}case"MultiPoint":switch(b){case"Point":return dh(h,f);case"MultiPoint":return as(h,f);default:throw new Error("feature2 "+b+" geometry not supported")}case"LineString":switch(b){case"Point":return Vn(f,h,{ignoreEndVertices:!0});case"LineString":return ph(h,f);case"MultiPoint":return fh(h,f);default:throw new Error("feature2 "+b+" geometry not supported")}case"Polygon":switch(b){case"Point":return os(f,h,{ignoreBoundary:!0});case"LineString":return ko(h,f);case"Polygon":return mh(h,f);case"MultiPoint":return il(h,f);default:throw new Error("feature2 "+b+" geometry not supported")}default:throw new Error("feature1 "+_+" geometry not supported")}}function dh(s,l){var h,f=!1;for(h=0;h<s.coordinates.length;h++)if(us(s.coordinates[h],l.coordinates)){f=!0;break}return f}function as(s,l){for(var h=0,f=l.coordinates;h<f.length;h++){for(var _=f[h],b=!1,k=0,w=s.coordinates;k<w.length;k++){var M=w[k];if(us(_,M)){b=!0;break}}if(!b)return!1}return!0}function fh(s,l){for(var h=!1,f=0,_=l.coordinates;f<_.length;f++){var b=_[f];if(Vn(b,s,{ignoreEndVertices:!0})&&(h=!0),!Vn(b,s))return!1}return!!h}function il(s,l){for(var h=0,f=l.coordinates;h<f.length;h++){var _=f[h];if(!os(_,s,{ignoreBoundary:!0}))return!1}return!0}function ph(s,l){for(var h=!1,f=0,_=l.coordinates;f<_.length;f++){var b=_[f];if(Vn({type:"Point",coordinates:b},s,{ignoreEndVertices:!0})&&(h=!0),!Vn({type:"Point",coordinates:b},s,{ignoreEndVertices:!1}))return!1}return h}function ko(s,l){var h=!1,f=0,_=ki(s),b=ki(l);if(!yr(_,b))return!1;for(f;f<l.coordinates.length-1;f++){var k=rl(l.coordinates[f],l.coordinates[f+1]);if(os({type:"Point",coordinates:k},s,{ignoreBoundary:!0})){h=!0;break}}return h}function mh(s,l){if(s.type==="Feature"&&s.geometry===null||l.type==="Feature"&&l.geometry===null)return!1;var h=ki(s),f=ki(l);if(!yr(h,f))return!1;for(var _=Qo(l).coordinates,b=0,k=_;b<k.length;b++)for(var w=k[b],M=0,P=w;M<P.length;M++){var U=P[M];if(!os(U,s))return!1}return!0}function yr(s,l){return!(s[0]>l[0]||s[2]<l[2]||s[1]>l[1]||s[3]<l[3])}function us(s,l){return s[0]===l[0]&&s[1]===l[1]}function rl(s,l){return[(s[0]+l[0])/2,(s[1]+l[1])/2]}var _h=p(qi()),Ci=s=>()=>s,ls=s=>{let l=s?(h,f)=>f.minus(h).abs().isLessThanOrEqualTo(s):Ci(!1);return(h,f)=>l(h,f)?0:h.comparedTo(f)};function ol(s){let l=s?(h,f,_,b,k)=>h.exponentiatedBy(2).isLessThanOrEqualTo(b.minus(f).exponentiatedBy(2).plus(k.minus(_).exponentiatedBy(2)).times(s)):Ci(!1);return(h,f,_)=>{let b=h.x,k=h.y,w=_.x,M=_.y,P=k.minus(M).times(f.x.minus(w)).minus(b.minus(w).times(f.y.minus(M)));return l(P,b,k,w,M)?0:P.comparedTo(0)}}var Co=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,xa=Math.ceil,In=Math.floor,kn="[BigNumber Error] ",ka=kn+"Number primitive has more than 15 significant digits: ",ii=1e14,_t=14,cs=9007199254740991,hs=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],zi=1e7,mn=1e9;function Ca(s){var l,h,f,_=H.prototype={constructor:H,toString:null,valueOf:null},b=new H(1),k=20,w=4,M=-7,P=21,U=-1e7,G=1e7,ce=!1,_e=1,Be=0,Ke={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},et="0123456789abcdefghijklmnopqrstuvwxyz",Tt=!0;function H(S,R){var F,O,I,N,X,Y,ne,le,ue=this;if(!(ue instanceof H))return new H(S,R);if(R==null){if(S&&S._isBigNumber===!0){ue.s=S.s,!S.c||S.e>G?ue.c=ue.e=null:S.e<U?ue.c=[ue.e=0]:(ue.e=S.e,ue.c=S.c.slice());return}if((Y=typeof S=="number")&&S*0==0){if(ue.s=1/S<0?(S=-S,-1):1,S===~~S){for(N=0,X=S;X>=10;X/=10,N++);N>G?ue.c=ue.e=null:(ue.e=N,ue.c=[S]);return}le=String(S)}else{if(!Co.test(le=String(S)))return f(ue,le,Y);ue.s=le.charCodeAt(0)==45?(le=le.slice(1),-1):1}(N=le.indexOf("."))>-1&&(le=le.replace(".","")),(X=le.search(/e/i))>0?(N<0&&(N=X),N+=+le.slice(X+1),le=le.substring(0,X)):N<0&&(N=le.length)}else{if(tn(R,2,et.length,"Base"),R==10&&Tt)return ue=new H(S),ae(ue,k+ue.e+1,w);if(le=String(S),Y=typeof S=="number"){if(S*0!=0)return f(ue,le,Y,R);if(ue.s=1/S<0?(le=le.slice(1),-1):1,H.DEBUG&&le.replace(/^0\.0*|\./,"").length>15)throw Error(ka+S)}else ue.s=le.charCodeAt(0)===45?(le=le.slice(1),-1):1;for(F=et.slice(0,R),N=X=0,ne=le.length;X<ne;X++)if(F.indexOf(O=le.charAt(X))<0){if(O=="."){if(X>N){N=ne;continue}}else if(!I&&(le==le.toUpperCase()&&(le=le.toLowerCase())||le==le.toLowerCase()&&(le=le.toUpperCase()))){I=!0,X=-1,N=0;continue}return f(ue,String(S),Y,R)}Y=!1,le=h(le,R,10,ue.s),(N=le.indexOf("."))>-1?le=le.replace(".",""):N=le.length}for(X=0;le.charCodeAt(X)===48;X++);for(ne=le.length;le.charCodeAt(--ne)===48;);if(le=le.slice(X,++ne)){if(ne-=X,Y&&H.DEBUG&&ne>15&&(S>cs||S!==In(S)))throw Error(ka+ue.s*S);if((N=N-X-1)>G)ue.c=ue.e=null;else if(N<U)ue.c=[ue.e=0];else{if(ue.e=N,ue.c=[],X=(N+1)%_t,N<0&&(X+=_t),X<ne){for(X&&ue.c.push(+le.slice(0,X)),ne-=_t;X<ne;)ue.c.push(+le.slice(X,X+=_t));X=_t-(le=le.slice(X)).length}else X-=ne;for(;X--;le+="0");ue.c.push(+le)}}else ue.c=[ue.e=0]}H.clone=Ca,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(S){var R,F;if(S!=null)if(typeof S=="object"){if(S.hasOwnProperty(R="DECIMAL_PLACES")&&(F=S[R],tn(F,0,mn,R),k=F),S.hasOwnProperty(R="ROUNDING_MODE")&&(F=S[R],tn(F,0,8,R),w=F),S.hasOwnProperty(R="EXPONENTIAL_AT")&&(F=S[R],F&&F.pop?(tn(F[0],-mn,0,R),tn(F[1],0,mn,R),M=F[0],P=F[1]):(tn(F,-mn,mn,R),M=-(P=F<0?-F:F))),S.hasOwnProperty(R="RANGE"))if(F=S[R],F&&F.pop)tn(F[0],-mn,-1,R),tn(F[1],1,mn,R),U=F[0],G=F[1];else if(tn(F,-mn,mn,R),F)U=-(G=F<0?-F:F);else throw Error(kn+R+" cannot be zero: "+F);if(S.hasOwnProperty(R="CRYPTO"))if(F=S[R],F===!!F)if(F)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ce=F;else throw ce=!F,Error(kn+"crypto unavailable");else ce=F;else throw Error(kn+R+" not true or false: "+F);if(S.hasOwnProperty(R="MODULO_MODE")&&(F=S[R],tn(F,0,9,R),_e=F),S.hasOwnProperty(R="POW_PRECISION")&&(F=S[R],tn(F,0,mn,R),Be=F),S.hasOwnProperty(R="FORMAT"))if(F=S[R],typeof F=="object")Ke=F;else throw Error(kn+R+" not an object: "+F);if(S.hasOwnProperty(R="ALPHABET"))if(F=S[R],typeof F=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(F))Tt=F.slice(0,10)=="0123456789",et=F;else throw Error(kn+R+" invalid: "+F)}else throw Error(kn+"Object expected: "+S);return{DECIMAL_PLACES:k,ROUNDING_MODE:w,EXPONENTIAL_AT:[M,P],RANGE:[U,G],CRYPTO:ce,MODULO_MODE:_e,POW_PRECISION:Be,FORMAT:Ke,ALPHABET:et}},H.isBigNumber=function(S){if(!S||S._isBigNumber!==!0)return!1;if(!H.DEBUG)return!0;var R,F,O=S.c,I=S.e,N=S.s;e:if({}.toString.call(O)=="[object Array]"){if((N===1||N===-1)&&I>=-mn&&I<=mn&&I===In(I)){if(O[0]===0){if(I===0&&O.length===1)return!0;break e}if(R=(I+1)%_t,R<1&&(R+=_t),String(O[0]).length==R){for(R=0;R<O.length;R++)if(F=O[R],F<0||F>=ii||F!==In(F))break e;if(F!==0)return!0}}}else if(O===null&&I===null&&(N===null||N===1||N===-1))return!0;throw Error(kn+"Invalid BigNumber: "+S)},H.maximum=H.max=function(){return oe(arguments,-1)},H.minimum=H.min=function(){return oe(arguments,1)},H.random=function(){var S=9007199254740992,R=Math.random()*S&2097151?function(){return In(Math.random()*S)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(F){var O,I,N,X,Y,ne=0,le=[],ue=new H(b);if(F==null?F=k:tn(F,0,mn),X=xa(F/_t),ce)if(crypto.getRandomValues){for(O=crypto.getRandomValues(new Uint32Array(X*=2));ne<X;)Y=O[ne]*131072+(O[ne+1]>>>11),Y>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),O[ne]=I[0],O[ne+1]=I[1]):(le.push(Y%1e14),ne+=2);ne=X/2}else if(crypto.randomBytes){for(O=crypto.randomBytes(X*=7);ne<X;)Y=(O[ne]&31)*281474976710656+O[ne+1]*1099511627776+O[ne+2]*4294967296+O[ne+3]*16777216+(O[ne+4]<<16)+(O[ne+5]<<8)+O[ne+6],Y>=9e15?crypto.randomBytes(7).copy(O,ne):(le.push(Y%1e14),ne+=7);ne=X/7}else throw ce=!1,Error(kn+"crypto unavailable");if(!ce)for(;ne<X;)Y=R(),Y<9e15&&(le[ne++]=Y%1e14);for(X=le[--ne],F%=_t,X&&F&&(Y=hs[_t-F],le[ne]=In(X/Y)*Y);le[ne]===0;le.pop(),ne--);if(ne<0)le=[N=0];else{for(N=-1;le[0]===0;le.splice(0,1),N-=_t);for(ne=1,Y=le[0];Y>=10;Y/=10,ne++);ne<_t&&(N-=_t-ne)}return ue.e=N,ue.c=le,ue}}(),H.sum=function(){for(var S=1,R=arguments,F=new H(R[0]);S<R.length;)F=F.plus(R[S++]);return F},h=function(){var S="0123456789";function R(F,O,I,N){for(var X,Y=[0],ne,le=0,ue=F.length;le<ue;){for(ne=Y.length;ne--;Y[ne]*=O);for(Y[0]+=N.indexOf(F.charAt(le++)),X=0;X<Y.length;X++)Y[X]>I-1&&(Y[X+1]==null&&(Y[X+1]=0),Y[X+1]+=Y[X]/I|0,Y[X]%=I)}return Y.reverse()}return function(F,O,I,N,X){var Y,ne,le,ue,Le,Qe,nt,lt,Vt=F.indexOf("."),Zt=k,It=w;for(Vt>=0&&(ue=Be,Be=0,F=F.replace(".",""),lt=new H(O),Qe=lt.pow(F.length-Vt),Be=ue,lt.c=R(m(Kn(Qe.c),Qe.e,"0"),10,I,S),lt.e=lt.c.length),nt=R(F,O,I,X?(Y=et,S):(Y=S,et)),le=ue=nt.length;nt[--ue]==0;nt.pop());if(!nt[0])return Y.charAt(0);if(Vt<0?--le:(Qe.c=nt,Qe.e=le,Qe.s=N,Qe=l(Qe,lt,Zt,It,I),nt=Qe.c,Le=Qe.r,le=Qe.e),ne=le+Zt+1,Vt=nt[ne],ue=I/2,Le=Le||ne<0||nt[ne+1]!=null,Le=It<4?(Vt!=null||Le)&&(It==0||It==(Qe.s<0?3:2)):Vt>ue||Vt==ue&&(It==4||Le||It==6&&nt[ne-1]&1||It==(Qe.s<0?8:7)),ne<1||!nt[0])F=Le?m(Y.charAt(1),-Zt,Y.charAt(0)):Y.charAt(0);else{if(nt.length=ne,Le)for(--I;++nt[--ne]>I;)nt[ne]=0,ne||(++le,nt=[1].concat(nt));for(ue=nt.length;!nt[--ue];);for(Vt=0,F="";Vt<=ue;F+=Y.charAt(nt[Vt++]));F=m(F,le,Y.charAt(0))}return F}}(),l=function(){function S(O,I,N){var X,Y,ne,le,ue=0,Le=O.length,Qe=I%zi,nt=I/zi|0;for(O=O.slice();Le--;)ne=O[Le]%zi,le=O[Le]/zi|0,X=nt*ne+le*Qe,Y=Qe*ne+X%zi*zi+ue,ue=(Y/N|0)+(X/zi|0)+nt*le,O[Le]=Y%N;return ue&&(O=[ue].concat(O)),O}function R(O,I,N,X){var Y,ne;if(N!=X)ne=N>X?1:-1;else for(Y=ne=0;Y<N;Y++)if(O[Y]!=I[Y]){ne=O[Y]>I[Y]?1:-1;break}return ne}function F(O,I,N,X){for(var Y=0;N--;)O[N]-=Y,Y=O[N]<I[N]?1:0,O[N]=Y*X+O[N]-I[N];for(;!O[0]&&O.length>1;O.splice(0,1));}return function(O,I,N,X,Y){var ne,le,ue,Le,Qe,nt,lt,Vt,Zt,It,Kt,Hn,pl,vh,xh,Xi,Ea,Li=O.s==I.s?1:-1,Wn=O.c,dn=I.c;if(!Wn||!Wn[0]||!dn||!dn[0])return new H(!O.s||!I.s||(Wn?dn&&Wn[0]==dn[0]:!dn)?NaN:Wn&&Wn[0]==0||!dn?Li*0:Li/0);for(Vt=new H(Li),Zt=Vt.c=[],le=O.e-I.e,Li=N+le+1,Y||(Y=ii,le=ri(O.e/_t)-ri(I.e/_t),Li=Li/_t|0),ue=0;dn[ue]==(Wn[ue]||0);ue++);if(dn[ue]>(Wn[ue]||0)&&le--,Li<0)Zt.push(1),Le=!0;else{for(vh=Wn.length,Xi=dn.length,ue=0,Li+=2,Qe=In(Y/(dn[0]+1)),Qe>1&&(dn=S(dn,Qe,Y),Wn=S(Wn,Qe,Y),Xi=dn.length,vh=Wn.length),pl=Xi,It=Wn.slice(0,Xi),Kt=It.length;Kt<Xi;It[Kt++]=0);Ea=dn.slice(),Ea=[0].concat(Ea),xh=dn[0],dn[1]>=Y/2&&xh++;do{if(Qe=0,ne=R(dn,It,Xi,Kt),ne<0){if(Hn=It[0],Xi!=Kt&&(Hn=Hn*Y+(It[1]||0)),Qe=In(Hn/xh),Qe>1)for(Qe>=Y&&(Qe=Y-1),nt=S(dn,Qe,Y),lt=nt.length,Kt=It.length;R(nt,It,lt,Kt)==1;)Qe--,F(nt,Xi<lt?Ea:dn,lt,Y),lt=nt.length,ne=1;else Qe==0&&(ne=Qe=1),nt=dn.slice(),lt=nt.length;if(lt<Kt&&(nt=[0].concat(nt)),F(It,nt,Kt,Y),Kt=It.length,ne==-1)for(;R(dn,It,Xi,Kt)<1;)Qe++,F(It,Xi<Kt?Ea:dn,Kt,Y),Kt=It.length}else ne===0&&(Qe++,It=[0]);Zt[ue++]=Qe,It[0]?It[Kt++]=Wn[pl]||0:(It=[Wn[pl]],Kt=1)}while((pl++<vh||It[0]!=null)&&Li--);Le=It[0]!=null,Zt[0]||Zt.splice(0,1)}if(Y==ii){for(ue=1,Li=Zt[0];Li>=10;Li/=10,ue++);ae(Vt,N+(Vt.e=ue+le*_t-1)+1,X,Le)}else Vt.e=le,Vt.r=+Le;return Vt}}();function J(S,R,F,O){var I,N,X,Y,ne;if(F==null?F=w:tn(F,0,8),!S.c)return S.toString();if(I=S.c[0],X=S.e,R==null)ne=Kn(S.c),ne=O==1||O==2&&(X<=M||X>=P)?c(ne,X):m(ne,X,"0");else if(S=ae(new H(S),R,F),N=S.e,ne=Kn(S.c),Y=ne.length,O==1||O==2&&(R<=N||N<=M)){for(;Y<R;ne+="0",Y++);ne=c(ne,N)}else if(R-=X,ne=m(ne,N,"0"),N+1>Y){if(--R>0)for(ne+=".";R--;ne+="0");}else if(R+=N-Y,R>0)for(N+1==Y&&(ne+=".");R--;ne+="0");return S.s<0&&I?"-"+ne:ne}function oe(S,R){for(var F,O,I=1,N=new H(S[0]);I<S.length;I++)O=new H(S[I]),(!O.s||(F=Ji(N,O))===R||F===0&&N.s===R)&&(N=O);return N}function me(S,R,F){for(var O=1,I=R.length;!R[--I];R.pop());for(I=R[0];I>=10;I/=10,O++);return(F=O+F*_t-1)>G?S.c=S.e=null:F<U?S.c=[S.e=0]:(S.e=F,S.c=R),S}f=function(){var S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,F=/^\.([^.]+)$/,O=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(N,X,Y,ne){var le,ue=Y?X:X.replace(I,"");if(O.test(ue))N.s=isNaN(ue)?null:ue<0?-1:1;else{if(!Y&&(ue=ue.replace(S,function(Le,Qe,nt){return le=(nt=nt.toLowerCase())=="x"?16:nt=="b"?2:8,!ne||ne==le?Qe:Le}),ne&&(le=ne,ue=ue.replace(R,"$1").replace(F,"0.$1")),X!=ue))return new H(ue,le);if(H.DEBUG)throw Error(kn+"Not a"+(ne?" base "+ne:"")+" number: "+X);N.s=null}N.c=N.e=null}}();function ae(S,R,F,O){var I,N,X,Y,ne,le,ue,Le=S.c,Qe=hs;if(Le){e:{for(I=1,Y=Le[0];Y>=10;Y/=10,I++);if(N=R-I,N<0)N+=_t,X=R,ne=Le[le=0],ue=In(ne/Qe[I-X-1]%10);else if(le=xa((N+1)/_t),le>=Le.length)if(O){for(;Le.length<=le;Le.push(0));ne=ue=0,I=1,N%=_t,X=N-_t+1}else break e;else{for(ne=Y=Le[le],I=1;Y>=10;Y/=10,I++);N%=_t,X=N-_t+I,ue=X<0?0:In(ne/Qe[I-X-1]%10)}if(O=O||R<0||Le[le+1]!=null||(X<0?ne:ne%Qe[I-X-1]),O=F<4?(ue||O)&&(F==0||F==(S.s<0?3:2)):ue>5||ue==5&&(F==4||O||F==6&&(N>0?X>0?ne/Qe[I-X]:0:Le[le-1])%10&1||F==(S.s<0?8:7)),R<1||!Le[0])return Le.length=0,O?(R-=S.e+1,Le[0]=Qe[(_t-R%_t)%_t],S.e=-R||0):Le[0]=S.e=0,S;if(N==0?(Le.length=le,Y=1,le--):(Le.length=le+1,Y=Qe[_t-N],Le[le]=X>0?In(ne/Qe[I-X]%Qe[X])*Y:0),O)for(;;)if(le==0){for(N=1,X=Le[0];X>=10;X/=10,N++);for(X=Le[0]+=Y,Y=1;X>=10;X/=10,Y++);N!=Y&&(S.e++,Le[0]==ii&&(Le[0]=1));break}else{if(Le[le]+=Y,Le[le]!=ii)break;Le[le--]=0,Y=1}for(N=Le.length;Le[--N]===0;Le.pop());}S.e>G?S.c=S.e=null:S.e<U&&(S.c=[S.e=0])}return S}function de(S){var R,F=S.e;return F===null?S.toString():(R=Kn(S.c),R=F<=M||F>=P?c(R,F):m(R,F,"0"),S.s<0?"-"+R:R)}return _.absoluteValue=_.abs=function(){var S=new H(this);return S.s<0&&(S.s=1),S},_.comparedTo=function(S,R){return Ji(this,new H(S,R))},_.decimalPlaces=_.dp=function(S,R){var F,O,I,N=this;if(S!=null)return tn(S,0,mn),R==null?R=w:tn(R,0,8),ae(new H(N),S+N.e+1,R);if(!(F=N.c))return null;if(O=((I=F.length-1)-ri(this.e/_t))*_t,I=F[I])for(;I%10==0;I/=10,O--);return O<0&&(O=0),O},_.dividedBy=_.div=function(S,R){return l(this,new H(S,R),k,w)},_.dividedToIntegerBy=_.idiv=function(S,R){return l(this,new H(S,R),0,1)},_.exponentiatedBy=_.pow=function(S,R){var F,O,I,N,X,Y,ne,le,ue,Le=this;if(S=new H(S),S.c&&!S.isInteger())throw Error(kn+"Exponent not an integer: "+de(S));if(R!=null&&(R=new H(R)),Y=S.e>14,!Le.c||!Le.c[0]||Le.c[0]==1&&!Le.e&&Le.c.length==1||!S.c||!S.c[0])return ue=new H(Math.pow(+de(Le),Y?S.s*(2-i(S)):+de(S))),R?ue.mod(R):ue;if(ne=S.s<0,R){if(R.c?!R.c[0]:!R.s)return new H(NaN);O=!ne&&Le.isInteger()&&R.isInteger(),O&&(Le=Le.mod(R))}else{if(S.e>9&&(Le.e>0||Le.e<-1||(Le.e==0?Le.c[0]>1||Y&&Le.c[1]>=24e7:Le.c[0]<8e13||Y&&Le.c[0]<=9999975e7)))return N=Le.s<0&&i(S)?-0:0,Le.e>-1&&(N=1/N),new H(ne?1/N:N);Be&&(N=xa(Be/_t+2))}for(Y?(F=new H(.5),ne&&(S.s=1),le=i(S)):(I=Math.abs(+de(S)),le=I%2),ue=new H(b);;){if(le){if(ue=ue.times(Le),!ue.c)break;N?ue.c.length>N&&(ue.c.length=N):O&&(ue=ue.mod(R))}if(I){if(I=In(I/2),I===0)break;le=I%2}else if(S=S.times(F),ae(S,S.e+1,1),S.e>14)le=i(S);else{if(I=+de(S),I===0)break;le=I%2}Le=Le.times(Le),N?Le.c&&Le.c.length>N&&(Le.c.length=N):O&&(Le=Le.mod(R))}return O?ue:(ne&&(ue=b.div(ue)),R?ue.mod(R):N?ae(ue,Be,w,X):ue)},_.integerValue=function(S){var R=new H(this);return S==null?S=w:tn(S,0,8),ae(R,R.e+1,S)},_.isEqualTo=_.eq=function(S,R){return Ji(this,new H(S,R))===0},_.isFinite=function(){return!!this.c},_.isGreaterThan=_.gt=function(S,R){return Ji(this,new H(S,R))>0},_.isGreaterThanOrEqualTo=_.gte=function(S,R){return(R=Ji(this,new H(S,R)))===1||R===0},_.isInteger=function(){return!!this.c&&ri(this.e/_t)>this.c.length-2},_.isLessThan=_.lt=function(S,R){return Ji(this,new H(S,R))<0},_.isLessThanOrEqualTo=_.lte=function(S,R){return(R=Ji(this,new H(S,R)))===-1||R===0},_.isNaN=function(){return!this.s},_.isNegative=function(){return this.s<0},_.isPositive=function(){return this.s>0},_.isZero=function(){return!!this.c&&this.c[0]==0},_.minus=function(S,R){var F,O,I,N,X=this,Y=X.s;if(S=new H(S,R),R=S.s,!Y||!R)return new H(NaN);if(Y!=R)return S.s=-R,X.plus(S);var ne=X.e/_t,le=S.e/_t,ue=X.c,Le=S.c;if(!ne||!le){if(!ue||!Le)return ue?(S.s=-R,S):new H(Le?X:NaN);if(!ue[0]||!Le[0])return Le[0]?(S.s=-R,S):new H(ue[0]?X:w==3?-0:0)}if(ne=ri(ne),le=ri(le),ue=ue.slice(),Y=ne-le){for((N=Y<0)?(Y=-Y,I=ue):(le=ne,I=Le),I.reverse(),R=Y;R--;I.push(0));I.reverse()}else for(O=(N=(Y=ue.length)<(R=Le.length))?Y:R,Y=R=0;R<O;R++)if(ue[R]!=Le[R]){N=ue[R]<Le[R];break}if(N&&(I=ue,ue=Le,Le=I,S.s=-S.s),R=(O=Le.length)-(F=ue.length),R>0)for(;R--;ue[F++]=0);for(R=ii-1;O>Y;){if(ue[--O]<Le[O]){for(F=O;F&&!ue[--F];ue[F]=R);--ue[F],ue[O]+=ii}ue[O]-=Le[O]}for(;ue[0]==0;ue.splice(0,1),--le);return ue[0]?me(S,ue,le):(S.s=w==3?-1:1,S.c=[S.e=0],S)},_.modulo=_.mod=function(S,R){var F,O,I=this;return S=new H(S,R),!I.c||!S.s||S.c&&!S.c[0]?new H(NaN):!S.c||I.c&&!I.c[0]?new H(I):(_e==9?(O=S.s,S.s=1,F=l(I,S,0,3),S.s=O,F.s*=O):F=l(I,S,0,_e),S=I.minus(F.times(S)),!S.c[0]&&_e==1&&(S.s=I.s),S)},_.multipliedBy=_.times=function(S,R){var F,O,I,N,X,Y,ne,le,ue,Le,Qe,nt,lt,Vt,Zt,It=this,Kt=It.c,Hn=(S=new H(S,R)).c;if(!Kt||!Hn||!Kt[0]||!Hn[0])return!It.s||!S.s||Kt&&!Kt[0]&&!Hn||Hn&&!Hn[0]&&!Kt?S.c=S.e=S.s=null:(S.s*=It.s,!Kt||!Hn?S.c=S.e=null:(S.c=[0],S.e=0)),S;for(O=ri(It.e/_t)+ri(S.e/_t),S.s*=It.s,ne=Kt.length,Le=Hn.length,ne<Le&&(lt=Kt,Kt=Hn,Hn=lt,I=ne,ne=Le,Le=I),I=ne+Le,lt=[];I--;lt.push(0));for(Vt=ii,Zt=zi,I=Le;--I>=0;){for(F=0,Qe=Hn[I]%Zt,nt=Hn[I]/Zt|0,X=ne,N=I+X;N>I;)le=Kt[--X]%Zt,ue=Kt[X]/Zt|0,Y=nt*le+ue*Qe,le=Qe*le+Y%Zt*Zt+lt[N]+F,F=(le/Vt|0)+(Y/Zt|0)+nt*ue,lt[N--]=le%Vt;lt[N]=F}return F?++O:lt.splice(0,1),me(S,lt,O)},_.negated=function(){var S=new H(this);return S.s=-S.s||null,S},_.plus=function(S,R){var F,O=this,I=O.s;if(S=new H(S,R),R=S.s,!I||!R)return new H(NaN);if(I!=R)return S.s=-R,O.minus(S);var N=O.e/_t,X=S.e/_t,Y=O.c,ne=S.c;if(!N||!X){if(!Y||!ne)return new H(I/0);if(!Y[0]||!ne[0])return ne[0]?S:new H(Y[0]?O:I*0)}if(N=ri(N),X=ri(X),Y=Y.slice(),I=N-X){for(I>0?(X=N,F=ne):(I=-I,F=Y),F.reverse();I--;F.push(0));F.reverse()}for(I=Y.length,R=ne.length,I-R<0&&(F=ne,ne=Y,Y=F,R=I),I=0;R;)I=(Y[--R]=Y[R]+ne[R]+I)/ii|0,Y[R]=ii===Y[R]?0:Y[R]%ii;return I&&(Y=[I].concat(Y),++X),me(S,Y,X)},_.precision=_.sd=function(S,R){var F,O,I,N=this;if(S!=null&&S!==!!S)return tn(S,1,mn),R==null?R=w:tn(R,0,8),ae(new H(N),S,R);if(!(F=N.c))return null;if(I=F.length-1,O=I*_t+1,I=F[I]){for(;I%10==0;I/=10,O--);for(I=F[0];I>=10;I/=10,O++);}return S&&N.e+1>O&&(O=N.e+1),O},_.shiftedBy=function(S){return tn(S,-cs,cs),this.times("1e"+S)},_.squareRoot=_.sqrt=function(){var S,R,F,O,I,N=this,X=N.c,Y=N.s,ne=N.e,le=k+4,ue=new H("0.5");if(Y!==1||!X||!X[0])return new H(!Y||Y<0&&(!X||X[0])?NaN:X?N:1/0);if(Y=Math.sqrt(+de(N)),Y==0||Y==1/0?(R=Kn(X),(R.length+ne)%2==0&&(R+="0"),Y=Math.sqrt(+R),ne=ri((ne+1)/2)-(ne<0||ne%2),Y==1/0?R="5e"+ne:(R=Y.toExponential(),R=R.slice(0,R.indexOf("e")+1)+ne),F=new H(R)):F=new H(Y+""),F.c[0]){for(ne=F.e,Y=ne+le,Y<3&&(Y=0);;)if(I=F,F=ue.times(I.plus(l(N,I,le,1))),Kn(I.c).slice(0,Y)===(R=Kn(F.c)).slice(0,Y))if(F.e<ne&&--Y,R=R.slice(Y-3,Y+1),R=="9999"||!O&&R=="4999"){if(!O&&(ae(I,I.e+k+2,0),I.times(I).eq(N))){F=I;break}le+=4,Y+=4,O=1}else{(!+R||!+R.slice(1)&&R.charAt(0)=="5")&&(ae(F,F.e+k+2,1),S=!F.times(F).eq(N));break}}return ae(F,F.e+k+1,w,S)},_.toExponential=function(S,R){return S!=null&&(tn(S,0,mn),S++),J(this,S,R,1)},_.toFixed=function(S,R){return S!=null&&(tn(S,0,mn),S=S+this.e+1),J(this,S,R)},_.toFormat=function(S,R,F){var O,I=this;if(F==null)S!=null&&R&&typeof R=="object"?(F=R,R=null):S&&typeof S=="object"?(F=S,S=R=null):F=Ke;else if(typeof F!="object")throw Error(kn+"Argument not an object: "+F);if(O=I.toFixed(S,R),I.c){var N,X=O.split("."),Y=+F.groupSize,ne=+F.secondaryGroupSize,le=F.groupSeparator||"",ue=X[0],Le=X[1],Qe=I.s<0,nt=Qe?ue.slice(1):ue,lt=nt.length;if(ne&&(N=Y,Y=ne,ne=N,lt-=N),Y>0&&lt>0){for(N=lt%Y||Y,ue=nt.substr(0,N);N<lt;N+=Y)ue+=le+nt.substr(N,Y);ne>0&&(ue+=le+nt.slice(N)),Qe&&(ue="-"+ue)}O=Le?ue+(F.decimalSeparator||"")+((ne=+F.fractionGroupSize)?Le.replace(new RegExp("\\d{"+ne+"}\\B","g"),"$&"+(F.fractionGroupSeparator||"")):Le):ue}return(F.prefix||"")+O+(F.suffix||"")},_.toFraction=function(S){var R,F,O,I,N,X,Y,ne,le,ue,Le,Qe,nt=this,lt=nt.c;if(S!=null&&(Y=new H(S),!Y.isInteger()&&(Y.c||Y.s!==1)||Y.lt(b)))throw Error(kn+"Argument "+(Y.isInteger()?"out of range: ":"not an integer: ")+de(Y));if(!lt)return new H(nt);for(R=new H(b),le=F=new H(b),O=ne=new H(b),Qe=Kn(lt),N=R.e=Qe.length-nt.e-1,R.c[0]=hs[(X=N%_t)<0?_t+X:X],S=!S||Y.comparedTo(R)>0?N>0?R:le:Y,X=G,G=1/0,Y=new H(Qe),ne.c[0]=0;ue=l(Y,R,0,1),I=F.plus(ue.times(O)),I.comparedTo(S)!=1;)F=O,O=I,le=ne.plus(ue.times(I=le)),ne=I,R=Y.minus(ue.times(I=R)),Y=I;return I=l(S.minus(F),O,0,1),ne=ne.plus(I.times(le)),F=F.plus(I.times(O)),ne.s=le.s=nt.s,N=N*2,Le=l(le,O,N,w).minus(nt).abs().comparedTo(l(ne,F,N,w).minus(nt).abs())<1?[le,O]:[ne,F],G=X,Le},_.toNumber=function(){return+de(this)},_.toPrecision=function(S,R){return S!=null&&tn(S,1,mn),J(this,S,R,2)},_.toString=function(S){var R,F=this,O=F.s,I=F.e;return I===null?O?(R="Infinity",O<0&&(R="-"+R)):R="NaN":(S==null?R=I<=M||I>=P?c(Kn(F.c),I):m(Kn(F.c),I,"0"):S===10&&Tt?(F=ae(new H(F),k+I+1,w),R=m(Kn(F.c),F.e,"0")):(tn(S,2,et.length,"Base"),R=h(m(Kn(F.c),I,"0"),10,S,O,!0)),O<0&&F.c[0]&&(R="-"+R)),R},_.valueOf=_.toJSON=function(){return de(this)},_._isBigNumber=!0,_[Symbol.toStringTag]="BigNumber",_[Symbol.for("nodejs.util.inspect.custom")]=_.valueOf,s!=null&&H.set(s),H}function ri(s){var l=s|0;return s>0||s===l?l:l-1}function Kn(s){for(var l,h,f=1,_=s.length,b=s[0]+"";f<_;){for(l=s[f++]+"",h=_t-l.length;h--;l="0"+l);b+=l}for(_=b.length;b.charCodeAt(--_)===48;);return b.slice(0,_+1||1)}function Ji(s,l){var h,f,_=s.c,b=l.c,k=s.s,w=l.s,M=s.e,P=l.e;if(!k||!w)return null;if(h=_&&!_[0],f=b&&!b[0],h||f)return h?f?0:-w:k;if(k!=w)return k;if(h=k<0,f=M==P,!_||!b)return f?0:!_^h?1:-1;if(!f)return M>P^h?1:-1;for(w=(M=_.length)<(P=b.length)?M:P,k=0;k<w;k++)if(_[k]!=b[k])return _[k]>b[k]^h?1:-1;return M==P?0:M>P^h?1:-1}function tn(s,l,h,f){if(s<l||s>h||s!==In(s))throw Error(kn+(f||"Argument")+(typeof s=="number"?s<l||s>h?" out of range: ":" not an integer: ":" not a primitive number: ")+String(s))}function i(s){var l=s.c.length-1;return ri(s.e/_t)==l&&s.c[l]%2!=0}function c(s,l){return(s.length>1?s.charAt(0)+"."+s.slice(1):s)+(l<0?"e":"e+")+l}function m(s,l,h){var f,_;if(l<0){for(_=h+".";++l;_+=h);s=_+s}else if(f=s.length,++l>f){for(_=h,l-=f;--l;_+=h);s+=_}else l<f&&(s=s.slice(0,l)+"."+s.slice(l));return s}var v=Ca(),C=v,T=class{constructor(s){ut(this,"key");ut(this,"left",null);ut(this,"right",null);this.key=s}},W=class extends T{constructor(s){super(s)}},he=class{constructor(){ut(this,"size",0);ut(this,"modificationCount",0);ut(this,"splayCount",0)}splay(s){let l=this.root;if(l==null)return this.compare(s,s),-1;let h=null,f=null,_=null,b=null,k=l,w=this.compare,M;for(;;)if(M=w(k.key,s),M>0){let P=k.left;if(P==null||(M=w(P.key,s),M>0&&(k.left=P.right,P.right=k,k=P,P=k.left,P==null)))break;h==null?f=k:h.left=k,h=k,k=P}else if(M<0){let P=k.right;if(P==null||(M=w(P.key,s),M<0&&(k.right=P.left,P.left=k,k=P,P=k.right,P==null)))break;_==null?b=k:_.right=k,_=k,k=P}else break;return _!=null&&(_.right=k.left,k.left=b),h!=null&&(h.left=k.right,k.right=f),this.root!==k&&(this.root=k,this.splayCount++),M}splayMin(s){let l=s,h=l.left;for(;h!=null;){let f=h;l.left=f.right,f.right=l,l=f,h=l.left}return l}splayMax(s){let l=s,h=l.right;for(;h!=null;){let f=h;l.right=f.left,f.left=l,l=f,h=l.right}return l}_delete(s){if(this.root==null||this.splay(s)!=0)return null;let l=this.root,h=l,f=l.left;if(this.size--,f==null)this.root=l.right;else{let _=l.right;l=this.splayMax(f),l.right=_,this.root=l}return this.modificationCount++,h}addNewRoot(s,l){this.size++,this.modificationCount++;let h=this.root;if(h==null){this.root=s;return}l<0?(s.left=h,s.right=h.right,h.right=null):(s.right=h,s.left=h.left,h.left=null),this.root=s}_first(){let s=this.root;return s==null?null:(this.root=this.splayMin(s),this.root)}_last(){let s=this.root;return s==null?null:(this.root=this.splayMax(s),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(s){return this.validKey(s)&&this.splay(s)==0}defaultCompare(){return(s,l)=>s<l?-1:s>l?1:0}wrap(){return{getRoot:()=>this.root,setRoot:s=>{this.root=s},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:s=>{this.splayCount=s},splay:s=>this.splay(s),has:s=>this.has(s)}}},ge=class Oa extends he{constructor(h,f){super();ut(this,"root",null);ut(this,"compare");ut(this,"validKey");ut(this,zf,"[object Set]");this.compare=h??this.defaultCompare(),this.validKey=f??(_=>_!=null&&_!=null)}delete(h){return this.validKey(h)?this._delete(h)!=null:!1}deleteAll(h){for(let f of h)this.delete(f)}forEach(h){let f=this[Symbol.iterator](),_;for(;_=f.next(),!_.done;)h(_.value,_.value,this)}add(h){let f=this.splay(h);return f!=0&&this.addNewRoot(new W(h),f),this}addAndReturn(h){let f=this.splay(h);return f!=0&&this.addNewRoot(new W(h),f),this.root.key}addAll(h){for(let f of h)this.add(f)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)<0)return this.root.key;let f=this.root.left;if(f==null)return null;let _=f.right;for(;_!=null;)f=_,_=f.right;return f.key}firstAfter(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)>0)return this.root.key;let f=this.root.right;if(f==null)return null;let _=f.left;for(;_!=null;)f=_,_=f.left;return f.key}retainAll(h){let f=new Oa(this.compare,this.validKey),_=this.modificationCount;for(let b of h){if(_!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(b)&&this.splay(b)==0&&f.add(this.root.key)}f.size!=this.size&&(this.root=f.root,this.size=f.size,this.modificationCount++)}lookup(h){return!this.validKey(h)||this.splay(h)!=0?null:this.root.key}intersection(h){let f=new Oa(this.compare,this.validKey);for(let _ of this)h.has(_)&&f.add(_);return f}difference(h){let f=new Oa(this.compare,this.validKey);for(let _ of this)h.has(_)||f.add(_);return f}union(h){let f=this.clone();return f.addAll(h),f}clone(){let h=new Oa(this.compare,this.validKey);return h.size=this.size,h.root=this.copyNode(this.root),h}copyNode(h){if(h==null)return null;function f(b,k){let w,M;do{if(w=b.left,M=b.right,w!=null){let P=new W(w.key);k.left=P,f(w,P)}if(M!=null){let P=new W(M.key);k.right=P,b=M,k=P}}while(M!=null)}let _=new W(h.key);return f(h,_),_}toSet(){return this.clone()}entries(){return new pt(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[(jf=Symbol.iterator,zf=Symbol.toStringTag,jf)](){return new Ye(this.wrap())}},Ee=class{constructor(s){ut(this,"tree");ut(this,"path",new Array);ut(this,"modificationCount",null);ut(this,"splayCount");this.tree=s,this.splayCount=s.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let s=this.path[this.path.length-1];return this.getValue(s)}rebuildPath(s){this.path.splice(0,this.path.length),this.tree.splay(s),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(s){for(;s!=null;)this.path.push(s),s=s.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let h=this.tree.getRoot();for(;h!=null;)this.path.push(h),h=h.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let s=this.path[this.path.length-1],l=s.right;if(l!=null){for(;l!=null;)this.path.push(l),l=l.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===s;)s=this.path.pop();return this.path.length>0}},Ye=class extends Ee{getValue(s){return s.key}},pt=class extends Ee{getValue(s){return[s.key,s.key]}},Lt=s=>s,Nn=s=>{if(s){let l=new ge(ls(s)),h=new ge(ls(s)),f=(b,k)=>k.addAndReturn(b),_=b=>({x:f(b.x,l),y:f(b.y,h)});return _({x:new C(0),y:new C(0)}),_}return Lt},cn=s=>({set:l=>{hn=cn(l)},reset:()=>cn(s),compare:ls(s),snap:Nn(s),orient:ol(s)}),hn=cn(),Cn=(s,l)=>s.ll.x.isLessThanOrEqualTo(l.x)&&l.x.isLessThanOrEqualTo(s.ur.x)&&s.ll.y.isLessThanOrEqualTo(l.y)&&l.y.isLessThanOrEqualTo(s.ur.y),Yi=(s,l)=>{if(l.ur.x.isLessThan(s.ll.x)||s.ur.x.isLessThan(l.ll.x)||l.ur.y.isLessThan(s.ll.y)||s.ur.y.isLessThan(l.ll.y))return null;let h=s.ll.x.isLessThan(l.ll.x)?l.ll.x:s.ll.x,f=s.ur.x.isLessThan(l.ur.x)?s.ur.x:l.ur.x,_=s.ll.y.isLessThan(l.ll.y)?l.ll.y:s.ll.y,b=s.ur.y.isLessThan(l.ur.y)?s.ur.y:l.ur.y;return{ll:{x:h,y:_},ur:{x:f,y:b}}},ds=(s,l)=>s.x.times(l.y).minus(s.y.times(l.x)),sl=(s,l)=>s.x.times(l.x).plus(s.y.times(l.y)),fs=s=>sl(s,s).sqrt(),al=(s,l,h)=>{let f={x:l.x.minus(s.x),y:l.y.minus(s.y)},_={x:h.x.minus(s.x),y:h.y.minus(s.y)};return ds(_,f).div(fs(_)).div(fs(f))},gh=(s,l,h)=>{let f={x:l.x.minus(s.x),y:l.y.minus(s.y)},_={x:h.x.minus(s.x),y:h.y.minus(s.y)};return sl(_,f).div(fs(_)).div(fs(f))},wa=(s,l,h)=>l.y.isZero()?null:{x:s.x.plus(l.x.div(l.y).times(h.minus(s.y))),y:h},sn=(s,l,h)=>l.x.isZero()?null:{x:h,y:s.y.plus(l.y.div(l.x).times(h.minus(s.x)))},ps=(s,l,h,f)=>{if(l.x.isZero())return sn(h,f,s.x);if(f.x.isZero())return sn(s,l,h.x);if(l.y.isZero())return wa(h,f,s.y);if(f.y.isZero())return wa(s,l,h.y);let _=ds(l,f);if(_.isZero())return null;let b={x:h.x.minus(s.x),y:h.y.minus(s.y)},k=ds(b,l).div(_),w=ds(b,f).div(_),M=s.x.plus(w.times(l.x)),P=h.x.plus(k.times(f.x)),U=s.y.plus(w.times(l.y)),G=h.y.plus(k.times(f.y)),ce=M.plus(P).div(2),_e=U.plus(G).div(2);return{x:ce,y:_e}},wi=class E1{constructor(l,h){ut(this,"point");ut(this,"isLeft");ut(this,"segment");ut(this,"otherSE");ut(this,"consumedBy");l.events===void 0?l.events=[this]:l.events.push(this),this.point=l,this.isLeft=h}static compare(l,h){let f=E1.comparePoints(l.point,h.point);return f!==0?f:(l.point!==h.point&&l.link(h),l.isLeft!==h.isLeft?l.isLeft?1:-1:ms.compare(l.segment,h.segment))}static comparePoints(l,h){return l.x.isLessThan(h.x)?-1:l.x.isGreaterThan(h.x)?1:l.y.isLessThan(h.y)?-1:l.y.isGreaterThan(h.y)?1:0}link(l){if(l.point===this.point)throw new Error("Tried to link already linked events");let h=l.point.events;for(let f=0,_=h.length;f<_;f++){let b=h[f];this.point.events.push(b),b.point=this.point}this.checkForConsuming()}checkForConsuming(){let l=this.point.events.length;for(let h=0;h<l;h++){let f=this.point.events[h];if(f.segment.consumedBy===void 0)for(let _=h+1;_<l;_++){let b=this.point.events[_];b.consumedBy===void 0&&f.otherSE.point.events===b.otherSE.point.events&&f.segment.consume(b.segment)}}}getAvailableLinkedEvents(){let l=[];for(let h=0,f=this.point.events.length;h<f;h++){let _=this.point.events[h];_!==this&&!_.segment.ringOut&&_.segment.isInResult()&&l.push(_)}return l}getLeftmostComparator(l){let h=new Map,f=_=>{let b=_.otherSE;h.set(_,{sine:al(this.point,l.point,b.point),cosine:gh(this.point,l.point,b.point)})};return(_,b)=>{h.has(_)||f(_),h.has(b)||f(b);let{sine:k,cosine:w}=h.get(_),{sine:M,cosine:P}=h.get(b);return k.isGreaterThanOrEqualTo(0)&&M.isGreaterThanOrEqualTo(0)?w.isLessThan(P)?1:w.isGreaterThan(P)?-1:0:k.isLessThan(0)&&M.isLessThan(0)?w.isLessThan(P)?-1:w.isGreaterThan(P)?1:0:M.isLessThan(k)?-1:M.isGreaterThan(k)?1:0}}},yh=0,ms=class Ol{constructor(l,h,f,_){ut(this,"id");ut(this,"leftSE");ut(this,"rightSE");ut(this,"rings");ut(this,"windings");ut(this,"ringOut");ut(this,"consumedBy");ut(this,"prev");ut(this,"_prevInResult");ut(this,"_beforeState");ut(this,"_afterState");ut(this,"_isInResult");this.id=++yh,this.leftSE=l,l.segment=this,l.otherSE=h,this.rightSE=h,h.segment=this,h.otherSE=l,this.rings=f,this.windings=_}static compare(l,h){let f=l.leftSE.point.x,_=h.leftSE.point.x,b=l.rightSE.point.x,k=h.rightSE.point.x;if(k.isLessThan(f))return 1;if(b.isLessThan(_))return-1;let w=l.leftSE.point.y,M=h.leftSE.point.y,P=l.rightSE.point.y,U=h.rightSE.point.y;if(f.isLessThan(_)){if(M.isLessThan(w)&&M.isLessThan(P))return 1;if(M.isGreaterThan(w)&&M.isGreaterThan(P))return-1;let G=l.comparePoint(h.leftSE.point);if(G<0)return 1;if(G>0)return-1;let ce=h.comparePoint(l.rightSE.point);return ce!==0?ce:-1}if(f.isGreaterThan(_)){if(w.isLessThan(M)&&w.isLessThan(U))return-1;if(w.isGreaterThan(M)&&w.isGreaterThan(U))return 1;let G=h.comparePoint(l.leftSE.point);if(G!==0)return G;let ce=l.comparePoint(h.rightSE.point);return ce<0?1:ce>0?-1:1}if(w.isLessThan(M))return-1;if(w.isGreaterThan(M))return 1;if(b.isLessThan(k)){let G=h.comparePoint(l.rightSE.point);if(G!==0)return G}if(b.isGreaterThan(k)){let G=l.comparePoint(h.rightSE.point);if(G<0)return 1;if(G>0)return-1}if(!b.eq(k)){let G=P.minus(w),ce=b.minus(f),_e=U.minus(M),Be=k.minus(_);if(G.isGreaterThan(ce)&&_e.isLessThan(Be))return 1;if(G.isLessThan(ce)&&_e.isGreaterThan(Be))return-1}return b.isGreaterThan(k)?1:b.isLessThan(k)||P.isLessThan(U)?-1:P.isGreaterThan(U)?1:l.id<h.id?-1:l.id>h.id?1:0}static fromRing(l,h,f){let _,b,k,w=wi.comparePoints(l,h);if(w<0)_=l,b=h,k=1;else if(w>0)_=h,b=l,k=-1;else throw new Error(`Tried to create degenerate segment at [${l.x}, ${l.y}]`);let M=new wi(_,!0),P=new wi(b,!1);return new Ol(M,P,[f],[k])}replaceRightSE(l){this.rightSE=l,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let l=this.leftSE.point.y,h=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:l.isLessThan(h)?l:h},ur:{x:this.rightSE.point.x,y:l.isGreaterThan(h)?l:h}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(l){return l.x.eq(this.leftSE.point.x)&&l.y.eq(this.leftSE.point.y)||l.x.eq(this.rightSE.point.x)&&l.y.eq(this.rightSE.point.y)}comparePoint(l){return hn.orient(this.leftSE.point,l,this.rightSE.point)}getIntersection(l){let h=this.bbox(),f=l.bbox(),_=Yi(h,f);if(_===null)return null;let b=this.leftSE.point,k=this.rightSE.point,w=l.leftSE.point,M=l.rightSE.point,P=Cn(h,w)&&this.comparePoint(w)===0,U=Cn(f,b)&&l.comparePoint(b)===0,G=Cn(h,M)&&this.comparePoint(M)===0,ce=Cn(f,k)&&l.comparePoint(k)===0;if(U&&P)return ce&&!G?k:!ce&&G?M:null;if(U)return G&&b.x.eq(M.x)&&b.y.eq(M.y)?null:b;if(P)return ce&&k.x.eq(w.x)&&k.y.eq(w.y)?null:w;if(ce&&G)return null;if(ce)return k;if(G)return M;let _e=ps(b,this.vector(),w,l.vector());return _e===null||!Cn(_,_e)?null:hn.snap(_e)}split(l){let h=[],f=l.events!==void 0,_=new wi(l,!0),b=new wi(l,!1),k=this.rightSE;this.replaceRightSE(b),h.push(b),h.push(_);let w=new Ol(_,k,this.rings.slice(),this.windings.slice());return wi.comparePoints(w.leftSE.point,w.rightSE.point)>0&&w.swapEvents(),wi.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),f&&(_.checkForConsuming(),b.checkForConsuming()),h}swapEvents(){let l=this.rightSE;this.rightSE=this.leftSE,this.leftSE=l,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let h=0,f=this.windings.length;h<f;h++)this.windings[h]*=-1}consume(l){let h=this,f=l;for(;h.consumedBy;)h=h.consumedBy;for(;f.consumedBy;)f=f.consumedBy;let _=Ol.compare(h,f);if(_!==0){if(_>0){let b=h;h=f,f=b}if(h.prev===f){let b=h;h=f,f=b}for(let b=0,k=f.rings.length;b<k;b++){let w=f.rings[b],M=f.windings[b],P=h.rings.indexOf(w);P===-1?(h.rings.push(w),h.windings.push(M)):h.windings[P]+=M}f.rings=null,f.windings=null,f.consumedBy=h,f.leftSE.consumedBy=h.leftSE,f.rightSE.consumedBy=h.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let l=this.prev.consumedBy||this.prev;this._beforeState=l.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let l=this.beforeState();this._afterState={rings:l.rings.slice(0),windings:l.windings.slice(0),multiPolys:[]};let h=this._afterState.rings,f=this._afterState.windings,_=this._afterState.multiPolys;for(let w=0,M=this.rings.length;w<M;w++){let P=this.rings[w],U=this.windings[w],G=h.indexOf(P);G===-1?(h.push(P),f.push(U)):f[G]+=U}let b=[],k=[];for(let w=0,M=h.length;w<M;w++){if(f[w]===0)continue;let P=h[w],U=P.poly;if(k.indexOf(U)===-1)if(P.isExterior)b.push(U);else{k.indexOf(U)===-1&&k.push(U);let G=b.indexOf(P.poly);G!==-1&&b.splice(G,1)}}for(let w=0,M=b.length;w<M;w++){let P=b[w].multiPoly;_.indexOf(P)===-1&&_.push(P)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let l=this.beforeState().multiPolys,h=this.afterState().multiPolys;switch(cl.type){case"union":{let f=l.length===0,_=h.length===0;this._isInResult=f!==_;break}case"intersection":{let f,_;l.length<h.length?(f=l.length,_=h.length):(f=h.length,_=l.length),this._isInResult=_===cl.numMultiPolys&&f<_;break}case"xor":{let f=Math.abs(l.length-h.length);this._isInResult=f%2===1;break}case"difference":{let f=_=>_.length===1&&_[0].isSubject;this._isInResult=f(l)!==f(h);break}}return this._isInResult}},_s=class{constructor(s,l,h){ut(this,"poly");ut(this,"isExterior");ut(this,"segments");ut(this,"bbox");if(!Array.isArray(s)||s.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=l,this.isExterior=h,this.segments=[],typeof s[0][0]!="number"||typeof s[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let f=hn.snap({x:new C(s[0][0]),y:new C(s[0][1])});this.bbox={ll:{x:f.x,y:f.y},ur:{x:f.x,y:f.y}};let _=f;for(let b=1,k=s.length;b<k;b++){if(typeof s[b][0]!="number"||typeof s[b][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let w=hn.snap({x:new C(s[b][0]),y:new C(s[b][1])});w.x.eq(_.x)&&w.y.eq(_.y)||(this.segments.push(ms.fromRing(_,w,this)),w.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=w.x),w.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=w.y),w.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=w.x),w.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=w.y),_=w)}(!f.x.eq(_.x)||!f.y.eq(_.y))&&this.segments.push(ms.fromRing(_,f,this))}getSweepEvents(){let s=[];for(let l=0,h=this.segments.length;l<h;l++){let f=this.segments[l];s.push(f.leftSE),s.push(f.rightSE)}return s}},ul=class{constructor(s,l){ut(this,"multiPoly");ut(this,"exteriorRing");ut(this,"interiorRings");ut(this,"bbox");if(!Array.isArray(s))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new _s(s[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let h=1,f=s.length;h<f;h++){let _=new _s(s[h],this,!1);_.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=_.bbox.ll.x),_.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=_.bbox.ll.y),_.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=_.bbox.ur.x),_.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=_.bbox.ur.y),this.interiorRings.push(_)}this.multiPoly=l}getSweepEvents(){let s=this.exteriorRing.getSweepEvents();for(let l=0,h=this.interiorRings.length;l<h;l++){let f=this.interiorRings[l].getSweepEvents();for(let _=0,b=f.length;_<b;_++)s.push(f[_])}return s}},ll=class{constructor(s,l){ut(this,"isSubject");ut(this,"polys");ut(this,"bbox");if(!Array.isArray(s))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof s[0][0][0]=="number"&&(s=[s])}catch{}this.polys=[],this.bbox={ll:{x:new C(Number.POSITIVE_INFINITY),y:new C(Number.POSITIVE_INFINITY)},ur:{x:new C(Number.NEGATIVE_INFINITY),y:new C(Number.NEGATIVE_INFINITY)}};for(let h=0,f=s.length;h<f;h++){let _=new ul(s[h],this);_.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=_.bbox.ll.x),_.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=_.bbox.ll.y),_.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=_.bbox.ur.x),_.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=_.bbox.ur.y),this.polys.push(_)}this.isSubject=l}getSweepEvents(){let s=[];for(let l=0,h=this.polys.length;l<h;l++){let f=this.polys[l].getSweepEvents();for(let _=0,b=f.length;_<b;_++)s.push(f[_])}return s}},B1=class Id{constructor(l){ut(this,"events");ut(this,"poly");ut(this,"_isExteriorRing");ut(this,"_enclosingRing");this.events=l;for(let h=0,f=l.length;h<f;h++)l[h].segment.ringOut=this;this.poly=null}static factory(l){let h=[];for(let f=0,_=l.length;f<_;f++){let b=l[f];if(!b.isInResult()||b.ringOut)continue;let k=null,w=b.leftSE,M=b.rightSE,P=[w],U=w.point,G=[];for(;k=w,w=M,P.push(w),w.point!==U;)for(;;){let ce=w.getAvailableLinkedEvents();if(ce.length===0){let Ke=P[0].point,et=P[P.length-1].point;throw new Error(`Unable to complete output ring starting at [${Ke.x}, ${Ke.y}]. Last matching segment found ends at [${et.x}, ${et.y}].`)}if(ce.length===1){M=ce[0].otherSE;break}let _e=null;for(let Ke=0,et=G.length;Ke<et;Ke++)if(G[Ke].point===w.point){_e=Ke;break}if(_e!==null){let Ke=G.splice(_e)[0],et=P.splice(Ke.index);et.unshift(et[0].otherSE),h.push(new Id(et.reverse()));continue}G.push({index:P.length,point:w.point});let Be=w.getLeftmostComparator(k);M=ce.sort(Be)[0].otherSE;break}h.push(new Id(P))}return h}getGeom(){let l=this.events[0].point,h=[l];for(let P=1,U=this.events.length-1;P<U;P++){let G=this.events[P].point,ce=this.events[P+1].point;hn.orient(G,l,ce)!==0&&(h.push(G),l=G)}if(h.length===1)return null;let f=h[0],_=h[1];hn.orient(f,l,_)===0&&h.shift(),h.push(h[0]);let b=this.isExteriorRing()?1:-1,k=this.isExteriorRing()?0:h.length-1,w=this.isExteriorRing()?h.length:-1,M=[];for(let P=k;P!=w;P+=b)M.push([h[P].x.toNumber(),h[P].y.toNumber()]);return M}isExteriorRing(){if(this._isExteriorRing===void 0){let l=this.enclosingRing();this._isExteriorRing=l?!l.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var _,b;let l=this.events[0];for(let k=1,w=this.events.length;k<w;k++){let M=this.events[k];wi.compare(l,M)>0&&(l=M)}let h=l.segment.prevInResult(),f=h?h.prevInResult():null;for(;;){if(!h)return null;if(!f)return h.ringOut;if(f.ringOut!==h.ringOut)return((_=f.ringOut)==null?void 0:_.enclosingRing())!==h.ringOut?h.ringOut:(b=h.ringOut)==null?void 0:b.enclosingRing();h=f.prevInResult(),f=h?h.prevInResult():null}}},Tf=class{constructor(s){ut(this,"exteriorRing");ut(this,"interiorRings");this.exteriorRing=s,s.poly=this,this.interiorRings=[]}addInterior(s){this.interiorRings.push(s),s.poly=this}getGeom(){let s=this.exteriorRing.getGeom();if(s===null)return null;let l=[s];for(let h=0,f=this.interiorRings.length;h<f;h++){let _=this.interiorRings[h].getGeom();_!==null&&l.push(_)}return l}},P1=class{constructor(s){ut(this,"rings");ut(this,"polys");this.rings=s,this.polys=this._composePolys(s)}getGeom(){let s=[];for(let l=0,h=this.polys.length;l<h;l++){let f=this.polys[l].getGeom();f!==null&&s.push(f)}return s}_composePolys(s){var h;let l=[];for(let f=0,_=s.length;f<_;f++){let b=s[f];if(!b.poly)if(b.isExteriorRing())l.push(new Tf(b));else{let k=b.enclosingRing();k!=null&&k.poly||l.push(new Tf(k)),(h=k==null?void 0:k.poly)==null||h.addInterior(b)}}return l}},D1=class{constructor(s,l=ms.compare){ut(this,"queue");ut(this,"tree");ut(this,"segments");this.queue=s,this.tree=new ge(l),this.segments=[]}process(s){let l=s.segment,h=[];if(s.consumedBy)return s.isLeft?this.queue.delete(s.otherSE):this.tree.delete(l),h;s.isLeft&&this.tree.add(l);let f=l,_=l;do f=this.tree.lastBefore(f);while(f!=null&&f.consumedBy!=null);do _=this.tree.firstAfter(_);while(_!=null&&_.consumedBy!=null);if(s.isLeft){let b=null;if(f){let w=f.getIntersection(l);if(w!==null&&(l.isAnEndpoint(w)||(b=w),!f.isAnEndpoint(w))){let M=this._splitSafely(f,w);for(let P=0,U=M.length;P<U;P++)h.push(M[P])}}let k=null;if(_){let w=_.getIntersection(l);if(w!==null&&(l.isAnEndpoint(w)||(k=w),!_.isAnEndpoint(w))){let M=this._splitSafely(_,w);for(let P=0,U=M.length;P<U;P++)h.push(M[P])}}if(b!==null||k!==null){let w=null;b===null?w=k:k===null?w=b:w=wi.comparePoints(b,k)<=0?b:k,this.queue.delete(l.rightSE),h.push(l.rightSE);let M=l.split(w);for(let P=0,U=M.length;P<U;P++)h.push(M[P])}h.length>0?(this.tree.delete(l),h.push(s)):(this.segments.push(l),l.prev=f)}else{if(f&&_){let b=f.getIntersection(_);if(b!==null){if(!f.isAnEndpoint(b)){let k=this._splitSafely(f,b);for(let w=0,M=k.length;w<M;w++)h.push(k[w])}if(!_.isAnEndpoint(b)){let k=this._splitSafely(_,b);for(let w=0,M=k.length;w<M;w++)h.push(k[w])}}}this.tree.delete(l)}return h}_splitSafely(s,l){this.tree.delete(s);let h=s.rightSE;this.queue.delete(h);let f=s.split(l);return f.push(h),s.consumedBy===void 0&&this.tree.add(s),f}},T1=class{constructor(){ut(this,"type");ut(this,"numMultiPolys")}run(s,l,h){La.type=s;let f=[new ll(l,!0)];for(let M=0,P=h.length;M<P;M++)f.push(new ll(h[M],!1));if(La.numMultiPolys=f.length,La.type==="difference"){let M=f[0],P=1;for(;P<f.length;)Yi(f[P].bbox,M.bbox)!==null?P++:f.splice(P,1)}if(La.type==="intersection")for(let M=0,P=f.length;M<P;M++){let U=f[M];for(let G=M+1,ce=f.length;G<ce;G++)if(Yi(U.bbox,f[G].bbox)===null)return[]}let _=new ge(wi.compare);for(let M=0,P=f.length;M<P;M++){let U=f[M].getSweepEvents();for(let G=0,ce=U.length;G<ce;G++)_.add(U[G])}let b=new D1(_),k=null;for(_.size!=0&&(k=_.first(),_.delete(k));k;){let M=b.process(k);for(let P=0,U=M.length;P<U;P++){let G=M[P];G.consumedBy===void 0&&_.add(G)}_.size!=0?(k=_.first(),_.delete(k)):k=null}hn.reset();let w=B1.factory(b.segments);return new P1(w).getGeom()}},La=new T1,cl=La,R1=(s,...l)=>cl.run("intersection",s,l),O1=(s,...l)=>cl.run("difference",s,l);hn.set;function hl(s){let l={type:"Feature"};return l.geometry=s,l}function dl(s){return s.type==="Feature"?s.geometry:s}function Rf(s){return s&&s.geometry&&s.geometry.coordinates?s.geometry.coordinates:s}function F1(s){return hl({type:"LineString",coordinates:s})}function I1(s){return hl({type:"MultiLineString",coordinates:s})}function Of(s){return hl({type:"Polygon",coordinates:s})}function Ff(s){return hl({type:"MultiPolygon",coordinates:s})}function N1(s,l){let h=dl(s),f=dl(l),_=R1(h.coordinates,f.coordinates);return _.length===0?null:_.length===1?Of(_[0]):Ff(_)}function z1(s,l){let h=dl(s),f=dl(l),_=O1(h.coordinates,f.coordinates);return _.length===0?null:_.length===1?Of(_[0]):Ff(_)}function If(s){return Array.isArray(s)?1+If(s[0]):-1}function j1(s){s instanceof L.Polyline&&(s=s.toGeoJSON(15));let l=Rf(s),h=If(l),f=[];return h>1?l.forEach(_=>{f.push(F1(_))}):f.push(s),f}function G1(s){let l=[];return s.eachLayer(h=>{l.push(Rf(h.toGeoJSON(15)))}),I1(l)}Mn.Cut=Mn.Polygon.extend({initialize(s){this._map=s,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let s=this._layer.getLatLngs();if(s.length<=2)return;let l=L.polygon(s,this.options.pathOptions);l._latlngInfos=this._layer._latlngInfo,this.cut(l),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:h,originalLayer:f})=>{this._fireCut(f,h,f),this._fireCut(this._map,h,f),f.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()},cut(s){let l=this._map._layers,h=s._latlngInfos||[];Object.keys(l).map(f=>l[f]).filter(f=>f.pm).filter(f=>!f._pmTempLayer).filter(f=>!L.PM.optIn&&!f.options.pmIgnore||L.PM.optIn&&f.options.pmIgnore===!1).filter(f=>f instanceof L.Polyline).filter(f=>f!==s).filter(f=>f.pm.options.allowCutting).filter(f=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(f)>-1:!0).filter(f=>!this._layerGroup.hasLayer(f)).filter(f=>{try{let _=!!Gn(s.toGeoJSON(15),f.toGeoJSON(15)).features.length>0;return _||f instanceof L.Polyline&&!(f instanceof L.Polygon)?_:!!N1(s.toGeoJSON(15),f.toGeoJSON(15))}catch{return f instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(f=>{let _;if(f instanceof L.Polygon){_=L.polygon(f.getLatLngs());let M=_.getLatLngs();h.forEach(P=>{if(P&&P.snapInfo){let{latlng:U}=P,G=this._calcClosestLayer(U,[_]);if(G&&G.segment&&G.distance<this.options.snapDistance){let{segment:ce}=G;if(ce&&ce.length===2){let{indexPath:_e,parentPath:Be,newIndex:Ke}=L.PM.Utils._getIndexFromSegment(M,ce);(_e.length>1?(0,_h.default)(M,Be):M).splice(Ke,0,U)}}}})}else _=f;let b=this._cutLayer(s,_),k=L.geoJSON(b,f.options);k.getLayers().length===1&&([k]=k.getLayers()),this._setPane(k,"layerPane");let w=k.addTo(this._map.pm._getContainingLayer());if(w.pm.enable(f.pm.options),w.pm.disable(),f._pmTempLayer=!0,s._pmTempLayer=!0,f.remove(),f.removeFrom(this._map.pm._getContainingLayer()),s.remove(),s.removeFrom(this._map.pm._getContainingLayer()),w.getLayers&&w.getLayers().length===0&&this._map.pm.removeLayer({target:w}),w instanceof L.LayerGroup?(w.eachLayer(M=>{this._addDrawnLayerProp(M)}),this._addDrawnLayerProp(w)):this._addDrawnLayerProp(w),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let M=this.options.layersToCut.indexOf(f);M>-1&&this.options.layersToCut.splice(M,1)}this._editedLayers.push({layer:w,originalLayer:f})})},_cutLayer(s,l){let h=L.geoJSON(),f;if(l instanceof L.Polygon)f=z1(l.toGeoJSON(15),s.toGeoJSON(15));else{let _=j1(l);_.forEach(b=>{let k=rs(b,s.toGeoJSON(15)),w;k&&k.features.length>0?w=L.geoJSON(k):w=L.geoJSON(b),w.getLayers().forEach(M=>{ss(s.toGeoJSON(15),M.toGeoJSON(15))||M.addTo(h)})}),_.length>1?f=G1(h):f=h.toGeoJSON(15)}return f},_change:L.Util.falseFn}),Mn.Text=Mn.extend({initialize(s){this._map=s,this._shape="Text",this.toolbarButtonName="drawText"},enable(s){L.Util.setOptions(this,s),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Dt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){var s;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),(s=this._hintMarker)==null||s.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this.options.snappable){let l=s;l.target=this._hintMarker,this._handleSnapping(l)}},_createMarker(s){var _,b,k,w;if(!s.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let l=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(_=this.options.textOptions)==null?void 0:_.className){let M=this.options.textOptions.className.split(" ");this.textArea.classList.add(...M)}let h=this._createTextIcon(this.textArea),f=new L.Marker(l,{textMarker:!0,_textMarkerOverPM:!0,icon:h});if(this._setPane(f,"markerPane"),this._finishLayer(f),f.pm||(f.options.draggable=!1),f.addTo(this._map.pm._getContainingLayer()),f.pm){f.pm.textArea=this.textArea,L.setOptions(f.pm,{removeIfEmpty:((b=this.options.textOptions)==null?void 0:b.removeIfEmpty)??!0});let M=((k=this.options.textOptions)==null?void 0:k.focusAfterDraw)??!0;f.pm._createTextMarker(M),(w=this.options.textOptions)!=null&&w.text&&f.pm.setText(this.options.textOptions.text)}this._fireCreate(f),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createTextArea(){let s=document.createElement("textarea");return s.readOnly=!0,s.classList.add("pm-textarea","pm-disabled"),s},_createTextIcon(s){return L.divIcon({className:"pm-text-marker",html:s})}});var V1={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Tr(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let s=this._getDOMElem();s&&(Tr(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(s)):L.DomEvent.on(s,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Tr(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let s=this._getDOMElem();s&&(Tr(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(s)):L.DomEvent.off(s,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(s){let l=s.touches?s.touches[0]:s,h={originalEvent:l,target:this._layer};return h.containerPoint=this._map.mouseEventToContainerPoint(l),h.latlng=this._map.containerPointToLatLng(h.containerPoint),this._dragMixinOnMouseDown(h),!1},_simulateMouseMoveEvent(s){let l=s.touches?s.touches[0]:s,h={originalEvent:l,target:this._layer};return h.containerPoint=this._map.mouseEventToContainerPoint(l),h.latlng=this._map.containerPointToLatLng(h.containerPoint),this._dragMixinOnMouseMove(h),!1},_simulateMouseUpEvent(s){let l={originalEvent:s.touches?s.touches[0]:s,target:this._layer};return s.type.indexOf("touch")===-1&&(l.containerPoint=this._map.mouseEventToContainerPoint(s),l.latlng=this._map.containerPointToLatLng(l.containerPoint)),this._dragMixinOnMouseUp(l),!1},_dragMixinOnMouseDown(s){if(s.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(s);let l=s._fromLayerSync,h=this._syncLayers("_dragMixinOnMouseDown",s);if(this._layer instanceof L.Marker&&(this.options.snappable&&!l&&!h?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let f="resizeableCircleMarker";this._layer instanceof L.Circle&&(f="resizableCircle"),this.options.snappable&&!l&&!h?this._layer.pm.options[f]||this._initSnappableMarkersDrag():this._layer.pm.options[f]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=s.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(s){this._overwriteEventIfItComesFromMarker(s);let l=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",s),this._dragging||(this._dragging=!0,L.DomUtil.addClass(l,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=s.latlng),this._onLayerDrag(s),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(s){let l=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",s),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,l&&L.DomUtil.removeClass(l,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(s){let{latlng:l}=s,h={lat:l.lat-this._tempDragCoord.lat,lng:l.lng-this._tempDragCoord.lng},f=_=>_.map(b=>{if(Array.isArray(b))return f(b);let k={lat:b.lat+h.lat,lng:b.lng+h.lng};return(b.alt||b.alt===0)&&(k.alt=b.alt),k});if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let _=f([this._layer.getLatLng()]);this._layer.setLatLng(_[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let _=this._layer.getLatLng();this._layer._snapped&&(_=this._layer._orgLatLng);let b=f([_]);this._layer.setLatLng(b[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let _=f([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(_),this._fireChange(this._layer.getBounds(),"Edit")}else{let _=f(this._layer.getLatLngs());this._layer.setLatLngs(_),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=l,s.layer=this._layer,this._fireDrag(s)},addDraggingClass(){let s=this._getDOMElem();s&&L.DomUtil.addClass(s,"leaflet-pm-draggable")},removeDraggingClass(){let s=this._getDOMElem();s&&L.DomUtil.removeClass(s,"leaflet-pm-draggable")},_getDOMElem(){let s=null;return this._layer._path?s=this._layer._path:this._layer._renderer&&this._layer._renderer._container?s=this._layer._renderer._container:this._layer._image?s=this._layer._image:this._layer._icon&&(s=this._layer._icon),s},_overwriteEventIfItComesFromMarker(s){s.target.getLatLng&&(!s.target._radius||s.target._radius<=10)&&(s.containerPoint=this._map.mouseEventToContainerPoint(s.originalEvent),s.latlng=this._map.containerPointToLatLng(s.containerPoint))},_syncLayers(s,l){if(this.enabled())return!1;if(!l._fromLayerSync&&this._layer===l.target&&this.options.syncLayersOnDrag){l._fromLayerSync=!0;let h=[];if(L.Util.isArray(this.options.syncLayersOnDrag))h=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(f=>{f instanceof L.LayerGroup&&(h=h.concat(f.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let f in this._parentLayerGroup){let _=this._parentLayerGroup[f];_.pm&&(h=_.pm.getLayers(!0))}return L.Util.isArray(h)&&h.length>0&&(h=h.filter(f=>!!f.pm).filter(f=>!!f.pm.options.draggable),h.forEach(f=>{f!==this._layer&&f.pm[s]&&(f._snapped=!1,f.pm[s](l))})),h.length>0}return!1},_stopDOMImageDrag(s){return s.preventDefault(),!1}},H1=V1,U1=p(qi());function $1(s,l,h,f){return h.unproject(l.transform(h.project(s,f)),f)}function Nf(s,l,h){let f=h.getMaxZoom();if(f===1/0&&(f=h.getZoom()),L.Util.isArray(s)){let _=[];return s.forEach(b=>{_.push(Nf(b,l,h))}),_}return s instanceof L.LatLng?$1(s,l,h,f):null}function gs(s,l){l instanceof L.Layer&&(l=l.getLatLng());let h=s.getMaxZoom();return h===1/0&&(h=s.getZoom()),s.project(l,h)}function fl(s,l){let h=s.getMaxZoom();return h===1/0&&(h=s.getZoom()),s.unproject(l,h)}var q1={_onRotateStart(s){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=gs(this._map,this._rotationOriginLatLng),this._rotationStartPoint=gs(this._map,s.target.getLatLng()),this._initialRotateLatLng=Ki(this._layer),this._startAngle=this.getAngle();let l=Ki(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,l),this._fireRotationStart(this._map,l)},_onRotate(s){let l=gs(this._map,s.target.getLatLng()),h=this._rotationStartPoint,f=this._rotationOriginPoint,_=Math.atan2(l.y-f.y,l.x-f.x)-Math.atan2(h.y-f.y,h.x-f.x);this._layer.setLatLngs(this._rotateLayer(_,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let b=this;function k(U,G=[],ce=-1){if(ce>-1&&G.push(ce),L.Util.isArray(U[0]))U.forEach((_e,Be)=>k(_e,G.slice(),Be));else{let _e=(0,U1.default)(b._markers,G);U.forEach((Be,Ke)=>{_e[Ke].setLatLng(Be)})}}k(this._layer.getLatLngs());let w=Ki(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(_,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let M=_*180/Math.PI;M=M<0?M+360:M;let P=M+this._startAngle;this._setAngle(P),this._rotationLayer.pm._setAngle(P),this._fireRotation(this._rotationLayer,M,w),this._fireRotation(this._map,M,w),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let s=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let l=Ki(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Ki(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,s,l),this._fireRotationEnd(this._map,s,l),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(s,l,h,f,_){let b=gs(_,h);return this._matrix=f.clone().rotate(s,b).flip(),Nf(l,this._matrix,_)},_setAngle(s){s=s<0?s+360:s,this._angle=s%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let s=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),l=s.getCenter();return s.removeFrom(this._layer._map),l},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(la(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let s={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),s),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Ki(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(s){let l=this.getAngle(),h=this._layer.getLatLngs(),f=s*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(f,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+s),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(f,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let _=this.getAngle()-l;_=_<0?_+360:_,this._startAngle=l,this._fireRotation(this._layer,_,h,this._layer),this._fireRotation(this._map||this._layer._map,_,h,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(s){let l=s-this.getAngle();this.rotateLayer(l)},getAngle(){return this._angle||0},setInitAngle(s){this._setAngle(s)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(s){this._rotationCenter=s,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(s)}},Z1=q1,K1=L.Class.extend({includes:[H1,ha,Z1,Dr],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions(s){L.Util.setOptions(this,s)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(s,l){l==="layerPane"?s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(s,l){let h=l.target,f={layer:this._layer,marker:h,event:l},_="";return s==="move"?_="moveVertexValidation":s==="add"?_="addVertexValidation":s==="remove"&&(_="removeVertexValidation"),this.options[_]&&typeof this.options[_]=="function"&&!this.options[_](f)?(s==="move"&&(h._cancelDragEventChain=h.getLatLng()),!1):(h._cancelDragEventChain=null,!0)},_vertexValidationDrag(s){return s._cancelDragEventChain?(s._latlng=s._cancelDragEventChain,s.update(),!1):!0},_vertexValidationDragEnd(s){return s._cancelDragEventChain?(s._cancelDragEventChain=null,!1):!0}}),Dn=K1;Dn.LayerGroup=L.Class.extend({initialize(s){this._layerGroup=s,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(f=>this._initLayer(f));let l=f=>{if(f.layer._pmTempLayer)return;this._layers=this.getLayers();let _=this._layers.filter(b=>!b.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in b.pm._parentLayerGroup));_.forEach(b=>{this._initLayer(b)}),_.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(l,100,this),this),this._layerGroup.on("layerremove",f=>{this._removeLayerFromGroup(f.target)},this);let h=f=>{f.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(h,100,this),this)},enable(s,l=[]){l.length===0&&(this._layers=this.getLayers()),this._options=s,this._layers.forEach(h=>{h instanceof L.LayerGroup?l.indexOf(h._leaflet_id)===-1&&(l.push(h._leaflet_id),h.pm.enable(s,l)):h.pm.enable(s)})},disable(s=[]){s.length===0&&(this._layers=this.getLayers()),this._layers.forEach(l=>{l instanceof L.LayerGroup?s.indexOf(l._leaflet_id)===-1&&(s.push(l._leaflet_id),l.pm.disable(s)):l.pm.disable()})},enabled(s=[]){return s.length===0&&(this._layers=this.getLayers()),!!this._layers.find(l=>l instanceof L.LayerGroup?s.indexOf(l._leaflet_id)===-1?(s.push(l._leaflet_id),l.pm.enabled(s)):!1:l.pm.enabled())},toggleEdit(s,l=[]){l.length===0&&(this._layers=this.getLayers()),this._options=s,this._layers.forEach(h=>{h instanceof L.LayerGroup?l.indexOf(h._leaflet_id)===-1&&(l.push(h._leaflet_id),h.pm.toggleEdit(s,l)):h.pm.toggleEdit(s)})},_initLayer(s){let l=L.Util.stamp(this._layerGroup);s.pm._parentLayerGroup||(s.pm._parentLayerGroup={}),s.pm._parentLayerGroup[l]=this._layerGroup},_removeLayerFromGroup(s){if(s.pm&&s.pm._layerGroup){let l=L.Util.stamp(this._layerGroup);delete s.pm._layerGroup[l]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(s=>s.pm.dragging()):!1},getOptions(){return this.options},_getMap(){var s;return this._map||((s=this._layers.find(l=>!!l._map))==null?void 0:s._map)||null},getLayers(s=!1,l=!0,h=!0,f=[]){let _=[];return s?this._layerGroup.getLayers().forEach(b=>{_.push(b),b instanceof L.LayerGroup&&f.indexOf(b._leaflet_id)===-1&&(f.push(b._leaflet_id),_=_.concat(b.pm.getLayers(!0,!0,!0,f)))}):_=this._layerGroup.getLayers(),h&&(_=_.filter(b=>!(b instanceof L.LayerGroup))),l&&(_=_.filter(b=>!!b.pm),_=_.filter(b=>!b._pmTempLayer),_=_.filter(b=>!L.PM.optIn&&!b.options.pmIgnore||L.PM.optIn&&b.options.pmIgnore===!1)),_},setOptions(s,l=[]){l.length===0&&(this._layers=this.getLayers()),this.options=s,this._layers.forEach(h=>{h.pm&&(h instanceof L.LayerGroup?l.indexOf(h._leaflet_id)===-1&&(l.push(h._leaflet_id),h.pm.setOptions(s,l)):h.pm.setOptions(s))})}}),Dn.Marker=Dn.extend({_shape:"Marker",initialize(s){this._layer=s,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(s={draggable:!0}){if(L.Util.setOptions(this,s),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(s){this.enabled()?this.disable():this.enable(s)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(s){let l=s.target;l.remove(),this._fireRemove(l),this._fireRemove(this._map,l)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let s=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,s.off("pm:drag",this._handleSnapping,this),s.on("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.on("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this),s.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let s=this._layer;s.off("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this)}});var zr=p(qi()),W1={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let s=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=s.filter((l,h,f)=>f.indexOf(l)===h)},_removeFromCache(s){let l=this.markerCache.indexOf(s);l>-1&&this.markerCache.splice(l,1)},renderLimits(s){this.markerCache.forEach(l=>{s.includes(l)?this._markerGroup.addLayer(l):this._markerGroup.removeLayer(l)})},applyLimitFilters({latlng:s={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let l=[...this._filterClosestMarkers(s)];this.renderLimits(l)},_filterClosestMarkers(s){let l=[...this.markerCache],h=this.options.limitMarkersToCount;return h===-1?l:(l.sort((f,_)=>{let b=f._latlng.distanceTo(s),k=_._latlng.distanceTo(s);return b-k}),l.filter((f,_)=>h>-1?_<h:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(s){this._preventRenderMarkers=!!s}},J1=W1;Dn.Line=Dn.extend({includes:[J1],_shape:"Line",initialize(s){this._layer=s,this._enabled=!1},enable(s){if(L.Util.setOptions(this,s),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let s=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(s,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(s){return this.enabled()?this.disable():this.enable(s),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let s=this._map,l=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let h=f=>{if(Array.isArray(f[0]))return f.map(h,this);let _=f.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&f.map((b,k)=>{let w=this.isPolygon()?(k+1)%f.length:k+1;return this._createMiddleMarker(_[k],_[w])}),_};this._markers=h(l),this.filterMarkerGroup(),s.addLayer(this._markerGroup)},_createMarker(s){let l=new L.Marker(s,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this.options.rotate?(l.on("dragstart",this._onRotateStart,this),l.on("drag",this._onRotate,this),l.on("dragend",this._onRotateEnd,this)):(l.on("click",this._onVertexClick,this),l.on("dragstart",this._onMarkerDragStart,this),l.on("move",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||l.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(l),l},_createMiddleMarker(s,l){if(!s||!l)return!1;let h=L.PM.Utils.calcMiddleLatLng(this._map,s.getLatLng(),l.getLatLng()),f=this._createMarker(h),_=L.divIcon({className:"marker-icon marker-icon-middle"});return f.setIcon(_),f.leftM=s,f.rightM=l,s._middleMarkerNext=f,l._middleMarkerPrev=f,f.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),f.on("movestart",this._onMiddleMarkerMoveStart,this),f},_onMiddleMarkerClick(s){let l=s.target;if(!this._vertexValidation("add",s))return;let h=L.divIcon({className:"marker-icon"});l.setIcon(h),this._addMarker(l,l.leftM,l.rightM)},_onMiddleMarkerMoveStart(s){let l=s.target;if(l.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",s)){l.on("move",this._onMiddleMarkerMovePrevent,this);return}l._dragging=!0,this._addMarker(l,l.leftM,l.rightM)},_onMiddleMarkerMovePrevent(s){let l=s.target;this._vertexValidationDrag(l)},_onMiddleMarkerMoveEnd(s){let l=s.target;if(l.off("move",this._onMiddleMarkerMovePrevent,this),l.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(l))return;let h=L.divIcon({className:"marker-icon"});l.setIcon(h),setTimeout(()=>{delete l._dragging},100)},_addMarker(s,l,h){s.off("movestart",this._onMiddleMarkerMoveStart,this),s.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let f=s.getLatLng(),_=this._layer._latlngs;delete s.leftM,delete s.rightM;let{indexPath:b,index:k,parentPath:w}=L.PM.Utils.findDeepMarkerIndex(this._markers,l),M=b.length>1?(0,zr.default)(_,w):_,P=b.length>1?(0,zr.default)(this._markers,w):this._markers;M.splice(k+1,0,f),P.splice(k+1,0,s),this._layer.setLatLngs(_),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(l,s),this._createMiddleMarker(s,h)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(s,L.PM.Utils.findDeepMarkerIndex(this._markers,s).indexPath,f),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return _o(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(s){let l=this._layer,h,f;if(this.options.allowSelfIntersection?h=!1:(f=_o(this._layer.toGeoJSON(15)),h=f.features.length>0),h){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return h;s?this._flashLayer():(l.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(f)}else l.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return h},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(s,l){s.forEach(h=>{Array.isArray(h)?this._updateDisabledMarkerStyle(h,l):h._icon&&(l&&!this._checkMarkerAllowedToDrag(h)?L.DomUtil.addClass(h._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(h._icon,"vertexmarker-disabled"))})},_removeMarker(s){let l=s.target;if(!this._vertexValidation("remove",s))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=Ki(this._layer,this._layer.getLatLngs()));let h=this._layer.getLatLngs(),{indexPath:f,index:_,parentPath:b}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);if(!f)return;let k=f.length>1?(0,zr.default)(h,b):h,w=f.length>1?(0,zr.default)(this._markers,b):this._markers;if(!this.options.removeLayerBelowMinVertexCount&&(k.length<=2||this.isPolygon()&&k.length<=3)){this._flashLayer();return}k.splice(_,1),this._layer.setLatLngs(h),this.isPolygon()&&k.length<=2&&k.splice(0,k.length);let M=!1;if(k.length<=1&&(k.splice(0,k.length),b.length>1&&f.length>1&&(h=Zi(h)),this._layer.setLatLngs(h),this._initMarkers(),M=!0),Zn(h)||this._layer.remove(),h=Zi(h),this._layer.setLatLngs(h),this._markers=Zi(this._markers),!M&&(w=f.length>1?(0,zr.default)(this._markers,b):this._markers,l._middleMarkerPrev&&(this._markerGroup.removeLayer(l._middleMarkerPrev),this._removeFromCache(l._middleMarkerPrev)),l._middleMarkerNext&&(this._markerGroup.removeLayer(l._middleMarkerNext),this._removeFromCache(l._middleMarkerNext)),this._markerGroup.removeLayer(l),this._removeFromCache(l),w)){let P,U;if(this.isPolygon()?(P=(_+1)%w.length,U=(_+(w.length-1))%w.length):(U=_-1<0?void 0:_-1,P=_+1>=w.length?void 0:_+1),P!==U){let G=w[U],ce=w[P];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(G,ce)}w.splice(_,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(l,f),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(s){let l=this._layer.getLatLngs(),h=s.getLatLng(),{indexPath:f,index:_,parentPath:b}=L.PM.Utils.findDeepMarkerIndex(this._markers,s);(f.length>1?(0,zr.default)(l,b):l).splice(_,1,h),this._layer.setLatLngs(l)},_getNeighborMarkers(s){let{indexPath:l,index:h,parentPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,s),_=l.length>1?(0,zr.default)(this._markers,f):this._markers,b=(h+1)%_.length,k=(h+(_.length-1))%_.length,w=_[k],M=_[b];return{prevMarker:w,nextMarker:M}},_checkMarkerAllowedToDrag(s){let{prevMarker:l,nextMarker:h}=this._getNeighborMarkers(s),f=L.polyline([l.getLatLng(),s.getLatLng()]),_=L.polyline([s.getLatLng(),h.getLatLng()]),b=Gn(this._layer.toGeoJSON(15),f.toGeoJSON(15)).features.length,k=Gn(this._layer.toGeoJSON(15),_.toGeoJSON(15)).features.length;return s.getLatLng()===this._markers[0][0].getLatLng()?k+=1:s.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(b+=1),!(b<=2&&k<=2)},_onMarkerDragStart(s){let l=s.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",s))return;let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireMarkerDragStart(s,h),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Ki(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(l):this._markerAllowedToDrag=null},_onMarkerDrag(s){let l=s.target;if(!this._vertexValidationDrag(l))return;let{indexPath:h,index:f,parentPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);if(!h)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(l);let b=h.length>1?(0,zr.default)(this._markers,_):this._markers,k=(f+1)%b.length,w=(f+(b.length-1))%b.length,M=l.getLatLng(),P=b[w].getLatLng(),U=b[k].getLatLng();if(l._middleMarkerNext){let G=L.PM.Utils.calcMiddleLatLng(this._map,M,U);l._middleMarkerNext.setLatLng(G)}if(l._middleMarkerPrev){let G=L.PM.Utils.calcMiddleLatLng(this._map,M,P);l._middleMarkerPrev.setLatLng(G)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(s,h),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(s){let l=s.target;if(!this._vertexValidationDragEnd(l))return;let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,l),f=this.hasSelfIntersection();f&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(f=!1);let _=!this.options.allowSelfIntersection&&f;if(this._fireMarkerDragEnd(s,h,_),_){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(s,h);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(s){let l=s.target;if(l._dragging)return;let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireVertexClick(s,h)}}),Dn.Polygon=Dn.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(s){let{prevMarker:l,nextMarker:h}=this._getNeighborMarkers(s),f=L.polyline([l.getLatLng(),s.getLatLng()]),_=L.polyline([s.getLatLng(),h.getLatLng()]),b=Gn(this._layer.toGeoJSON(15),f.toGeoJSON(15)).features.length,k=Gn(this._layer.toGeoJSON(15),_.toGeoJSON(15)).features.length;return!(b<=2&&k<=2)}}),Dn.Rectangle=Dn.Polygon.extend({_shape:"Rectangle",_initMarkers(){let s=this._map,l=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,s.addLayer(this._markerGroup),this._markers=[],this._markers[0]=l.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((h,f)=>{let _=this._cornerMarkers.find(b=>b._index===f);_&&_.setLatLng(h)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(s,l){let h=new L.Marker(s,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._origLatLng=s,h._index=l,h._pmTempLayer=!0,h.on("click",this._onVertexClick,this),this._markerGroup.addLayer(h),h},_addMarkerEvents(){this._markers[0].forEach(s=>{s.on("dragstart",this._onMarkerDragStart,this),s.on("drag",this._onMarkerDrag,this),s.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||s.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(s){if(!this._vertexValidation("move",s))return;let l=s.target,h=this._cornerMarkers;l._oppositeCornerLatLng=h.find(_=>_._index===(l._index+2)%4).getLatLng(),l._snapped=!1;let{indexPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireMarkerDragStart(s,f)},_onMarkerDrag(s){let l=s.target;if(!this._vertexValidationDrag(l)||l._index===void 0)return;this._adjustRectangleForMarkerMove(l);let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireMarkerDrag(s,h),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(s){let l=s.target;if(!this._vertexValidationDragEnd(l))return;this._cornerMarkers.forEach(f=>{delete f._oppositeCornerLatLng});let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireMarkerDragEnd(s,h),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(s){L.extend(s._origLatLng,s._latlng);let l=L.PM.Utils._getRotatedRectangle(s.getLatLng(),s._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(l),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers(){let s=this._layer.getLatLngs()[0];s&&s.length!==4&&s.length>0?(s.forEach((l,h)=>{this._cornerMarkers[h].setLatLng(l)}),this._cornerMarkers.slice(s.length).forEach(l=>{l.setLatLng(s[0])})):!s||!s.length?console.error("The layer has no LatLngs"):this._cornerMarkers.forEach(l=>{l.setLatLng(s[l._index])})},_findCorners(){this._angle===void 0&&this.setInitAngle(la(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let s=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(s[0],s[2],this.getAngle(),this._map||this)}}),Dn.CircleMarker=Dn.extend({_shape:"CircleMarker",initialize(s){this._layer=s,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(s={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,s),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(s){this.enabled()?this.disable():this.enable(s)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let s=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(s);let l=this._layer.getLatLng(),h=this._layer._radius,f=this._getLatLngOnCircle(l,h);this._centerMarker=this._createCenterMarker(l),this._outerMarker=this._createOuterMarker(f),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(s,l){let h=this._map.project(s),f=L.point(h.x+l,h.y);return this._map.unproject(f)},_createHintLine(s,l){let h=s.getLatLng(),f=l.getLatLng();this._hintline=L.polyline([h,f],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(s){let l=this._createMarker(s);return this.options.draggable?L.DomUtil.addClass(l._icon,"leaflet-pm-draggable"):l.dragging.disable(),l},_createOuterMarker(s){let l=this._createMarker(s);return l.on("drag",this._resizeCircle,this),l},_createMarker(s){let l=new L.Marker(s,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._origLatLng=s,l._pmTempLayer=!0,l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),l.on("click",this._onVertexClick,this),this._helperLayers.addLayer(l),l},_moveCircle(s){if(s.target._cancelDragEventChain)return;let l=this._centerMarker.getLatLng();this._layer.setLatLng(l);let h=this._layer._radius,f=this._getLatLngOnCircle(l,h);this._outerMarker._latlng=f,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let s=this._layer.getLatLng(),l=this._layer._radius,h=this._getLatLngOnCircle(s,l);this._outerMarker.setLatLng(h),this._centerMarker.setLatLng(s),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let s=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),h=this._distanceCalculation(s,l);this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(h),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let s=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng();this._hintline.setLatLngs([s,l])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(s){this._vertexValidation("move",s)&&this._fireMarkerDragStart(s)},_onMarkerDrag(s){let l=s.target;l instanceof L.Marker&&!this._vertexValidationDrag(l)||this._fireMarkerDrag(s)},_onMarkerDragEnd(s){this._extedingMarkerDragEnd();let l=s.target;this._vertexValidationDragEnd(l)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(s))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let s=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,s.off("pm:drag",this._handleSnapping,this),s.on("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.on("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this),s.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let s=this._layer;s.off("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let s=this._layer._map||this._map;if(s){let l=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),s,this._layer.getLatLng()),h=L.circle(this._layer.getLatLng(),this._layer.options);h.setRadius(l);let f=s&&s.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(h,200,!f).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(h,200,!f),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let s=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),h=this._distanceCalculation(s,l);return this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?l=mo(this._map,s,l,this._getMinDistanceInMeter(s)):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&(l=mo(this._map,s,l,this._getMaxDistanceInMeter(s))),l},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let s=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),h=this._distanceCalculation(s,l);this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(s,l){return this._map.project(s).distanceTo(this._map.project(l))},_getMinDistanceInMeter(s){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,s)},_getMaxDistanceInMeter(s){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,s)},_onVertexClick(s){s.target._dragging||this._fireVertexClick(s,void 0)}}),Dn.Circle=Dn.CircleMarker.extend({_shape:"Circle",initialize(s){this._layer=s,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable(s){L.PM.Edit.CircleMarker.prototype.enable.call(this,s||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let s=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(s,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let s=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!s).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!s),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(s,l){return this._map.distance(s,l)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(s){s.target._dragging||this._fireVertexClick(s,void 0)}}),Dn.ImageOverlay=Dn.extend({_shape:"ImageOverlay",initialize(s){this._layer=s,this._enabled=!1},toggleEdit(s){this.enabled()?this.disable():this.enable(s)},enabled(){return this._enabled},enable(s={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,s),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let s=this._layer.getBounds(),l=s.getNorthWest(),h=s.getNorthEast(),f=s.getSouthEast(),_=s.getSouthWest();return[l,h,f,_]}}),Dn.Text=Dn.extend({_shape:"Text",initialize(s){this._layer=s,this._enabled=!1},enable(s){if(L.Util.setOptions(this,s),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let s=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),s.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(s){this.enabled()?this.disable():this.enable(s)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let s=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,s.off("pm:drag",this._handleSnapping,this),s.on("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.on("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this),s.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let s=this._layer;s.off("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let s=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,l=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${s}px`,this.textArea.style.width=`${l}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(s){s.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(s={}){let l=this._hasFocus;this._hasFocus=s.type==="focus",!l!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(s){this.textArea.value=s,this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let l=this.options.className.split(" ");this.textArea.classList.add(...l)}let s=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(s),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(s=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),s===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(s){s.preventDefault()}});var bh=function(s,l,h,f,_,b){this._matrix=[s,l,h,f,_,b]};bh.init=()=>new L.PM.Matrix(1,0,0,1,0,0),bh.prototype={transform(s){return this._transform(s.clone())},_transform(s){let l=this._matrix,{x:h,y:f}=s;return s.x=l[0]*h+l[1]*f+l[4],s.y=l[2]*h+l[3]*f+l[5],s},untransform(s){let l=this._matrix;return new L.Point((s.x/l[0]-l[4])/l[0],(s.y/l[2]-l[5])/l[2])},clone(){let s=this._matrix;return new L.PM.Matrix(s[0],s[1],s[2],s[3],s[4],s[5])},translate(s){if(s===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let l,h;return typeof s=="number"?(l=s,h=s):(l=s.x,h=s.y),this._add(1,0,0,1,l,h)},scale(s,l){if(s===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let h,f;return l=l||L.point(0,0),typeof s=="number"?(h=s,f=s):(h=s.x,f=s.y),this._add(h,0,0,f,l.x,l.y)._add(1,0,0,1,-l.x,-l.y)},rotate(s,l){let h=Math.cos(s),f=Math.sin(s);return l=l||new L.Point(0,0),this._add(h,f,-f,h,l.x,l.y)._add(1,0,0,1,-l.x,-l.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(s,l,h,f,_,b){let k=[[],[],[]],w=this._matrix,M=[[w[0],w[2],w[4]],[w[1],w[3],w[5]],[0,0,1]],P=[[s,h,_],[l,f,b],[0,0,1]],U;s&&s instanceof L.PM.Matrix&&(w=s._matrix,P=[[w[0],w[2],w[4]],[w[1],w[3],w[5]],[0,0,1]]);for(let G=0;G<3;G+=1)for(let ce=0;ce<3;ce+=1){U=0;for(let _e=0;_e<3;_e+=1)U+=M[G][_e]*P[_e][ce];k[G][ce]=U}return this._matrix=[k[0][0],k[1][0],k[0][1],k[1][1],k[0][2],k[1][2]],this}};var Y1=bh,X1={calcMiddleLatLng(s,l,h){let f=s.project(l),_=s.project(h);return s.unproject(f._add(_)._divideBy(2))},findLayers(s){let l=[];return s.eachLayer(h=>{(h instanceof L.Polyline||h instanceof L.Marker||h instanceof L.Circle||h instanceof L.CircleMarker||h instanceof L.ImageOverlay)&&l.push(h)}),l=l.filter(h=>!!h.pm),l=l.filter(h=>!h._pmTempLayer),l=l.filter(h=>!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1),l},circleToPolygon(s,l=60,h=!0){let f=s.getLatLng(),_=s.getRadius(),b=Ku(f,_,l,0,h),k=[];for(let w=0;w<b.length;w+=1){let M=[b[w].lat,b[w].lng];k.push(M)}return L.polygon(k,s.options)},disablePopup(s){s.getPopup()&&(s._tempPopupCopy=s.getPopup(),s.unbindPopup())},enablePopup(s){s._tempPopupCopy&&(s.bindPopup(s._tempPopupCopy),delete s._tempPopupCopy)},_fireEvent(s,l,h,f=!1){s.fire(l,h,f);let{groups:_}=this.getAllParentGroups(s);_.forEach(b=>{b.fire(l,h,f)})},getAllParentGroups(s){let l=[],h=[],f=_=>{for(let b in _._eventParents)if(l.indexOf(b)===-1){l.push(b);let k=_._eventParents[b];h.push(k),f(k)}};return!s._pmLastGroupFetch||!s._pmLastGroupFetch.time||new Date().getTime()-s._pmLastGroupFetch.time>1e3?(f(s),s._pmLastGroupFetch={time:new Date().getTime(),groups:h,groupIds:l},{groupIds:l,groups:h}):{groups:s._pmLastGroupFetch.groups,groupIds:s._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Ku,getTranslation:Dt,findDeepCoordIndex(s,l,h=!0){let f,_=k=>(w,M)=>{let P=k.concat(M);if(h){if(w.lat&&w.lat===l.lat&&w.lng===l.lng)return f=P,!0}else if(w.lat&&L.latLng(w).equals(l))return f=P,!0;return Array.isArray(w)&&w.some(_(P))};s.some(_([]));let b={};return f&&(b={indexPath:f,index:f[f.length-1],parentPath:f.slice(0,f.length-1)}),b},findDeepMarkerIndex(s,l){let h,f=b=>(k,w)=>{let M=b.concat(w);return k._leaflet_id===l._leaflet_id?(h=M,!0):Array.isArray(k)&&k.some(f(M))};s.some(f([]));let _={};return h&&(_={indexPath:h,index:h[h.length-1],parentPath:h.slice(0,h.length-1)}),_},_getIndexFromSegment(s,l){if(l&&l.length===2){let h=this.findDeepCoordIndex(s,l[0]),f=this.findDeepCoordIndex(s,l[1]),_=Math.max(h.index,f.index);return(h.index===0||f.index===0)&&_!==1&&(_+=1),{indexA:h,indexB:f,newIndex:_,indexPath:h.indexPath,parentPath:h.parentPath}}return null},_getRotatedRectangle(s,l,h,f){let _=gs(f,s),b=gs(f,l),k=h*Math.PI/180,w=Math.cos(k),M=Math.sin(k),P=(b.x-_.x)*w+(b.y-_.y)*M,U=(b.y-_.y)*w-(b.x-_.x)*M,G=P*w+_.x,ce=P*M+_.y,_e=-U*M+_.x,Be=U*w+_.y,Ke=fl(f,_),et=fl(f,{x:G,y:ce}),Tt=fl(f,b),H=fl(f,{x:_e,y:Be});return[Ke,et,Tt,H]},pxRadiusToMeterRadius(s,l,h){let f=l.project(h),_=L.point(f.x+s,f.y);return l.distance(l.unproject(_),h)}},Q1=X1;L.PM=L.PM||{version:Ys.version,Map:th,Toolbar:Yu,Draw:Mn,Edit:Dn,Utils:Q1,Matrix:Y1,activeLang:"en",optIn:!1,initialize(s){this.addInitHooks(s)},setOptIn(s){this.optIn=!!s},addInitHooks(){function s(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(s);function l(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(l);function h(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(h);function f(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(f);function _(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(_);function b(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(b);function k(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(k);function w(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(w);function M(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(M)},reInitLayer(s){s instanceof L.LayerGroup&&s.eachLayer(l=>{this.reInitLayer(l)}),s.pm||L.PM.optIn&&s.options.pmIgnore!==!1||s.options.pmIgnore||(s instanceof L.Map?s.pm=new L.PM.Map(s):s instanceof L.Marker?s.options.textMarker?(s.pm=new L.PM.Edit.Text(s),s.pm._initTextMarker(),s.pm._createTextMarker(!1)):s.pm=new L.PM.Edit.Marker(s):s instanceof L.Circle?s.pm=new L.PM.Edit.Circle(s):s instanceof L.CircleMarker?s.pm=new L.PM.Edit.CircleMarker(s):s instanceof L.Rectangle?s.pm=new L.PM.Edit.Rectangle(s):s instanceof L.Polygon?s.pm=new L.PM.Edit.Polygon(s):s instanceof L.Polyline?s.pm=new L.PM.Edit.Line(s):s instanceof L.LayerGroup?s.pm=new L.PM.Edit.LayerGroup(s):s instanceof L.ImageOverlay&&(s.pm=new L.PM.Edit.ImageOverlay(s)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(s){let l=this._map.mouseEventToLayerPoint(s),h,f;for(let _=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(f=h);f&&(L.DomEvent.fakeStop(s),this._fireEvent([f],s))}}),L.PM.initialize()})();var Q0={exports:{}};(function(e,t){(function(n,r){r(t)})(Ls,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=o,d=this._zoom;if(o.__parent)for(;u.__parent._zoom>=d;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,u):this._animationAddLayerNonAnimated(o,u)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):(o.getLatLng?this._map?o.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())):(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o})):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o})),this)},addLayers:function(o,u){if(!L.Util.isArray(o))return this.addLayer(o);var d,p=this._featureGroup,g=this._nonPointGroup,y=this.options.chunkedLoading,x=this.options.chunkInterval,E=this.options.chunkProgress,A=o.length,B=0,j=!0;if(this._map){var Q=new Date().getTime(),se=L.bind(function(){var z=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();B<A;B++){if(y&&B%200==0){var Z=new Date().getTime()-z;if(x<Z)break}if((d=o[B])instanceof L.LayerGroup)j&&(o=o.slice(),j=!1),this._extractNonGroupLayers(d,o),A=o.length;else if(d.getLatLng){if(!this.hasLayer(d)&&(this._addLayer(d,this._maxZoom),u||this.fire("layeradd",{layer:d}),d.__parent&&d.__parent.getChildCount()===2)){var re=d.__parent.getAllChildMarkers(),ye=re[0]===d?re[1]:re[0];p.removeLayer(ye)}}else g.addLayer(d),u||this.fire("layeradd",{layer:d})}E&&E(B,A,new Date().getTime()-Q),B===A?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(se,this.options.chunkDelay)},this);se()}else for(var te=this._needsClustering;B<A;B++)(d=o[B])instanceof L.LayerGroup?(j&&(o=o.slice(),j=!1),this._extractNonGroupLayers(d,o),A=o.length):d.getLatLng?this.hasLayer(d)||te.push(d):g.addLayer(d);return this},removeLayers:function(o){var u,d,p=o.length,g=this._featureGroup,y=this._nonPointGroup,x=!0;if(!this._map){for(u=0;u<p;u++)(d=o[u])instanceof L.LayerGroup?(x&&(o=o.slice(),x=!1),this._extractNonGroupLayers(d,o),p=o.length):(this._arraySplice(this._needsClustering,d),y.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d}));return this}if(this._unspiderfy){this._unspiderfy();var E=o.slice(),A=p;for(u=0;u<A;u++)(d=E[u])instanceof L.LayerGroup?(this._extractNonGroupLayers(d,E),A=E.length):this._unspiderfyLayer(d)}for(u=0;u<p;u++)(d=o[u])instanceof L.LayerGroup?(x&&(o=o.slice(),x=!1),this._extractNonGroupLayers(d,o),p=o.length):d.__parent?(this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),g.hasLayer(d)&&(g.removeLayer(d),d.clusterShow&&d.clusterShow())):(y.removeLayer(d),this.fire("layerremove",{layer:d}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;0<=u;u--)o.extend(this._needsClustering[u].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,u){var d,p,g,y=this._needsClustering.slice(),x=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(y),p=y.length-1;0<=p;p--){for(d=!0,g=x.length-1;0<=g;g--)if(x[g].layer===y[p]){d=!1;break}d&&o.call(u,y[p])}this._nonPointGroup.eachLayer(o,u)},getLayers:function(){var o=[];return this.eachLayer(function(u){o.push(u)}),o},getLayer:function(o){var u=null;return o=parseInt(o,10),this.eachLayer(function(d){L.stamp(d)===o&&(u=d)}),u},hasLayer:function(o){if(!o)return!1;var u,d=this._needsClustering;for(u=d.length-1;0<=u;u--)if(d[u]===o)return!0;for(u=(d=this._needsRemoving).length-1;0<=u;u--)if(d[u].layer===o)return!1;return!(!o.__parent||o.__parent._group!==this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,u){var d=this._map;typeof u!="function"&&(u=function(){});var p=function(){!d.hasLayer(o)&&!d.hasLayer(o.__parent)||this._inZoomAnimation||(this._map.off("moveend",p,this),this.off("animationend",p,this),d.hasLayer(o)?u():o.__parent._icon&&(this.once("spiderfied",u,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?u():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",p,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",p,this),this.on("animationend",p,this),o.__parent.zoomToBounds())},onAdd:function(o){var u,d,p;if(this._map=o,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,u=0,d=this._needsRemoving.length;u<d;u++)(p=this._needsRemoving[u]).newlatlng=p.layer._latlng,p.layer._latlng=p.latlng;for(u=0,d=this._needsRemoving.length;u<d;u++)p=this._needsRemoving[u],this._removeLayer(p.layer,!0),p.layer._latlng=p.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var u=o;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(o,u){for(var d=o.length-1;0<=d;d--)if(o[d]===u)return o.splice(d,1),!0},_removeFromGridUnclustered:function(o,u){for(var d=this._map,p=this._gridUnclustered,g=Math.floor(this._map.getMinZoom());g<=u&&p[u].removeObject(o,d.project(o.getLatLng(),u));u--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var u=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),u&&o.target.openPopup()}},_moveChild:function(o,u,d){o._latlng=u,this.removeLayer(o),o._latlng=d,this.addLayer(o)},_childMarkerDragEnd:function(o){var u=o.target.__dragStart;delete o.target.__dragStart,u&&this._moveChild(o.target,u,o.target._latlng)},_removeLayer:function(o,u,d){var p=this._gridClusters,g=this._gridUnclustered,y=this._featureGroup,x=this._map,E=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(o,this._maxZoom);var A,B=o.__parent,j=B._markers;for(this._arraySplice(j,o);B&&(B._childCount--,B._boundsNeedUpdate=!0,!(B._zoom<E));)u&&B._childCount<=1?(A=B._markers[0]===o?B._markers[1]:B._markers[0],p[B._zoom].removeObject(B,x.project(B._cLatLng,B._zoom)),g[B._zoom].addObject(A,x.project(A.getLatLng(),B._zoom)),this._arraySplice(B.__parent._childClusters,B),B.__parent._markers.push(A),A.__parent=B.__parent,B._icon&&(y.removeLayer(B),d||y.addLayer(A))):B._iconNeedsUpdate=!0,B=B.__parent;delete o.__parent},_isOrIsParent:function(o,u){for(;u;){if(o===u)return!0;u=u.parentNode}return!1},fire:function(o,u,d){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,u,d)},listens:function(o,u){return L.FeatureGroup.prototype.listens.call(this,o,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,u)},_defaultIconCreateFunction:function(o){var u=o.getChildCount(),d=" marker-cluster-";return d+=u<10?"small":u<100?"medium":"large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,u=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,p=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom;(u||p||g)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var u=o.layer,d=u;if(o.type!=="clusterkeypress"||!o.originalEvent||o.originalEvent.keyCode===13){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),2<o.layer.getChildCount()&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,p=this.options.spiderfyOnEveryZoom,g=this._map;(o||d||p)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,p=d;typeof d!="function"&&(p=function(){return d}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var g=o;u<=g;g--)this._gridClusters[g]=new L.DistanceGrid(p(g)),this._gridUnclustered[g]=new L.DistanceGrid(p(g));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(o,u){var d,p,g=this._gridClusters,y=this._gridUnclustered,x=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);x<=u;u--){d=this._map.project(o.getLatLng(),u);var E=g[u].getNearObject(d);if(E)return E._addChild(o),void(o.__parent=E);if(E=y[u].getNearObject(d)){var A=E.__parent;A&&this._removeLayer(E,!1);var B=new this._markerCluster(this,u,E,o);g[u].addObject(B,this._map.project(B._cLatLng,u)),E.__parent=B;var j=o.__parent=B;for(p=u-1;p>A._zoom;p--)j=new this._markerCluster(this,p,j),g[p].addObject(j,this._map.project(E.getLatLng(),p));return A._addChild(j),void this._removeFromGridUnclustered(E,u)}y[u].addObject(o,d)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(o){var u=this._maxLat;return u!==void 0&&(o.getNorth()>=u&&(o._northEast.lat=1/0),o.getSouth()<=-u&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,u){if(u===o)this._featureGroup.addLayer(o);else if(u._childCount===2){u._addToMap();var d=u.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else u._updateIcon()},_extractNonGroupLayers:function(o,u){var d,p=o.getLayers(),g=0;for(u=u||[];g<p.length;g++)(d=p[g])instanceof L.LayerGroup?this._extractNonGroupLayers(d,u):u.push(d);return u},_overrideMarkerIcon:function(o){return o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,u){this._animationAddLayerNonAnimated(o,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,u){var d,p=this._getExpandedVisibleBounds(),g=this._featureGroup,y=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(p,o,y,function(x){var E,A=x._latlng,B=x._markers;for(p.contains(A)||(A=null),x._isSingleParent()&&o+1===u?(g.removeLayer(x),x._recursivelyAddChildrenToMap(null,u,p)):(x.clusterHide(),x._recursivelyAddChildrenToMap(A,u,p)),d=B.length-1;0<=d;d--)E=B[d],p.contains(E._latlng)||g.removeLayer(E)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(p,u),g.eachLayer(function(x){x instanceof L.MarkerCluster||!x._icon||x.clusterShow()}),this._topClusterLevel._recursively(p,o,u,function(x){x._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(p,o,y,function(x){g.removeLayer(x),x.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,u){this._animationZoomOutSingle(this._topClusterLevel,o-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,u){var d=this,p=this._featureGroup;p.addLayer(o),u!==o&&(2<u._childCount?(u._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(u.getLatLng())),o.clusterHide(),this._enqueue(function(){p.removeLayer(o),o.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,u,d){var p=this._getExpandedVisibleBounds(),g=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(p,g,u+1,d);var y=this;this._forceLayout(),o._recursivelyBecomeVisible(p,d),this._enqueue(function(){if(o._childCount===1){var x=o._markers[0];this._ignoreMove=!0,x.setLatLng(x.getLatLng()),this._ignoreMove=!1,x.clusterShow&&x.clusterShow()}else o._recursively(p,d,g,function(E){E._recursivelyRemoveChildrenFromMap(p,g,u+1)});y._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,u,d,p){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),p&&this._addChild(p)},getAllChildMarkers:function(o,u){o=o||[];for(var d=this._childClusters.length-1;0<=d;d--)this._childClusters[d].getAllChildMarkers(o,u);for(var p=this._markers.length-1;0<=p;p--)u&&this._markers[p].__dragStart||o.push(this._markers[p]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var u,d=this._childClusters.slice(),p=this._group._map,g=p.getBoundsZoom(this._bounds),y=this._zoom+1,x=p.getZoom();0<d.length&&y<g;){y++;var E=[];for(u=0;u<d.length;u++)E=E.concat(d[u]._childClusters);d=E}y<g?this._group._map.setView(this._latlng,y):g<=x?this._group._map.setView(this._latlng,x+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(u||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(u||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o,u,d,p,g=this._markers,y=this._childClusters,x=0,E=0,A=this._childCount;if(A!==0){for(this._resetBounds(),o=0;o<g.length;o++)d=g[o]._latlng,this._bounds.extend(d),x+=d.lat,E+=d.lng;for(o=0;o<y.length;o++)(u=y[o])._boundsNeedUpdate&&u._recalculateBounds(),this._bounds.extend(u._bounds),d=u._wLatLng,p=u._childCount,x+=d.lat*p,E+=d.lng*p;this._latlng=this._wLatLng=new L.LatLng(x/A,E/A),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,u,d){this._recursively(o,this._group._map.getMinZoom(),d-1,function(p){var g,y,x=p._markers;for(g=x.length-1;0<=g;g--)(y=x[g])._icon&&(y._setPos(u),y.clusterHide())},function(p){var g,y,x=p._childClusters;for(g=x.length-1;0<=g;g--)(y=x[g])._icon&&(y._setPos(u),y.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,u,d,p){this._recursively(o,p,u,function(g){g._recursivelyAnimateChildrenIn(o,g._group._map.latLngToLayerPoint(g.getLatLng()).round(),d),g._isSingleParent()&&d-1===p?(g.clusterShow(),g._recursivelyRemoveChildrenFromMap(o,u,d)):g.clusterHide(),g._addToMap()})},_recursivelyBecomeVisible:function(o,u){this._recursively(o,this._group._map.getMinZoom(),u,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(o,u,d){this._recursively(d,this._group._map.getMinZoom()-1,u,function(p){if(u!==p._zoom)for(var g=p._markers.length-1;0<=g;g--){var y=p._markers[g];d.contains(y._latlng)&&(o&&(y._backupLatlng=y.getLatLng(),y.setLatLng(o),y.clusterHide&&y.clusterHide()),p._group._featureGroup.addLayer(y))}},function(p){p._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var u=this._markers.length-1;0<=u;u--){var d=this._markers[u];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(o-1===this._zoom)for(var p=this._childClusters.length-1;0<=p;p--)this._childClusters[p]._restorePosition();else for(var g=this._childClusters.length-1;0<=g;g--)this._childClusters[g]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,u,d,p){var g,y;this._recursively(o,u-1,d-1,function(x){for(y=x._markers.length-1;0<=y;y--)g=x._markers[y],p&&p.contains(g._latlng)||(x._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())},function(x){for(y=x._childClusters.length-1;0<=y;y--)g=x._childClusters[y],p&&p.contains(g._latlng)||(x._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())})},_recursively:function(o,u,d,p,g){var y,x,E=this._childClusters,A=this._zoom;if(u<=A&&(p&&p(this),g&&A===d&&g(this)),A<u||A<d)for(y=E.length-1;0<=y;y--)(x=E[y])._boundsNeedUpdate&&x._recalculateBounds(),o.intersects(x._bounds)&&x._recursively(o,u,d,p,g)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,u){var d=this._getCoord(u.x),p=this._getCoord(u.y),g=this._grid,y=g[p]=g[p]||{},x=y[d]=y[d]||[],E=L.Util.stamp(o);this._objectPoint[E]=u,x.push(o)},updateObject:function(o,u){this.removeObject(o),this.addObject(o,u)},removeObject:function(o,u){var d,p,g=this._getCoord(u.x),y=this._getCoord(u.y),x=this._grid,E=x[y]=x[y]||{},A=E[g]=E[g]||[];for(delete this._objectPoint[L.Util.stamp(o)],d=0,p=A.length;d<p;d++)if(A[d]===o)return A.splice(d,1),p===1&&delete E[g],!0},eachObject:function(o,u){var d,p,g,y,x,E,A=this._grid;for(d in A)for(p in x=A[d])for(g=0,y=(E=x[p]).length;g<y;g++)o.call(u,E[g])&&(g--,y--)},getNearObject:function(o){var u,d,p,g,y,x,E,A,B=this._getCoord(o.x),j=this._getCoord(o.y),Q=this._objectPoint,se=this._sqCellSize,te=null;for(u=j-1;u<=j+1;u++)if(g=this._grid[u]){for(d=B-1;d<=B+1;d++)if(y=g[d])for(p=0,x=y.length;p<x;p++)E=y[p],((A=this._sqDist(Q[L.Util.stamp(E)],o))<se||A<=se&&te===null)&&(se=A,te=E)}return te},_getCoord:function(o){var u=Math.floor(o/this._cellSize);return isFinite(u)?u:o},_sqDist:function(o,u){var d=u.x-o.x,p=u.y-o.y;return d*d+p*p}},L.QuickHull={getDistant:function(o,u){var d=u[1].lat-u[0].lat;return(u[0].lng-u[1].lng)*(o.lat-u[0].lat)+d*(o.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(o,u){var d,p,g,y=0,x=null,E=[];for(d=u.length-1;0<=d;d--)p=u[d],0<(g=this.getDistant(p,o))&&(E.push(p),y<g&&(y=g,x=p));return{maxPoint:x,newPoints:E}},buildConvexHull:function(o,u){var d=[],p=this.findMostDistantPointFromBaseLine(o,u);return p.maxPoint?d=(d=d.concat(this.buildConvexHull([o[0],p.maxPoint],p.newPoints))).concat(this.buildConvexHull([p.maxPoint,o[1]],p.newPoints)):[o[0]]},getConvexHull:function(o){var u,d=!1,p=!1,g=!1,y=!1,x=null,E=null,A=null,B=null,j=null,Q=null;for(u=o.length-1;0<=u;u--){var se=o[u];(d===!1||se.lat>d)&&(d=(x=se).lat),(p===!1||se.lat<p)&&(p=(E=se).lat),(g===!1||se.lng>g)&&(g=(A=se).lng),(y===!1||se.lng<y)&&(y=(B=se).lng)}return j=p!==d?(Q=E,x):(Q=B,A),[].concat(this.buildConvexHull([Q,j],o),this.buildConvexHull([j,Q],o))}},L.MarkerCluster.include({getConvexHull:function(){var o,u,d=this.getAllChildMarkers(),p=[];for(u=d.length-1;0<=u;u--)o=d[u].getLatLng(),p.push(o);return L.QuickHull.getConvexHull(p)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var o,u=this.getAllChildMarkers(null,!0),d=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),o=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(u.length,d):u.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(u.length,d):(d.y+=10,this._generatePointsCircle(u.length,d)),this._animationSpiderfy(u,o)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,u){var d,p,g=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o)/this._2PI,y=this._2PI/o,x=[];for(g=Math.max(g,35),x.length=o,d=0;d<o;d++)p=this._circleStartAngle+d*y,x[d]=new L.Point(u.x+g*Math.cos(p),u.y+g*Math.sin(p))._round();return x},_generatePointsSpiral:function(o,u){var d,p=this._group.options.spiderfyDistanceMultiplier,g=p*this._spiralLengthStart,y=p*this._spiralFootSeparation,x=p*this._spiralLengthFactor*this._2PI,E=0,A=[];for(d=A.length=o;0<=d;d--)d<o&&(A[d]=new L.Point(u.x+g*Math.cos(E),u.y+g*Math.sin(E))._round()),g+=x/(E+=y/g+5e-4*d);return A},_noanimationUnspiderfy:function(){var o,u,d=this._group,p=d._map,g=d._featureGroup,y=this.getAllChildMarkers(null,!0);for(d._ignoreMove=!0,this.setOpacity(1),u=y.length-1;0<=u;u--)o=y[u],g.removeLayer(o),o._preSpiderfyLatlng&&(o.setLatLng(o._preSpiderfyLatlng),delete o._preSpiderfyLatlng),o.setZIndexOffset&&o.setZIndexOffset(0),o._spiderLeg&&(p.removeLayer(o._spiderLeg),delete o._spiderLeg);d.fire("unspiderfied",{cluster:this,markers:y}),d._ignoreMove=!1,d._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,u){var d,p,g,y,x=this._group,E=x._map,A=x._featureGroup,B=this._group.options.spiderLegPolylineOptions;for(x._ignoreMove=!0,d=0;d<o.length;d++)y=E.layerPointToLatLng(u[d]),p=o[d],g=new L.Polyline([this._latlng,y],B),E.addLayer(g),p._spiderLeg=g,p._preSpiderfyLatlng=p._latlng,p.setLatLng(y),p.setZIndexOffset&&p.setZIndexOffset(1e6),A.addLayer(p);this.setOpacity(.3),x._ignoreMove=!1,x.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,u){var d,p,g,y,x,E,A=this,B=this._group,j=B._map,Q=B._featureGroup,se=this._latlng,te=j.latLngToLayerPoint(se),z=L.Path.SVG,Z=L.extend({},this._group.options.spiderLegPolylineOptions),re=Z.opacity;for(re===void 0&&(re=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),z?(Z.opacity=0,Z.className=(Z.className||"")+" leaflet-cluster-spider-leg"):Z.opacity=re,B._ignoreMove=!0,d=0;d<o.length;d++)p=o[d],E=j.layerPointToLatLng(u[d]),g=new L.Polyline([se,E],Z),j.addLayer(g),p._spiderLeg=g,z&&(x=(y=g._path).getTotalLength()+.1,y.style.strokeDasharray=x,y.style.strokeDashoffset=x),p.setZIndexOffset&&p.setZIndexOffset(1e6),p.clusterHide&&p.clusterHide(),Q.addLayer(p),p._setPos&&p._setPos(te);for(B._forceLayout(),B._animationStart(),d=o.length-1;0<=d;d--)E=j.layerPointToLatLng(u[d]),(p=o[d])._preSpiderfyLatlng=p._latlng,p.setLatLng(E),p.clusterShow&&p.clusterShow(),z&&((y=(g=p._spiderLeg)._path).style.strokeDashoffset=0,g.setStyle({opacity:re}));this.setOpacity(.3),B._ignoreMove=!1,setTimeout(function(){B._animationEnd(),B.fire("spiderfied",{cluster:A,markers:o})},200)},_animationUnspiderfy:function(o){var u,d,p,g,y,x,E=this,A=this._group,B=A._map,j=A._featureGroup,Q=o?B._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):B.latLngToLayerPoint(this._latlng),se=this.getAllChildMarkers(null,!0),te=L.Path.SVG;for(A._ignoreMove=!0,A._animationStart(),this.setOpacity(1),d=se.length-1;0<=d;d--)(u=se[d])._preSpiderfyLatlng&&(u.closePopup(),u.setLatLng(u._preSpiderfyLatlng),delete u._preSpiderfyLatlng,x=!0,u._setPos&&(u._setPos(Q),x=!1),u.clusterHide&&(u.clusterHide(),x=!1),x&&j.removeLayer(u),te&&(y=(g=(p=u._spiderLeg)._path).getTotalLength()+.1,g.style.strokeDashoffset=y,p.setStyle({opacity:0})));A._ignoreMove=!1,setTimeout(function(){var z=0;for(d=se.length-1;0<=d;d--)(u=se[d])._spiderLeg&&z++;for(d=se.length-1;0<=d;d--)(u=se[d])._spiderLeg&&(u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),1<z&&j.removeLayer(u),B.removeLayer(u._spiderLeg),delete u._spiderLeg);A._animationEnd(),A.fire("unspiderfied",{cluster:E,markers:se})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var u,d;for(u in o)for(d=o[u].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(o){var u,d;for(u in o)d=o[u],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(o,u){var d=this.options.icon;return L.setOptions(d,o),this.setIcon(d),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=a,Object.defineProperty(n,"__esModule",{value:!0})})})(Q0,Q0.exports);const X8={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:0},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Function,default:()=>({})},prefix:{type:[String,Boolean],default:!1},cluster:{type:Boolean,default:!1},maxClusterRadius:{type:Number,default:20},clusterIconCreateFunction:{type:Function,default:void 0}},emits:["add:layer","drag:layer","draw:start","edit:layer","geojson","geojson:ready","zoom:change","zoom:start"],setup(e,{expose:t,emit:n}){delete oi.Icon.Default.prototype._getIconUrl,oi.Icon.Default.mergeOptions({iconRetinaUrl:j8,iconUrl:G8,shadowUrl:V8});const r=e,a=n;let o,u,d,p;const g=Ze(null),y=We(()=>({maxZoom:r.zoomBounds,zoom:{animate:r.zoomAnimate}}));gn(()=>r.geojson,z=>{p.clearLayers(),se(z)},{deep:!0}),gn(()=>r.dragging,z=>{z?o.dragging.enable():o.dragging.disable()});function x(){const z={maxClusterRadius:r.maxClusterRadius};return r.clusterIconCreateFunction&&Object.assign(z,{iconCreateFunction:Z=>r.clusterIconCreateFunction({L:oi,cluster:Z})}),z}bn(()=>{const z=I8(oi,{maxZoom:r.maxZoom,minZoom:r.minZoom,className:"map-tiles"}),[Z]=Object.values(z),re={center:r.center,zoom:r.zoom,worldCopyJump:!0,dragging:r.dragging,maxZoom:r.maxZoom};r.disableZoom&&Object.assign(re,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),d=new oi.FeatureGroup,p=r.cluster?new oi.markerClusterGroup(x()):new oi.FeatureGroup,o=oi.map(g.value,re),o.attributionControl.setPrefix(r.prefix),o.pm.setGlobalOptions({layerGroup:d}),p.addTo(o),o.addLayer(d),o.addLayer(p),r.geojson&&se(r.geojson),r.controls&&(o.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),o.on("pm:create",ye=>{a("geojson",E()),a("add:layer",B(ye.layer))}),d.on("pm:edit",ye=>{a("geojson",E()),a("edit:layer",B(ye.layer))}),o.on("pm:drawstart",ye=>{A(),a("draw:start",ye)}),o.on("zoom",ye=>a("zoom:change",ye)),o.on("zoomstart",ye=>a("zoom:start",ye))),Z.addTo(o),Object.keys(z).length>1&&oi.control.layers(z,{},{position:"topleft",collapsed:!1}).addTo(o),Q()});function E(){const z=oi.featureGroup();return d.eachLayer(Z=>{(Z instanceof oi.Path||Z instanceof oi.Marker)&&Z.pm&&z.addLayer(Z)}),z.toGeoJSON()}function A(){d.clearLayers()}function B(z){const Z=z.toGeoJSON();return typeof z.getRadius=="function"&&(Z.properties.radius=z.getRadius()),Z}const j=()=>{if(!p)return;const z=p.getBounds();o.invalidateSize(),_u(()=>{Object.keys(z).length&&o.fitBounds(z,y.value)})},Q=()=>{u=new ResizeObserver(z=>{z[0].contentRect,j()}),u.observe(g.value)};Ar(()=>{p.clearLayers(),u==null||u.disconnect()});function se(z){if(z){const Z={L:oi};oi.geoJSON(z,{...Y8(Z),...r.geojsonOptions(Z)}).addTo(p);const re=p.getBounds();re.isValid()&&o.fitBounds(re,y.value)}a("geojson:ready",p)}function te(){return o}return t({clearDrawLayers:A,getMapObject:te,resizeMap:j}),(z,Z)=>(D(),q("div",{ref_key:"leafletMap",ref:g,style:Si({width:r.width,height:r.height})},null,4))}};function Q8(e){e5(e,Object.assign({"/src/components/Map/VMap.client.vue":X8}))}function e5(e,t){Object.entries(t).forEach(([r,a])=>{const o=r.split("/").pop().replace(/\.client.\w+$/,"");e.component(o,a)})}const t5={__name:"FossilSpeciesCount.global",setup(e){const t=Ze("??");return bn(()=>{fn.get("/taxon_names.json",{params:{per:1,validity:!0,taxon_name_id:[330629],rank:["NomenclaturalRank::Iczn::SpeciesGroup::Species"],taxon_name_classification:["TaxonNameClassification::Iczn::Fossil"],descendants:!0}}).then(n=>{t.value=Number(n.headers["pagination-total"])})}),(n,r)=>(D(),q("span",null,Ie(t.value.toLocaleString()),1))}},n5={__name:"ValidSpeciesCount.global",setup(e){const t=Ze("??");return bn(()=>{fn.get("/taxon_names.json",{params:{per:1,validity:!0,taxon_name_id:[330629],rank:["NomenclaturalRank::Iczn::SpeciesGroup::Species"],descendants:!0}}).then(n=>{t.value=Number(n.headers["pagination-total"])})}),(n,r)=>(D(),q("span",null,Ie(t.value.toLocaleString()),1))}},i5=["innerHTML"],r5={key:0,class:"h-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},o5={key:1,class:"inline h-4 w-1"},s5=["innerHTML"],a5={__name:"AddressMaker.global",props:{items:{type:Array,required:!0}},setup(e){const t=e,n=We(()=>{const[a,...o]=t.items;return{username:a,host:o}});function r(){const[a,...o]=t.items;document.location.href=`mailto:${a}@${o.join(".")}`}return(a,o)=>(D(),q("span",{class:"text-secondary-color cursor-pointer whitespace-nowrap",onClick:r},[$("span",{innerHTML:n.value.username},null,8,i5),(D(!0),q(Ge,null,dt(n.value.host,(u,d)=>(D(),q(Ge,null,[d===0?(D(),q("svg",r5,o[0]||(o[0]=[$("path",{"stroke-linecap":"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"},null,-1)]))):(D(),q("svg",o5,o[1]||(o[1]=[$("circle",{cy:"calc(100% - 5px)",cx:"2.5",r:"1",fill:"currentColor"},null,-1)]))),$("span",{innerHTML:u},null,8,s5)],64))),256))]))}},u5={};function l5(e,t){return D(),Ce(cc,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:ie(()=>[xt(e.$slots,"default")]),_:3})}const c5=kt(u5,[["render",l5]]),h5={},d5={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"};function f5(e,t){return D(),q("svg",d5,t[0]||(t[0]=[Ub('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1)]))}const p5=kt(h5,[["render",f5]]),m5={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},_5={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},g5=["placeholder"],y5={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},b5=["onClick"],v5=["innerHTML"],x5=500,k5={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,a=Ze(""),o=Ze([]),u=Ze(!1),d=Ze(null);let p;gn(a,y=>{clearTimeout(p),y.length?p=setTimeout(()=>{u.value=!0,fn.get(n.url,{params:{...n.params,[n.queryParam]:a.value}}).then(({data:x})=>{u.value=!1,o.value=x})},x5):o.value=[]});const g=y=>{r("select",y),a.value=""};return bn(()=>{n.autofocus&&d.value.focus()}),(y,x)=>{const E=fe("IconSearch");return D(),q("div",m5,[$("div",_5,[ee(E,{class:"w-4 h-4 text-gray-500"})]),Fn($("input",{"onUpdate:modelValue":x[0]||(x[0]=A=>a.value=A),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:e.placeholder,ref_key:"inputElement",ref:d},null,8,g5),[[af,a.value]]),u.value?(D(),Ce(p5,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Fe("",!0),o.value.length?(D(),q("ul",y5,[(D(!0),q(Ge,null,dt(o.value,A=>(D(),q("li",{key:A.id,class:"autocomplete__item px-3 py-2 border-b text-xs text-base-content cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:B=>g(A)},[$("span",{innerHTML:A[e.label]},null,8,v5)],8,b5))),128))])):Fe("",!0)])}}},M1=kt(k5,[["__scopeId","data-v-bd0dac97"]]),C5={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(e){const t=bu(),n=({id:r,otu_valid_id:a})=>{t.push({name:"otus-id-overview",params:{id:a||r}})};return(r,a)=>(D(),Ce(M1,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:e.autofocus,params:{having_taxon_name_only:!0},onSelect:n},null,8,["autofocus"]))}},w5=["title"],L5={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,a=We({get(){return n.modelValue},set(o){r("update:modelValue",o)}});return(o,u)=>{const d=fe("IconMinusCircle"),p=fe("IconPlusCircle");return D(),q("button",{type:"button",title:a.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:u[0]||(u[0]=g=>a.value=!a.value)},[a.value?(D(),Ce(d,{key:0,class:"w-5 h-5"})):(D(),Ce(p,{key:1,class:"w-5 h-5"}))],8,w5)}}},E5={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(e){return(t,n)=>(D(),q("button",{type:"button",class:an(["px-3","py-1","hover:bg-opacity-80",{"bg-primary-color":e.primary,"bg-secondary-color":e.secondary,"text-primary-content":e.primary,"text-secondary-content":e.secondary}])},[xt(t.$slots,"default")],2))}},M5={},A5={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function S5(e,t){return D(),q("div",A5,[xt(e.$slots,"default")])}const B5=kt(M5,[["render",S5]]),P5={},D5={class:"p-4 pl-5 pr-5"};function T5(e,t){return D(),q("div",D5,[xt(e.$slots,"default")])}const R5=kt(P5,[["render",T5]]),O5={},F5={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function I5(e,t){return D(),q("div",F5,[xt(e.$slots,"default")])}const N5=kt(O5,[["render",I5]]),z5={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(e){const t=e,n=Ze(!1);let r;function a(){navigator.clipboard.writeText(t.text).then(()=>{n.value=!0,r=setTimeout(()=>{n.value=!1},t.delay)})}return or(()=>{clearTimeout(r)}),(o,u)=>{const d=fe("IconCheck"),p=fe("IconClipboard"),g=fe("VButton");return D(),Ce(g,{class:"px-2 py-2 rounded-full",primary:"",onClick:a},{default:ie(()=>[n.value?(D(),Ce(d,{key:0,class:"w-4 h-4"})):(D(),Ce(p,{key:1,class:"w-4 h-4"}))]),_:1})}}},j5={class:"relative inline"},G5=["onClick"],V5={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(e){const t=Ze(null),n=Ze(!1),r=()=>{n.value=!n.value},a=u=>{n.value=!1,u.action()};function o(u){var d;(!u.target||!((d=t.value)!=null&&d.contains(u.target)))&&(n.value=!1)}return bn(()=>{document.addEventListener("pointerdown",o,{passive:!0,capture:!0})}),or(()=>{document.removeEventListener("pointerdown",o,{capture:!0})}),(u,d)=>(D(),q("div",j5,[$("button",{title:"Menu",onClick:r},[xt(u.$slots,"button")]),n.value?(D(),q("ul",{key:0,ref_key:"element",ref:t,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(D(!0),q(Ge,null,dt(e.items,p=>(D(),q("li",{key:p.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:g=>a(p)},Ie(p.label),9,G5))),128))],512)):Fe("",!0)]))}};function A1({props:e}){const t=Ze([]);function n(r){var a,o;return{id:r.id,objectId:r.depiction_object_id,objectType:r.depiction_object_type,objectLabel:r.depiction_object.label,label:r.label,imageOriginal:r.image.original,imageMedium:r.image.medium,attribution:((a=r.attribution)==null?void 0:a.label)||"",labelAttribution:[r.depiction_object.label,((o=r.attribution)==null?void 0:o.label)||""].join(" ")}}return gn(()=>e.depictionId,r=>{r.length&&fn.get("/depictions/gallery",{params:{depiction_id:r}}).then(({data:a})=>{t.value=a.map(n).sort((o,u)=>e.depictionId.indexOf(o.id)-e.depictionId.indexOf(u.id))})},{immediate:!0}),{depictions:t}}const H5=["src","alt"],U5={class:"bg-black bg-opacity-25 absolute h-full w-full"},$5={key:0,class:"z-10 text-white text-sm drop-shadow absolute bottom-2 right-0 px-4"},q5=["innerHTML"],Z5={__name:"GalleryCarousel.global",props:{depictionId:{type:Array,default:()=>[]},interval:{type:Number,default:1e4},height:{type:String,default:"550px"}},setup(e){const t=e,{depictions:n}=A1({props:t}),r=Ze(0),a=We(()=>({height:t.height})),o=We(()=>n.value[r.value]||{}),u=We(()=>o.value.objectType==="Otu"),d=We(()=>[o.value.objectLabel,o.value.attribution].join(" "));let p=null;function g(){r.value=(r.value+1)%n.value.length}return gn(n,()=>{t.interval?(clearInterval(p),p=setInterval(g,t.interval)):r.value=Math.floor(Math.random()*n.value.length)}),or(()=>{clearInterval(p)}),(y,x)=>{const E=fe("RouterLink");return D(),q("div",{class:"w-full relative",style:Si(a.value)},[ee(cc,{name:"fade"},{default:ie(()=>[o.value.imageOriginal?(D(),q("img",{key:o.value.imageOriginal,class:"object-cover overflow-hidden h-full w-full absolute top-0 my-0",src:o.value.imageOriginal,alt:o.value.label},null,8,H5)):Fe("",!0)]),_:1}),$("div",U5,[xt(y.$slots,"default",{},void 0,!0)]),o.value.objectId?(D(),q("span",$5,[u.value?(D(),Ce(E,{key:0,class:"text-white decoration-transparent",to:{name:"otus-id",params:{id:o.value.objectId}},innerHTML:d.value},null,8,["to","innerHTML"])):(D(),q("span",{key:1,innerHTML:d.value},null,8,q5))])):Fe("",!0)],4)}}},K5=kt(Z5,[["__scopeId","data-v-0e946aee"]]),W5=["title"],J5=["alt","src"],Y5={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(e){return(t,n)=>(D(),q("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:e.title},[$("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:e.title,src:e.image.thumb},null,8,J5)],8,W5))}},X5={class:"flex flex-row overflow-x-auto print:flex-wrap gap-1.5"},S1={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(e,{emit:t}){const n=t;return(r,a)=>(D(),q("div",X5,[(D(!0),q(Ge,null,dt(e.images,(o,u)=>{var d;return D(),q("div",{key:o.id},[ee(Y5,{image:o,class:an({"border border-secondary-color":e.current===u}),title:(d=o.depictions)==null?void 0:d.map(p=>p.label).join(";"),onClick:p=>n("selectIndex",u)},null,8,["image","class","title","onClick"])])}),128))]))}},Q5={class:"h-80 max-h-80 flex items-center justify-center"},eS=["textContent"],tS=["src","alt"],nS={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(e,{emit:t}){const n=e,r=t,a=Ze(!1),o=Ze(null),u=Ze(null);gn(()=>n.image,g=>{g.original&&(u.value=null,a.value=!0)});function d(g){g.preventDefault(),a.value=!1,u.value="Image was not found or format is not supported"}function p(){a.value=!1}return bn(()=>{o.value.addEventListener("load",p),o.value.addEventListener("error",d)}),(g,y)=>{var A;const x=fe("VSpinner"),E=fe("ClientOnly");return D(),q("div",Q5,[ee(E,null,{default:ie(()=>[a.value?(D(),Ce(x,{key:0})):Fe("",!0)]),_:1}),u.value?(D(),q("span",{key:0,textContent:Ie(u.value)},null,8,eS)):Fe("",!0),Fn($("img",{ref_key:"imageElement",ref:o,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:e.image.original,alt:(A=e.image.depictions)==null?void 0:A.map(B=>B.label).join(";"),onClick:y[0]||(y[0]=B=>r("open:viewer"))},null,8,tS),[[hc,!u.value]])])}}},iS={class:"flex flex-col"},rS={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},oS={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(e){const t=e,n=Ze(!1),r=Ze(0),a=We(()=>t.images[r.value]||{}),o=()=>{r.value--},u=()=>{r.value++};return gn(()=>t.images,()=>{r.value=0},{immediate:!0}),(d,p)=>{const g=fe("ImageViewer");return D(),q(Ge,null,[$("div",iS,[$("div",rS,[ee(nS,{image:a.value,"onOpen:viewer":p[0]||(p[0]=()=>n.value=!0)},null,8,["image"])]),ee(S1,{class:"pt-2 pb-2",images:e.images,onSelectIndex:p[1]||(p[1]=y=>{r.value=y})},null,8,["images"])]),n.value?(D(),Ce(g,{key:0,index:r.value,images:e.images,next:r.value<t.images.length-1,previous:r.value>0,onSelectIndex:p[2]||(p[2]=y=>r.value=y),onNext:p[3]||(p[3]=y=>u()),onPrevious:p[4]||(p[4]=y=>o()),onClose:p[5]||(p[5]=y=>n.value=!1)},null,8,["index","images","next","previous"])):Fe("",!0)],64)}}},sS=["src"],aS=["innerHTML"],uS={__name:"GalleryMosaic.global",props:{depictionId:{type:Array,default:()=>[]},imageHeight:{type:String,default:"112px"},imageWidth:{type:String,default:"200px"},wrap:{type:Boolean,default:!1},label:{type:Boolean,default:!1}},setup(e){const t=e,n=We(()=>({height:t.imageHeight}));function r(o){return o.objectType==="Otu"?"RouterLink":"div"}const{depictions:a}=A1({props:t});return(o,u)=>(D(),q("div",{class:an(["grid","gap-2",{"grid-flow-col":!t.wrap}]),style:Si(t.wrap&&`grid-template-columns: repeat(auto-fit, minmax(${t.imageWidth}, 1fr))`)},[(D(!0),q(Ge,null,dt(ze(a),d=>(D(),Ce(Go(r(d)),{key:d.id,to:{name:"otus-id",params:{id:d.objectId}}},{default:ie(()=>[$("img",{src:d.imageMedium,style:Si(n.value),class:"max-w-full my-0 object-cover w-full"},null,12,sS),e.label?(D(),q("span",{key:0,class:"text-sm",innerHTML:d.labelAttribution},null,8,aS)):Fe("",!0)]),_:2},1032,["to"]))),128))],6))}},lS={},cS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function hS(e,t){return D(),q("svg",cS,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))}const dS=kt(lS,[["render",hS]]),fS={},pS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function mS(e,t){return D(),q("svg",pS,t[0]||(t[0]=[$("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1)]))}const _S=kt(fS,[["render",mS]]),gS={},yS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function bS(e,t){return D(),q("svg",yS,t[0]||(t[0]=[$("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1)]))}const vS=kt(gS,[["render",bS]]),xS={},kS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function CS(e,t){return D(),q("svg",kS,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1)]))}const wS=kt(xS,[["render",CS]]),LS={},ES={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function MS(e,t){return D(),q("svg",ES,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1)]))}const AS=kt(LS,[["render",MS]]),SS={},BS={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function PS(e,t){return D(),q("svg",BS,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)]))}const DS=kt(SS,[["render",PS]]),TS={},RS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function OS(e,t){return D(),q("svg",RS,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)]))}const FS=kt(TS,[["render",OS]]),IS={},NS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function zS(e,t){return D(),q("svg",NS,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1)]))}const jS=kt(IS,[["render",zS]]),GS={},VS={viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true"};function HS(e,t){return D(),q("svg",VS,t[0]||(t[0]=[$("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1)]))}const US=kt(GS,[["render",HS]]),$S={},qS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function ZS(e,t){return D(),q("svg",qS,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1)]))}const KS=kt($S,[["render",ZS]]),WS={},JS={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"};function YS(e,t){return D(),q("svg",JS,t[0]||(t[0]=[$("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1)]))}const XS=kt(WS,[["render",YS]]),QS={},eB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function tB(e,t){return D(),q("svg",eB,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))}const nB=kt(QS,[["render",tB]]),iB={},rB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function oB(e,t){return D(),q("svg",rB,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))}const sB=kt(iB,[["render",oB]]),aB={},uB={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function lB(e,t){return D(),q("svg",uB,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1)]))}const cB=kt(aB,[["render",lB]]),hB={},dB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function fB(e,t){return D(),q("svg",dB,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)]))}const pB=kt(hB,[["render",fB]]),mB={},_B={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function gB(e,t){return D(),q("svg",_B,t[0]||(t[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)]))}const yB=kt(mB,[["render",gB]]),bB={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(e){return(t,n)=>(D(),q("div",null,[$("p",null,Ie(e.attribution.label),1)]))}},vB={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(D(),q("div",null,[(D(!0),q(Ge,null,dt(e.depictions,r=>(D(),q("div",{key:r.id},[$("p",null,Ie(r.label),1)]))),128))]))}},xB=["innerHTML"],kB={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(e){return(t,n)=>(D(),q("div",null,[$("p",{innerHTML:e.source.label},null,8,xB)]))}},CB={class:"p-2 text-black dark:text-white opacity-50"},wB={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(e){return(t,n)=>(D(),q("span",CB,Ie(e.currentImage+1)+"/"+Ie(e.totalImages),1))}},LB={},EB={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function MB(e,t){const n=fe("IconArrowRight");return D(),q("button",EB,[ee(n,{class:"h-8 w-8"})])}const AB=kt(LB,[["render",MB]]),SB={},BB={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function PB(e,t){const n=fe("IconArrowLeft");return D(),q("button",BB,[ee(n,{class:"h-8 w-8"})])}const DB=kt(SB,[["render",PB]]),TB={},RB={class:"p-2 box-border flex justify-between"};function OB(e,t){return D(),q("div",RB,[$("div",null,[xt(e.$slots,"default")]),$("div",null,[xt(e.$slots,"right")])])}const FB=kt(TB,[["render",OB]]),IB={},NB={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function zB(e,t){const n=fe("IconClose");return D(),q("button",NB,[ee(n)])}const jB=kt(IB,[["render",zB]]),GB={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},VB={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},HB=["textContent"],UB=["alt","src"],$B={class:"bottom-0 fixed max-w-full w-full"},qB={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},ZB={class:"flex justify-center"},KB={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(e,{emit:t}){const n=e,r=t,a=({key:x})=>{switch(x){case"ArrowLeft":n.previous&&r("previous");break;case"ArrowRight":n.next&&r("next");break;case"Escape":r("close");break}},o=Ze(null),u=Ze(!1),d=Ze(null),p=We(()=>n.images[n.index]);document.addEventListener("keyup",a);function g(){u.value=!1,d.value="Image was not found or format is not supported"}function y(){u.value=!1}return bn(()=>{o.value.addEventListener("load",y),o.value.addEventListener("error",g),document.body.classList.add("overflow-hidden")}),Ar(()=>{document.removeEventListener("keyup",a),document.body.classList.remove("overflow-hidden")}),gn(()=>n.index,()=>{d.value=null,u.value=!0}),(x,E)=>{var B,j;const A=fe("VSpinner");return D(),q("div",GB,[$("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:E[3]||(E[3]=tu(()=>{},["stop"]))},[$("div",VB,[u.value?(D(),Ce(A,{key:0})):Fe("",!0),d.value?(D(),q("div",{key:1,class:"flex flex-col justify-center",textContent:Ie(d.value)},null,8,HB)):Fe("",!0),Fn($("img",{ref_key:"imageElement",ref:o,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:(j=(B=p.value)==null?void 0:B.depictions)==null?void 0:j.map(Q=>Q.label).join(";"),src:p.value.original,onClick:E[0]||(E[0]=Q=>r("close"))},null,8,UB),[[hc,!d.value]]),e.next?(D(),Ce(AB,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:E[1]||(E[1]=Q=>r("next"))})):Fe("",!0),e.previous?(D(),Ce(DB,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:E[2]||(E[2]=Q=>r("previous"))})):Fe("",!0)])]),$("div",$B,[$("div",qB,[ee(vB,{class:"my-auto",depictions:p.value.depictions},null,8,["depictions"]),ee(bB,{class:"my-auto",attribution:p.value.attribution},null,8,["attribution"]),ee(kB,{class:"my-auto",source:p.value.source},null,8,["source"])]),$("div",ZB,[ee(S1,{class:"pb-2",current:e.index,images:e.images,onSelectIndex:E[4]||(E[4]=Q=>r("selectIndex",Q)),onClick:E[5]||(E[5]=tu(()=>{},["stop"]))},null,8,["current","images"])])]),ee(FB,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:ie(()=>[ee(jB,{onClick:E[6]||(E[6]=Q=>r("close"))})]),default:ie(()=>[ee(wB,{"current-image":e.index,"total-images":e.images.length},null,8,["current-image","total-images"])]),_:1})])}}},WB="!container mx-auto p-4 sm:px-0 prose dark:prose-invert box-border",JB={__name:"MarkdownLayout.global",props:{tag:{type:String,default:"div"},frontmatter:{type:Object,required:!0}},setup(e){const t=e,n={fullwidth:"p-4 sm:px-0 prose dark:prose-invert max-w-none",blank:"sm:px-0 prose dark:prose-invert max-w-none"},r=We(()=>n[t.frontmatter.layout]||WB);return(a,o)=>(D(),Ce(Go(e.tag),{class:an(r.value)},{default:ie(()=>[xt(a.$slots,"default")]),_:3},8,["class"]))}},YB={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center"},XB={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full"},QB={__name:"VModal.global",emits:["close"],setup(e,{emit:t}){const n=t,r=a=>{a.key==="Escape"&&(a.stopPropagation(),n("close"))};return bn(()=>{document.addEventListener("keydown",r),document.body.classList.add("overflow-hidden")}),Ar(()=>{document.removeEventListener("keydown",r),document.body.classList.remove("overflow-hidden")}),(a,o)=>{const u=fe("IconClose");return D(),q("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:o[2]||(o[2]=d=>n("close")),onKey:o[3]||(o[3]=tu(d=>n("close"),["stop"]))},[$("div",{class:"h-full md:h-auto mx-auto md:max-h-[70vh] bg-base-foreground container",onClick:o[1]||(o[1]=tu(()=>{},["stop"]))},[$("div",YB,[xt(a.$slots,"header",{},()=>[o[4]||(o[4]=$("span",null,null,-1))]),ee(u,{class:"w-6 h-6 cursor-pointer opacity-50",onClick:o[0]||(o[0]=()=>n("close"))})]),$("div",XB,[xt(a.$slots,"default")]),$("div",null,[xt(a.$slots,"footer")])])],32)}}},eP={"aria-disabled":"false","aria-label":"Pagination",class:"flex flex-row text-sm"},tP=["disabled"],nP={role:"presentation",class:"page-item"},iP=["disabled"],rP={key:0,class:"border border-base-border px-2 py-1.5"},oP={key:0,class:"page-item"},sP=["disabled","onClick"],aP={key:1,class:"border border-base-border px-2 py-1.5"},uP={class:"page-item"},lP=["disabled"],cP={role:"presentation"},hP=["disabled"],dP={__name:"VPagination.global",props:{modelValue:{type:Number,required:!0},total:{type:Number,required:!0},per:{type:Number,required:!0},rangePages:{type:Number,default:5}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,a=We(()=>Math.ceil(n.total/n.per)),o=We({get:()=>n.modelValue,set:p=>{r("update:modelValue",p)}}),u=We(()=>n.modelValue+n.rangePages),d=We(()=>n.modelValue-n.rangePages);return(p,g)=>(D(),q("ul",eP,[$("li",null,[$("button",{type:"button",disabled:o.value<2||!a.value,"aria-label":"Go to first page",class:"border border-base-border rounded-l-md px-2 py-1.5",onClick:g[0]||(g[0]=y=>o.value=1)},"  ",8,tP)]),$("li",nP,[$("button",{type:"button",disabled:o.value<2||!a.value,"aria-label":"Go to previous page",class:"border border-base-border px-2 py-1.5",onClick:g[1]||(g[1]=y=>o.value--)},"  ",8,iP)]),e.modelValue>n.rangePages?(D(),q("li",rP," ... ")):Fe("",!0),(D(!0),q(Ge,null,dt(a.value,y=>(D(),q(Ge,{key:y},[y<u.value&&d.value<y?(D(),q("li",oP,[$("button",{type:"button","aria-label":"Go to page 1",disabled:o.value===y,class:an(["border","border-base-border","px-2","py-1.5",o.value===y?"text-primary-content bg-primary-color":"text-base-content"]),onClick:()=>o.value=y},Ie(y),11,sP)])):Fe("",!0)],64))),128)),a.value-e.modelValue>=e.rangePages?(D(),q("li",aP," ... ")):Fe("",!0),$("li",uP,[$("button",{type:"button","aria-label":"Go to next page",class:"border border-base-border px-2 py-1.5",disabled:o.value===a.value||!a.value,onClick:g[2]||(g[2]=()=>o.value++)},"  ",8,lP)]),$("li",cP,[$("button",{type:"button",disabled:o.value===a.value||!a.value,"aria-label":"Go to last page",class:"border border-base-border rounded-r-md px-2 py-1.5",onClick:g[3]||(g[3]=()=>o.value=a.value)},"  ",8,hP)])]))}},fP={__name:"ProjectStats.global",props:{data:{type:Array,default:()=>[]},tag:{type:String,default:"span"}},setup(e){const t=e,n=Ze({data:[]}),r=We(()=>t.data.map(u=>u.toLowerCase())),a=We(()=>{const u=n.value.data;return u.length?o(u):r.value.map(d=>[d,"??"])});function o(u){const d=t.data.length?u.filter(([p])=>r.value.includes(p)):u;return d.sort(([p],[g])=>r.value.indexOf(p)-r.value.indexOf(g)),d}return bn(()=>{fn.get("/stats").then(u=>{const d=Object.entries(u.data.data).map(([p,g])=>[p.toLowerCase(),g.toLocaleString()]);n.value.data=d})}),(u,d)=>(D(),Ce(Go(e.tag),null,{default:ie(()=>[(D(!0),q(Ge,null,dt(a.value,([p,g],y)=>xt(u.$slots,"default",{type:p,value:g},()=>[$("span",null,Ie(p)+": "+Ie(g)+Ie(y<a.value.length-1?"; ":""),1)])),256))]),_:3}))}},pP={key:1},mP={__name:"ClientOnly.global",setup(e){const t=Ze(!1);return bn(()=>{t.value=!0}),(n,r)=>t.value?xt(n.$slots,"default",{key:0}):(D(),q("div",pP))}},_P={class:"inline-flex items-center text-sm"},gP={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(e){return(t,n)=>{const r=fe("router-link");return D(),q("li",_P,[ee(r,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-base-content border-b-2 border-transparent","active-class":"border-b-2 !border-secondary-color font-medium",to:e.to},{default:ie(()=>[xt(t.$slots,"default")]),_:3},8,["to"])])}}},yP={},bP={class:"inline-flex items-center space-x-1 md:space-x-3"};function vP(e,t){return D(),q("ul",bP,[xt(e.$slots,"default")])}const xP=kt(yP,[["render",vP]]),kP={},CP={class:"relative sm:rounded-lg"},wP={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function LP(e,t){return D(),q("div",CP,[$("table",wP,[xt(e.$slots,"default")])])}const EP=kt(kP,[["render",LP]]),MP={},AP={class:"normal-case text-xs"};function SP(e,t){return D(),q("tbody",AP,[xt(e.$slots,"default")])}const BP=kt(MP,[["render",SP]]),PP={},DP={class:"px-4 py-4"};function TP(e,t){return D(),q("td",DP,[xt(e.$slots,"default")])}const RP=kt(PP,[["render",TP]]),OP={},FP={class:"bg-base-foreground border-b border-base-border"};function IP(e,t){return D(),q("tr",FP,[xt(e.$slots,"default")])}const NP=kt(OP,[["render",IP]]),zP={},jP={class:"text-xs text-base-content uppercase bg-base-background"};function GP(e,t){return D(),q("thead",jP,[xt(e.$slots,"default")])}const VP=kt(zP,[["render",GP]]),HP={},UP={class:"px-4 py-3"};function $P(e,t){return D(),q("th",UP,[xt(e.$slots,"default")])}const qP=kt(HP,[["render",$P]]),ZP={};function KP(e,t){return D(),q("tr",null,[xt(e.$slots,"default")])}const WP=kt(ZP,[["render",KP]]);var JP={base_url:"/hoppers/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"Report missing information, e.g., taxon names, combinations, citations, or incorrect data. The issue could also be reported by email to Dmitry Dmitriev.",url:"https://github.com/sfg-taxonpages/hoppers/issues/new"},{label:"Website",description:"Report if a link, panel, or any other feature of the website is not working as expected, as well as any suggestions on the website improvement.",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:descendants","panel:nomenclature"],[{id:"panel:map",bind:{cluster:!1}},"panel:type","panel:type-specimen","panel:keys","panel:etymology","panel:content","panel:nomenclature-references","panel:statistics"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"TaxonPages: World Auchenorrhyncha Database",project_citation:"World Auchenorrhyncha Database. TaxonPages",project_url:"https://hoppers.speciesfile.org",project_authors:"Dmitriev, D.A., Angelova, R., Anufriev, G.A., Bartlett, C.R., Blanco-Rodrguez, E., Borodin, O.I., Cao, Y.-H., Deitz, L.L., Dietrich, C.H., Dmitrieva, M.O., El-Sonbati, S.A., Evangelista de Souza, O., Gjonov, I.V., Gonalves, A.C., Gonalves, C.C., Hendrix, S., McKamey, S., Kohler, M., Kunz, G., Malenovsk, I., Morris, B.O., Novoselova, M., Pinedo-Escatel, J.A., Rakitov, R.A., Rothschild, M.J., Sanborn, A.F., Takiya, D.M., Wallace, M.S., Zahniser, J.N. (2022 onward).",metadata:[{name:"description",content:"World Auchenorrhyncha database"},{name:"keywords",content:"taxonpages, species, speciesfilegroup, Species File Group, Auchenorrhyncha, Hemiptera, Homoptera"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.png",header_logo_text:"World Auchenorrhyncha Database",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://i.creativecommons.org/p/zero/1.0/88x31.png",copyright_image_link:"https://creativecommons.org/publicdomain/zero/1.0/",copyright_text:"Creative Commons  CC0, media may have different copyright",url:"https://sfg.taxonworks.org/api/v1",project_token:"ZEJhFp9sq8kBfks15qAbAg",analytics_services:{enableDev:!0,analytics:[{id:"G-HWBZCRJR1T",disable:!1,config:{cookie_domain:"auto",cookie_expires:63072e3,cookie_prefix:"none",cookie_update:!0,cookie_flags:"",send_page_view:!0,allow_google_signals:!0,allow_ad_personalization_signals:!1},consentDefaults:{analytics_storage:"granted",ad_storage:"denied",wait_for_update:500},persistentValues:{currency:"USD"}}]}};const YP={key:1},XP={class:"font-normal p-5 pt-0 text-base"},QP={class:"mx-5 my-2"},eD=["href"],tD={key:0,class:"text-sm"},nD="https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose",iD={__name:"TrackerReport.global",props:{buttonClass:{type:String,default:void 0},label:{type:String,default:void 0},icon:{type:Boolean,default:!1},tag:{type:String,default:"VButton"}},setup(e){const{issue_trackers:t}=JP,n=Ze(!1);function r(){t?n.value=!0:window.open(nD,"_blank")}return(a,o)=>{const u=fe("IconGithub"),d=fe("VModal");return D(),q(Ge,null,[(D(),Ce(Go(e.tag),{type:"button",title:"Report a problem",class:an(e.buttonClass),onClick:r},{default:ie(()=>[e.icon?(D(),Ce(u,{key:0,class:"w-5 h-5"})):Fe("",!0),e.label?(D(),q("span",YP,Ie(e.label),1)):Fe("",!0)]),_:1},8,["class"])),n.value?(D(),Ce(d,{key:0,class:"text-base-content",onClose:o[0]||(o[0]=p=>n.value=!1)},{header:ie(()=>o[1]||(o[1]=[$("h1",{class:"font-medium text-base px-1"},"Report a problem",-1)])),default:ie(()=>[$("div",XP,[o[2]||(o[2]=$("span",null,"My issue is with:",-1)),$("ul",QP,[(D(!0),q(Ge,null,dt(ze(t),p=>(D(),q("li",null,[$("a",{href:p.url,target:"_blank"},Ie(p.label),9,eD),p.description?(D(),q("span",tD," - "+Ie(p.description),1)):Fe("",!0)]))),256))])])]),_:1})):Fe("",!0)],64)}}},rD={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(e){const t=pb(),n=We(()=>{var o;const a=(o=t.default)==null?void 0:o.call(t);return r(a)});function r(a){if(!a)return!0;const[o]=a;let u=o.children;return o.el!==null||u!==null}return(a,o)=>(D(),q(Ge,null,[xt(a.$slots,"default"),n.value?(D(),q("span",{key:0,class:an(e.class)},[(D(!0),q(Ge,null,dt(e.lines,u=>(D(),q("span",{key:u,class:"inline-block w-full rounded-sm bg-base-muted leading-5 animate-pulse"},"  "))),128))],2)):Fe("",!0)],64))}},oD=["innerHTML"],sD={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({})},legendClass:{type:String,default:"mt-5"},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({})},logoClass:{type:String,default:"w-12 h-12"}},setup(e){const t={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},n=e,r=Ze(null),a=Ze({}),o=Ze(void 0);bn(()=>{u(),n.resize&&!n.fullScreen&&p()}),Ar(()=>clearInterval(o.value));const u=()=>{const g=n.target?document.querySelector(n.target):r.value.parentNode;Object.assign(a.value,n.fullScreen?t:d(g))},d=g=>{const y=g.getBoundingClientRect(),x=window.getComputedStyle(g,null),E=parseInt(x.getPropertyValue("padding-left"),10),A=parseInt(x.getPropertyValue("padding-right"),10),B=parseInt(x.getPropertyValue("padding-top"),10),j=parseInt(x.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:y.width-E-A+"px",height:y.height-B-j+"px"}},p=()=>{o.value=setInterval(u(),500)};return(g,y)=>(D(),q("div",{ref_key:"spinnerElement",ref:r,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:Si(a.value)},[$("div",{class:an(["tw-spinner",`tw-spinner-${e.spinnerPosition}`])},[e.showSpinner?(D(),q("svg",{key:0,style:Si(e.logoSize),"aria-hidden":"true",class:an(["text-base-lighter","animate-spin fill-primary-color",e.logoClass]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y[0]||(y[0]=[$("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),$("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),6)):Fe("",!0),y[1]||(y[1]=$("span",{class:"sr-only"},"Loading...",-1)),e.legend.length?(D(),q("div",{key:1,class:an(["text-base-content","text-center",e.legendClass]),style:Si(e.legendStyle)},[e.showLegend?(D(),q("span",{key:0,innerHTML:e.legend},null,8,oD)):Fe("",!0),xt(g.$slots,"default",{},void 0,!0)],6)):Fe("",!0)],2)],4))}},aD=kt(sD,[["__scopeId","data-v-3927b18d"]]);function uD(e){lD(e,Object.assign({"/components/FossilSpeciesCount.global.vue":t5,"/components/ValidSpeciesCount.global.vue":n5,"/src/components/AddressMaker.global.vue":a5,"/src/components/Animation/AnimationOpacity.global.vue":c5,"/src/components/Autocomplete/Autocomplete.global.vue":M1,"/src/components/Autocomplete/AutocompleteOtu.global.vue":C5,"/src/components/Button/ButtonExpand.global.vue":L5,"/src/components/Button/VButton.global.vue":E5,"/src/components/Card/VCard.global.vue":B5,"/src/components/Card/VCardContent.global.vue":R5,"/src/components/Card/VCardHeader.global.vue":N5,"/src/components/Clipboard/VClipboard.global.vue":z5,"/src/components/Dropdown/Dropdown.global.vue":V5,"/src/components/Gallery/GalleryCarousel/GalleryCarousel.global.vue":K5,"/src/components/Gallery/GalleryImage.global.vue":oS,"/src/components/Gallery/GalleryMosaic/GalleryMosaic.global.vue":uS,"/src/components/Icon/IconArrowDown.global.vue":dS,"/src/components/Icon/IconArrowLeft.global.vue":_S,"/src/components/Icon/IconArrowRight.global.vue":vS,"/src/components/Icon/IconCheck.global.vue":wS,"/src/components/Icon/IconClipboard.global.vue":AS,"/src/components/Icon/IconClose.global.vue":DS,"/src/components/Icon/IconDocument.global.vue":FS,"/src/components/Icon/IconDownload.global.vue":jS,"/src/components/Icon/IconGithub.global.vue":US,"/src/components/Icon/IconHamburger.global.vue":KS,"/src/components/Icon/IconJson.global.vue":XS,"/src/components/Icon/IconMinusCircle.global.vue":nB,"/src/components/Icon/IconPlusCircle.global.vue":sB,"/src/components/Icon/IconSearch.global.vue":cB,"/src/components/Icon/IconTrash.global.vue":pB,"/src/components/Icon/IconWarning.global.vue":yB,"/src/components/ImageViewer/ImageViewer.global.vue":KB,"/src/components/Markdown/MarkdownLayout.global.vue":JB,"/src/components/Modal/VModal.global.vue":QB,"/src/components/Pagination/VPagination.global.vue":dP,"/src/components/ProjectStats.global.vue":fP,"/src/components/Ssr/ClientOnly.global.vue":mP,"/src/components/Tab/TabItem.global.vue":gP,"/src/components/Tab/TabMenu.global.vue":xP,"/src/components/Table/VTable.global.vue":EP,"/src/components/Table/VTableBody.global.vue":BP,"/src/components/Table/VTableBodyCell.global.vue":RP,"/src/components/Table/VTableBodyRow.global.vue":NP,"/src/components/Table/VTableHeader.global.vue":VP,"/src/components/Table/VTableHeaderCell.global.vue":qP,"/src/components/Table/VTableHeaderRow.global.vue":WP,"/src/components/TrackerReport.global.vue":iD,"/src/components/VSkeleton.global.vue":rD,"/src/components/VSpinner.global.vue":aD}))}function lD(e,t){Object.entries(t).forEach(([r,a])=>{const o=r.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");e.component(o,a)})}const cD=window.location.origin,em=window.initialState,{app:Df,router:hD,store:dD}=D8({originUrl:cD});em&&(dD.state.value=em);Q8(Df);uD(Df);hD.isReady().then(()=>{Df.mount("#app")});export{Ge as F,W3 as R,fe as a,D as b,Ce as c,ee as d,Fe as e,q as f,dt as g,Xe as h,$ as i,fn as m,Vm as o,Ze as r,Ie as t,ze as u,ie as w};
